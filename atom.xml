<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>wangba&#39;s blogs</title>
  
  
  <link href="http://wangba.me/atom.xml" rel="self"/>
  
  <link href="http://wangba.me/"/>
  <updated>2020-10-22T13:30:43.420Z</updated>
  <id>http://wangba.me/</id>
  
  <author>
    <name>wangba</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>143. Reorder List</title>
    <link href="http://wangba.me/2020/10/22/143-Reorder-List/"/>
    <id>http://wangba.me/2020/10/22/143-Reorder-List/</id>
    <published>2020-10-22T13:26:16.000Z</published>
    <updated>2020-10-22T13:30:43.420Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="143-Reorder-List-Medium"><a href="#143-Reorder-List-Medium" class="headerlink" title="143. Reorder List Medium"></a><a href="https://leetcode-cn.com/problems/reorder-list/">143. Reorder List</a> <font color="#fd9016" size=5>Medium</font></h2><p>Given a singly linked list <em>L</em>: <em>L</em>0â†’<em>L</em>1â†’â€¦â†’<em>L**n</em>-1â†’<em>L</em>n,<br>reorder it to: <em>L</em>0â†’<em>L**n</em>â†’<em>L</em>1â†’<em>L**n</em>-1â†’<em>L</em>2â†’<em>L**n</em>-2â†’â€¦</p><p>You may <strong>not</strong> modify the values in the listâ€™s nodes, only nodes itself may be changed.</p><p><strong>Example 1:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Given 1-&gt;2-&gt;3-&gt;4, reorder it to 1-&gt;4-&gt;2-&gt;3.</span><br></pre></td></tr></table></figure><p><strong>Example 2:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Given 1-&gt;2-&gt;3-&gt;4-&gt;5, reorder it to 1-&gt;5-&gt;2-&gt;4-&gt;3.</span><br></pre></td></tr></table></figure><h2 id="æ€è·¯ï¼š"><a href="#æ€è·¯ï¼š" class="headerlink" title="æ€è·¯ï¼š"></a>æ€è·¯ï¼š</h2><h3 id="æ€è·¯ä¸€ï¼šæš´åŠ›è§£æ³•"><a href="#æ€è·¯ä¸€ï¼šæš´åŠ›è§£æ³•" class="headerlink" title="æ€è·¯ä¸€ï¼šæš´åŠ›è§£æ³•"></a>æ€è·¯ä¸€ï¼šæš´åŠ›è§£æ³•</h3><p>ç›´æ¥å°†é“¾è¡¨å­˜åœ¨æ•°ç»„ä¸­ï¼Œç„¶åè¿›è¡Œæ“ä½œï¼Œä¸ç”¨è€ƒè™‘æ–­é“¾ç­‰é—®é¢˜ï¼Œç›´æ¥ç”¨æ•°ç»„ä¸‹æ ‡è§£å†³ä¸€åˆ‡</p><p><strong>ä»£ç ï¼š</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">reorderList</span><span class="params">(ListNode head)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// Given 1-&gt;2-&gt;3-&gt;4-&gt;5, reorder it to 1-&gt;5-&gt;2-&gt;4-&gt;3.</span></span><br><span class="line">    <span class="comment">// 1. æš´åŠ›è§£æ³•</span></span><br><span class="line">    <span class="keyword">if</span> (head == <span class="keyword">null</span>) <span class="keyword">return</span>;</span><br><span class="line">    List&lt;ListNode&gt; list = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="keyword">while</span> (head != <span class="keyword">null</span>) &#123;</span><br><span class="line">        list.add(head);</span><br><span class="line">        head = head.next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> i = <span class="number">0</span>, j = list.size() - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span> (i &lt; j) &#123;</span><br><span class="line">        list.get(i).next = list.get(j);</span><br><span class="line">        i++;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (i == j) &#123;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        list.get(j).next = list.get(i);</span><br><span class="line">        j--;</span><br><span class="line">    &#125;</span><br><span class="line">    list.get(j).next = <span class="keyword">null</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>æ—¶é—´å¤æ‚åº¦ï¼šO(n)</p><p>ç©ºé—´å¤æ‚åº¦ï¼šO(n)</p></blockquote><h3 id="æ€è·¯äºŒï¼šé€’å½’"><a href="#æ€è·¯äºŒï¼šé€’å½’" class="headerlink" title="æ€è·¯äºŒï¼šé€’å½’"></a>æ€è·¯äºŒï¼šé€’å½’</h3><p>çœ‹åˆ°é€’å½’è¿˜æ˜¯è¦æƒ³åˆ°ä¸¤ä¸ªæ–¹é¢çš„é—®é¢˜ï¼š</p><ul><li>å‡ºå£</li><li>è°ƒç”¨é€’å½’å‡½æ•°çš„ç»Ÿä¸€æ“ä½œ</li></ul><p>é¦–å…ˆè¦æ˜ç¡®é€’å½’ä¼ å‡ºæ¥çš„æ˜¯å•¥ï¼Œä¸ºä»€ä¹ˆä½¿ç”¨æ€è·¯ä¸€çš„æƒ³æ³•å°±æ˜¯ï¼Œæˆ‘æƒ³æ‰¾æœ€åä¸€ä¸ªå…ƒç´ ï¼Œä½†æ˜¯æ¯æ¬¡éƒ½è¦éå†ä¸€éæ‰èƒ½æ‰¾åˆ°é‚£ä¸ªå…ƒç´ ï¼Œæ‰€ä»¥ä½¿ç”¨äº†æ•°ç»„ï¼Œé€šè¿‡ä¸‹æ ‡è·å–å…¶ä¸­çš„å…ƒç´ ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬åº”è¯¥é€’å½’å‡ºæ¥çš„å±€éƒ¨é“¾è¡¨çš„å°¾å…ƒç´ ï¼Œçœ‹ä¸‹é¢çš„ğŸŒ°ï¼š</p><p><img src="https://gitee.com/wonderfuleight/blogImg/raw/master//20201022204518.png" class="lazyload" data-srcset="https://gitee.com/wonderfuleight/blogImg/raw/master//20201022204518.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="image-20201022204517106"></p><p>ç°åœ¨é€’å½’åˆ°å‡ºå£ï¼Œé‚£ä¹ˆæˆ‘ä»¬åº”è¯¥å°† <code>tail</code> ä¼ å‡ºæ¥</p><p>ç¬¬äºŒï¼Œæœ¬é¢˜çš„å‡ºå£è¦åˆ†ä¸ºä¸¤ç§æƒ…å†µï¼šå¥‡æ•°ä¸ªå’Œå¶æ•°</p><p>å¥‡æ•°ï¼šç›´æ¥ä¼ å‡ºæ¥</p><p>å¶æ•°ï¼šå°†å®ƒçš„ <code>next</code> ä¼ å‡ºæ¥</p><p><strong>ä»£ç ï¼š</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">reorderList</span><span class="params">(ListNode head)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// Given 1-&gt;2-&gt;3-&gt;4-&gt;5, reorder it to 1-&gt;5-&gt;2-&gt;4-&gt;3.</span></span><br><span class="line">    <span class="comment">// 2. é€’å½’æ³•</span></span><br><span class="line">    <span class="keyword">if</span> (head == <span class="keyword">null</span> || head.next == <span class="keyword">null</span>) <span class="keyword">return</span>;</span><br><span class="line">    <span class="keyword">int</span> len = <span class="number">0</span>;</span><br><span class="line">    ListNode count = head;</span><br><span class="line">    <span class="keyword">while</span> (count != <span class="keyword">null</span>) &#123;</span><br><span class="line">        count = count.next;</span><br><span class="line">        len++;</span><br><span class="line">    &#125;</span><br><span class="line">    helper(head, len);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> ListNode <span class="title">helper</span><span class="params">(ListNode listNode, <span class="keyword">int</span> length)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (length == <span class="number">1</span>) &#123;</span><br><span class="line">        ListNode tail = listNode.next;</span><br><span class="line">        listNode.next = <span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">return</span> tail;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (length == <span class="number">2</span>) &#123;</span><br><span class="line">        ListNode tail = listNode.next.next;</span><br><span class="line">        listNode.next.next = <span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">return</span> tail;</span><br><span class="line">    &#125;</span><br><span class="line">    ListNode helper = helper(listNode.next, length - <span class="number">2</span>);</span><br><span class="line">    ListNode cur = listNode.next;</span><br><span class="line">    ListNode next = helper.next;</span><br><span class="line">    listNode.next = helper;</span><br><span class="line">    helper.next = cur;</span><br><span class="line">    <span class="keyword">return</span> next;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æ€è·¯ä¸‰ï¼šåˆ†ç»„è§£æ³•"><a href="#æ€è·¯ä¸‰ï¼šåˆ†ç»„è§£æ³•" class="headerlink" title="æ€è·¯ä¸‰ï¼šåˆ†ç»„è§£æ³•"></a>æ€è·¯ä¸‰ï¼šåˆ†ç»„è§£æ³•</h3><p>è¿˜å¯ä»¥å°†è¿™ä¸ªé¢˜åˆ†ä¸ºä»¥ä¸‹å‡ ä¸ªéƒ¨åˆ†ï¼š</p><ul><li>æ‰¾åˆ°ä¸­ç‚¹ï¼Œåˆ†å‰²æˆä¸¤ä¸ªé“¾è¡¨</li><li>å¯¹åä¸€ä¸ªé“¾è¡¨è¿›è¡Œé€†åº</li><li>åŒæŒ‡é’ˆåŒæ­¥è¿›è¡Œï¼Œå°†åé¢é“¾è¡¨ä¸å‰é¢çš„é“¾è¡¨è¿›è¡Œè¿æ¥</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">1 -&gt; 2 -&gt; 3 -&gt; 4 -&gt; 5 -&gt; 6</span><br><span class="line"></span><br><span class="line">åˆ†å‰²ï¼š1 -&gt; 2 -&gt; 3</span><br><span class="line">     4 -&gt; 5 -&gt; 6</span><br><span class="line">     </span><br><span class="line">é€†åºï¼š6 -&gt; 5 -&gt; 4</span><br><span class="line">     </span><br><span class="line">è¿æ¥ï¼š1 -&gt; 6 -&gt; 2 -&gt; 5 -&gt; 3 -&gt; 4</span><br></pre></td></tr></table></figure><p><strong>ä»£ç ï¼š</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">reorderList</span><span class="params">(ListNode head)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// Given 1-&gt;2-&gt;3-&gt;4-&gt;5, reorder it to 1-&gt;5-&gt;2-&gt;4-&gt;3.</span></span><br><span class="line">    <span class="keyword">if</span> (head == <span class="keyword">null</span> || head.next == <span class="keyword">null</span>) <span class="keyword">return</span>;</span><br><span class="line">    ListNode slow = head, fast = head;</span><br><span class="line">    <span class="keyword">while</span> (fast.next != <span class="keyword">null</span> &amp;&amp; fast.next.next != <span class="keyword">null</span>) &#123;</span><br><span class="line">        slow = slow.next;</span><br><span class="line">        fast = fast.next.next;</span><br><span class="line">    &#125;</span><br><span class="line">    ListNode cur = slow.next;</span><br><span class="line">    slow.next = <span class="keyword">null</span>;</span><br><span class="line">    ListNode next = reverseList(cur);</span><br><span class="line">    <span class="keyword">while</span> (head != <span class="keyword">null</span> &amp;&amp; next != <span class="keyword">null</span>) &#123;</span><br><span class="line">        ListNode l1 = head.next;</span><br><span class="line">        ListNode l2 = next.next;</span><br><span class="line">        head.next = next;</span><br><span class="line">        next.next = l1;</span><br><span class="line">        head = l1;</span><br><span class="line">        next = l2;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> ListNode <span class="title">reverseList</span><span class="params">(ListNode head)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// é€’å½’æ³•</span></span><br><span class="line">    <span class="keyword">if</span> (head == <span class="keyword">null</span> || head.next == <span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> head;</span><br><span class="line">    &#125;</span><br><span class="line">    ListNode listNode = reverseList(head.next);</span><br><span class="line">    head.next.next = head;</span><br><span class="line">    head.next = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">return</span> listNode;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>æ—¶é—´å¤æ‚åº¦ï¼šO(n)</p><p>ç©ºé—´å¤æ‚åº¦ï¼šO(1)</p></blockquote><blockquote><p>æ³¨ï¼šåœ¨ LeetCode ä¸­ï¼Œé€’å½’æ³•æ—¶é—´å¤æ‚åº¦å¯ä»¥ beats 100%ï¼Œç¬¬ä¸‰ç§æ–¹æ³•ä¸å¯ä»¥ï¼ŒæŒ‰ç…§åˆ†ææ¥è¯´ï¼Œåº”è¯¥æ˜¯ä¸€æ ·çš„</p></blockquote>]]></content>
    
    
    <summary type="html">ä¸€å¤©ä¸€é“åŠ›æ‰£é¢˜ï¼Œå—¤ä¹‹ä»¥é¼»ï¼ŒåŠä¿¡åŠç–‘ï¼Œç™¾æ„Ÿäº¤é›†ï¼Œå…³é—¨å¤§å‰ï¼Œskr skr ! ! !</summary>
    
    
    
    <category term="LeetCodeçœŸçš„éš¾ç³»åˆ—" scheme="http://wangba.me/categories/LeetCode%E7%9C%9F%E7%9A%84%E9%9A%BE%E7%B3%BB%E5%88%97/"/>
    
    
    <category term="Leetcode" scheme="http://wangba.me/tags/Leetcode/"/>
    
    <category term="LinkedList" scheme="http://wangba.me/tags/LinkedList/"/>
    
  </entry>
  
  <entry>
    <title>142. Linked List Cycle II</title>
    <link href="http://wangba.me/2020/10/22/142-Linked-List-Cycle-II/"/>
    <id>http://wangba.me/2020/10/22/142-Linked-List-Cycle-II/</id>
    <published>2020-10-22T13:25:28.000Z</published>
    <updated>2020-10-22T13:29:22.519Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="142-Linked-List-Cycle-II-Medium"><a href="#142-Linked-List-Cycle-II-Medium" class="headerlink" title="142. Linked List Cycle II Medium"></a><a href="https://leetcode-cn.com/problems/linked-list-cycle-ii/">142. Linked List Cycle II</a> <font color="#fd9016" size=5>Medium</font></h2><p>Given a linked list, return the node where the cycle begins. If there is no cycle, return <code>null</code>.</p><p>There is a cycle in a linked list if there is some node in the list that can be reached again by continuously following the <code>next</code> pointer. Internally, <code>pos</code> is used to denote the index of the node that tailâ€™s <code>next</code> pointer is connected to. <strong>Note that <code>pos</code> is not passed as a parameter</strong>.</p><p><strong>Notice</strong> that you <strong>should not modify</strong> the linked list.</p><p><strong>Follow up:</strong></p><p>Can you solve it using <code>O(1)</code> (i.e. constant) memory?</p><p><strong>Example 1:</strong></p><p><img src="https://assets.leetcode.com/uploads/2018/12/07/circularlinkedlist.png" class="lazyload" data-srcset="https://assets.leetcode.com/uploads/2018/12/07/circularlinkedlist.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="img"></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Input: head &#x3D; [3,2,0,-4], pos &#x3D; 1</span><br><span class="line">Output: tail connects to node index 1</span><br><span class="line">Explanation: There is a cycle in the linked list, where tail connects to the second node.</span><br></pre></td></tr></table></figure><p><strong>Example 2:</strong></p><p><img src="https://assets.leetcode.com/uploads/2018/12/07/circularlinkedlist_test2.png" class="lazyload" data-srcset="https://assets.leetcode.com/uploads/2018/12/07/circularlinkedlist_test2.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="img"></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Input: head &#x3D; [1,2], pos &#x3D; 0</span><br><span class="line">Output: tail connects to node index 0</span><br><span class="line">Explanation: There is a cycle in the linked list, where tail connects to the first node.</span><br></pre></td></tr></table></figure><p><strong>Example 3:</strong></p><p><img src="https://assets.leetcode.com/uploads/2018/12/07/circularlinkedlist_test3.png" class="lazyload" data-srcset="https://assets.leetcode.com/uploads/2018/12/07/circularlinkedlist_test3.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="img"></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Input: head &#x3D; [1], pos &#x3D; -1</span><br><span class="line">Output: no cycle</span><br><span class="line">Explanation: There is no cycle in the linked list.</span><br></pre></td></tr></table></figure><p><strong>Constraints:</strong></p><ul><li>The number of the nodes in the list is in the range <code>[0, 104]</code>.</li><li><code>-105 &lt;= Node.val &lt;= 105</code></li><li><code>pos</code> is <code>-1</code> or a <strong>valid index</strong> in the linked-list.</li></ul><h2 id="æ€è·¯ï¼š"><a href="#æ€è·¯ï¼š" class="headerlink" title="æ€è·¯ï¼š"></a>æ€è·¯ï¼š</h2><h3 id="æ€è·¯ä¸€ï¼š"><a href="#æ€è·¯ä¸€ï¼š" class="headerlink" title="æ€è·¯ä¸€ï¼š"></a>æ€è·¯ä¸€ï¼š</h3><p>å¤§ä½“æ€è·¯è¿˜æ˜¯å’Œ <a href="">141</a> ä¸€æ ·çš„ï¼Œå”¯ä¸€çš„åç»­æ“ä½œå°±æ˜¯ï¼šè®©ç›¸é‡ç‚¹å’Œå¼€å§‹ç‚¹ä¸€èµ·å†å‘åèµ°ï¼Œè¿™ä¸¤ä¸ªç‚¹å†æ¬¡ç›¸é‡çš„ç‚¹å°±æ˜¯å…¥å£ç‚¹ï¼Œå…·ä½“å¯ä»¥å‚è€ƒä¸‹é¢çš„å›¾å’Œæ•°å­¦è¯æ˜ï¼š</p><p><img src="https://gitee.com/wonderfuleight/blogImg/raw/master//20201022155330.png" class="lazyload" data-srcset="https://gitee.com/wonderfuleight/blogImg/raw/master//20201022155330.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="image-20201022155322951"></p><p><strong>æ•°å­¦è¯æ˜</strong></p><p>æ¡ä»¶ï¼šç¯çš„ç»“ç‚¹æ•° <code>N</code>ã€å¼€å§‹ç‚¹åˆ°å…¥å£ç‚¹è·ç¦» <code>X</code>ã€å…¥å£ç‚¹åˆ°ç›¸é‡ç‚¹è·ç¦» <code>Y</code> (é€†æ—¶é’ˆçš„è·ç¦»ï¼Œä¸Šå›¾ä¸­é•¿çš„é‚£éƒ¨åˆ†)</p><p>å‡è®¾ï¼š<strong>slow</strong> ç»“ç‚¹æ€»å…±èµ°äº† <code>T</code> æ­¥åˆ°ç›¸é‡ç‚¹ï¼›åˆ™ <strong>fast</strong> ç»“ç‚¹å…±èµ°äº† <code>2T</code> æ­¥</p><p>â€‹              <strong>slow</strong> ç»“ç‚¹æ€»å…±èµ°äº† <code>K1</code> åœˆï¼› <strong>fast</strong> ç»“ç‚¹å…±èµ°äº† <code>K2</code> åœˆ</p><p>åˆ™ï¼š</p><p><code>T = X + K1 * N + Y </code>                :one:</p><p><code>2T = X + K2 * N + Y</code>             :two:</p><p>åŒ–ç®€ï¼š</p><p><code>T = (K2 - K1) * N</code></p><p>å¸¦åˆ° :one: ä¸­ï¼š</p><p><code>X = (K2 - 2K1 -1) * N + (N - Y)</code></p><p>å…¶ä¸­ï¼š</p><p><code>(N - Y)</code> è¡¨ç¤ºç›¸é‡ç‚¹åˆ°å…¥å£ç‚¹çš„è·ç¦»</p><p>è¿™æ—¶å€™å°±å¯ä»¥è¯´ï¼šæˆ‘ç›¸é‡ç‚¹çš„ç»“ç‚¹å‘å‰èµ°äº† <code>(K2 - 2K1 -1)</code> åœˆå›åˆ°äº†ç›¸é‡ç‚¹ï¼Œå†èµ°äº† <code>(N - Y)</code> åˆ°äº†å…¥å£ç‚¹</p><p>ç®€ç›´å°±æ˜¯ <code>Amazing</code> å•Šï¼</p><p><strong>ä»£ç ï¼š</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> ListNode <span class="title">detectCycle</span><span class="params">(ListNode head)</span> </span>&#123;</span><br><span class="line">    ListNode slow = head, fast = head;</span><br><span class="line">    ListNode temp = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">while</span> (fast != <span class="keyword">null</span> &amp;&amp; fast.next != <span class="keyword">null</span>) &#123;</span><br><span class="line">        slow = slow.next;</span><br><span class="line">        fast = fast.next.next;</span><br><span class="line">        <span class="keyword">if</span> (slow == fast) &#123;</span><br><span class="line">            temp = slow;</span><br><span class="line">            <span class="keyword">while</span> (head != temp) &#123;</span><br><span class="line">                head = head.next;</span><br><span class="line">                temp = temp.next;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> head;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>æ—¶é—´å¤æ‚åº¦ï¼šO()</p><p>ç©ºé—´å¤æ‚åº¦ï¼šO()</p></blockquote>]]></content>
    
    
    <summary type="html">ä¸€å¤©ä¸€é“åŠ›æ‰£é¢˜ï¼Œå—¤ä¹‹ä»¥é¼»ï¼ŒåŠä¿¡åŠç–‘ï¼Œç™¾æ„Ÿäº¤é›†ï¼Œå…³é—¨å¤§å‰ï¼Œskr skr ! ! !</summary>
    
    
    
    <category term="LeetCodeçœŸçš„éš¾ç³»åˆ—" scheme="http://wangba.me/categories/LeetCode%E7%9C%9F%E7%9A%84%E9%9A%BE%E7%B3%BB%E5%88%97/"/>
    
    
    <category term="Leetcode" scheme="http://wangba.me/tags/Leetcode/"/>
    
    <category term="LinkedList" scheme="http://wangba.me/tags/LinkedList/"/>
    
  </entry>
  
  <entry>
    <title>0092. Reverse Linked List II</title>
    <link href="http://wangba.me/2020/10/21/0092-Reverse-Linked-List-II/"/>
    <id>http://wangba.me/2020/10/21/0092-Reverse-Linked-List-II/</id>
    <published>2020-10-21T12:14:42.000Z</published>
    <updated>2020-10-21T12:17:23.402Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="92-Reverse-Linked-List-II-Medium"><a href="#92-Reverse-Linked-List-II-Medium" class="headerlink" title="92. Reverse Linked List II Medium"></a><a href="https://leetcode-cn.com/problems/reverse-linked-list-ii/">92. Reverse Linked List II</a> <font color="#fd9016" size=5>Medium</font></h2><p>éš¾åº¦ä¸­ç­‰551</p><p>Reverse a linked list from position <em>m</em> to <em>n</em>. Do it in one-pass.</p><p><strong>Note:</strong> 1 â‰¤ <em>m</em> â‰¤ <em>n</em> â‰¤ length of list.</p><p><strong>Example:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: 1-&gt;2-&gt;3-&gt;4-&gt;5-&gt;NULL, m &#x3D; 2, n &#x3D; 4</span><br><span class="line">Output: 1-&gt;4-&gt;3-&gt;2-&gt;5-&gt;NULL</span><br></pre></td></tr></table></figure><h2 id="æ€è·¯ï¼š"><a href="#æ€è·¯ï¼š" class="headerlink" title="æ€è·¯ï¼š"></a>æ€è·¯ï¼š</h2><h3 id="æ€è·¯ä¸€ï¼šåˆ©ç”¨åè½¬é“¾è¡¨"><a href="#æ€è·¯ä¸€ï¼šåˆ©ç”¨åè½¬é“¾è¡¨" class="headerlink" title="æ€è·¯ä¸€ï¼šåˆ©ç”¨åè½¬é“¾è¡¨"></a>æ€è·¯ä¸€ï¼šåˆ©ç”¨åè½¬é“¾è¡¨</h3><p>åœ¨ <a href="http://wangba.me/2020/10/09/0206-Reverse-Linked-List/]">206</a> ä¸­å·²ç»è§£å†³äº†åè½¬æ•´ä¸ªé“¾è¡¨ï¼Œç°åœ¨è¿™ç§éƒ¨åˆ†çš„åè½¬é“¾è¡¨ï¼Œåªéœ€è¦å°†ä¸Šé¢çš„æ–­é“¾ï¼Œä¸¢åˆ°åè½¬æ•´ä¸ªé“¾è¡¨çš„å‡½æ•°ä¸­ï¼Œå†æ¢å¤è¿æ¥å°±è¡Œäº†</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">åŸé“¾è¡¨ï¼š1-&gt;2-&gt;3-&gt;4-&gt;5-&gt;NULL</span><br><span class="line"></span><br><span class="line">æ–­é“¾ï¼š1 2-&gt;3-&gt;4 5-&gt;NULL</span><br><span class="line">è°ƒç”¨å‡½æ•°ï¼š4-&gt;3-&gt;2</span><br><span class="line"></span><br><span class="line">æ¢å¤ï¼š1-&gt;4-&gt;3-&gt;2-&gt;5-&gt;NULL</span><br></pre></td></tr></table></figure><p><strong>ä»£ç ï¼š</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> ListNode <span class="title">reverseBetween</span><span class="params">(ListNode head, <span class="keyword">int</span> m, <span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">    ListNode listNode = <span class="keyword">new</span> ListNode(-<span class="number">1</span>);</span><br><span class="line">    listNode.next = head;</span><br><span class="line">    ListNode res = listNode;</span><br><span class="line">    ListNode pre = <span class="keyword">null</span>;</span><br><span class="line">    ListNode cur = <span class="keyword">null</span>;</span><br><span class="line">    ListNode next = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (listNode != <span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (count == m) &#123;</span><br><span class="line">            next = listNode;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (count == m - <span class="number">1</span>) &#123;</span><br><span class="line">            pre = listNode;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (count == n) &#123;</span><br><span class="line">            cur = listNode;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        listNode = listNode.next;</span><br><span class="line">        count++;</span><br><span class="line">    &#125;</span><br><span class="line">    ListNode temp = cur.next;</span><br><span class="line">    cur.next = <span class="keyword">null</span>;</span><br><span class="line">    ListNode node = reverseList(pre.next);</span><br><span class="line">    pre.next = node;</span><br><span class="line">    next.next = temp;</span><br><span class="line">    <span class="keyword">return</span> res.next;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> ListNode <span class="title">reverseList</span><span class="params">(ListNode head)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// è¿­ä»£æ³•</span></span><br><span class="line">    ListNode pre = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">while</span> (head != <span class="keyword">null</span>) &#123;</span><br><span class="line">        ListNode next = head.next;</span><br><span class="line">        head.next = pre;</span><br><span class="line">        pre = head;</span><br><span class="line">        head = next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> pre;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>å†™çš„æœ‰ç‚¹å¤æ‚äº†â€¦â€¦</p><p>æ—¶é—´å¤æ‚åº¦ï¼šO(n)</p><p>ç©ºé—´å¤æ‚åº¦ï¼šO(1)</p></blockquote><h3 id="æ€è·¯äºŒï¼šå¤´æ’æ³•"><a href="#æ€è·¯äºŒï¼šå¤´æ’æ³•" class="headerlink" title="æ€è·¯äºŒï¼šå¤´æ’æ³•"></a>æ€è·¯äºŒï¼šå¤´æ’æ³•</h3><p>è¿˜æ˜¯è¦ä½¿ç”¨å“¨å…µï¼Œé¿å…é‡å¤æ“ä½œï¼Œå“¨å…µåé¢ç»“ç‚¹çš„æ“ä½œï¼šæ‰¾åˆ°ç¬¬ä¸€ä¸ªè¦è¿›è¡Œé€†ç½®ç»“ç‚¹çš„å‰ä¸€ä¸ªç»“ç‚¹ï¼Œç„¶åå¯¹åæ¯ä¸ªç»“ç‚¹éƒ½è¿›è¡Œ<code>å¤´æ’æ³•</code>å°±è¡Œäº†</p><p><strong>ä»£ç ï¼š</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> ListNode <span class="title">reverseBetween</span><span class="params">(ListNode head, <span class="keyword">int</span> m, <span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">    ListNode dummy = <span class="keyword">new</span> ListNode(-<span class="number">1</span>);</span><br><span class="line">    dummy.next = head;</span><br><span class="line">    ListNode pre = dummy;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; m - <span class="number">1</span>; i++) &#123;</span><br><span class="line">        pre = pre.next;</span><br><span class="line">    &#125;</span><br><span class="line">    ListNode cur = pre.next;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = m; i &lt; n; i++) &#123;</span><br><span class="line">        ListNode next = cur.next;</span><br><span class="line">        cur.next = next.next;</span><br><span class="line">        next.next = pre.next;</span><br><span class="line">        pre.next = next;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> dummy.next;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>æ—¶é—´å¤æ‚åº¦ï¼šO(n)</p><p>ç©ºé—´å¤æ‚åº¦ï¼šO(1)</p></blockquote>]]></content>
    
    
    <summary type="html">ä¸€å¤©ä¸€é“åŠ›æ‰£é¢˜ï¼Œå—¤ä¹‹ä»¥é¼»ï¼ŒåŠä¿¡åŠç–‘ï¼Œç™¾æ„Ÿäº¤é›†ï¼Œå…³é—¨å¤§å‰ï¼Œskr skr ! ! !</summary>
    
    
    
    <category term="LeetCodeçœŸçš„éš¾ç³»åˆ—" scheme="http://wangba.me/categories/LeetCode%E7%9C%9F%E7%9A%84%E9%9A%BE%E7%B3%BB%E5%88%97/"/>
    
    
    <category term="Leetcode" scheme="http://wangba.me/tags/Leetcode/"/>
    
    <category term="LinkedList" scheme="http://wangba.me/tags/LinkedList/"/>
    
  </entry>
  
  <entry>
    <title>0086. Partition List</title>
    <link href="http://wangba.me/2020/10/20/0086-Partition-List/"/>
    <id>http://wangba.me/2020/10/20/0086-Partition-List/</id>
    <published>2020-10-20T13:35:39.000Z</published>
    <updated>2020-10-20T13:37:46.940Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="86-Partition-List-Medium"><a href="#86-Partition-List-Medium" class="headerlink" title="86. Partition List Medium"></a><a href="https://leetcode-cn.com/problems/partition-list/">86. Partition List</a> Medium</h2><p>Given a linked list and a value <em>x</em>, partition it such that all nodes less than <em>x</em> come before nodes greater than or equal to <em>x</em>.</p><p>You should preserve the original relative order of the nodes in each of the two partitions.</p><p><strong>Example:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: head &#x3D; 1-&gt;4-&gt;3-&gt;2-&gt;5-&gt;2, x &#x3D; 3</span><br><span class="line">Output: 1-&gt;2-&gt;2-&gt;4-&gt;3-&gt;5</span><br></pre></td></tr></table></figure><h2 id="æ€è·¯ï¼š"><a href="#æ€è·¯ï¼š" class="headerlink" title="æ€è·¯ï¼š"></a>æ€è·¯ï¼š</h2><h3 id="æ€è·¯ä¸€ï¼šå¤§å°é“¾è¡¨"><a href="#æ€è·¯ä¸€ï¼šå¤§å°é“¾è¡¨" class="headerlink" title="æ€è·¯ä¸€ï¼šå¤§å°é“¾è¡¨"></a>æ€è·¯ä¸€ï¼šå¤§å°é“¾è¡¨</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">åŸé“¾è¡¨ï¼š1 -&gt; 4 -&gt; 3 -&gt; 2 -&gt; 5 -&gt; 2</span><br><span class="line"></span><br><span class="line">å¤§é“¾è¡¨ï¼š4 -&gt; 3 -&gt; 5</span><br><span class="line">å°é“¾è¡¨ï¼š1 -&gt; 2 -&gt; 2</span><br><span class="line"></span><br><span class="line">åˆå¹¶é“¾è¡¨ï¼š1 -&gt; 2 -&gt; 2 -&gt; 4 -&gt; 3 -&gt; 5</span><br></pre></td></tr></table></figure><p><strong>ä»£ç ï¼š</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">    <span class="function"><span class="keyword">public</span> ListNode <span class="title">partition</span><span class="params">(ListNode head, <span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line"><span class="comment">//        Input: head = 1-&gt;4-&gt;3-&gt;2-&gt;5-&gt;2, x = 3</span></span><br><span class="line"><span class="comment">//        Output: 1-&gt;2-&gt;2-&gt;4-&gt;3-&gt;5</span></span><br><span class="line">        <span class="comment">// å°é“¾è¡¨</span></span><br><span class="line">        ListNode min = <span class="keyword">new</span> ListNode(-<span class="number">1</span>);</span><br><span class="line">        ListNode l  = min;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// å¤§é“¾è¡¨</span></span><br><span class="line">        ListNode max = <span class="keyword">new</span> ListNode(-<span class="number">1</span>);</span><br><span class="line">        ListNode h = max;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> (head != <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (head.val &lt; x) &#123;</span><br><span class="line">                l.next = head;</span><br><span class="line">                l = l.next;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> &#123;</span><br><span class="line">                h.next = head;</span><br><span class="line">                h = h.next;</span><br><span class="line">            &#125;</span><br><span class="line">            head = head.next;</span><br><span class="line">        &#125;</span><br><span class="line">        h.next = <span class="keyword">null</span>;</span><br><span class="line">        l.next = max.next;</span><br><span class="line">        <span class="keyword">return</span> min.next;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><blockquote><p>æ—¶é—´å¤æ‚åº¦ï¼šO(n)</p><p>ç©ºé—´å¤æ‚åº¦ï¼šO()</p></blockquote>]]></content>
    
    
    <summary type="html">ä¸€å¤©ä¸€é“åŠ›æ‰£é¢˜ï¼Œå—¤ä¹‹ä»¥é¼»ï¼ŒåŠä¿¡åŠç–‘ï¼Œç™¾æ„Ÿäº¤é›†ï¼Œå…³é—¨å¤§å‰ï¼Œskr skr ! ! !</summary>
    
    
    
    <category term="LeetCodeçœŸçš„éš¾ç³»åˆ—" scheme="http://wangba.me/categories/LeetCode%E7%9C%9F%E7%9A%84%E9%9A%BE%E7%B3%BB%E5%88%97/"/>
    
    
    <category term="Leetcode" scheme="http://wangba.me/tags/Leetcode/"/>
    
    <category term="LinkedList" scheme="http://wangba.me/tags/LinkedList/"/>
    
  </entry>
  
  <entry>
    <title>0083. Remove Duplicates from Sorted List</title>
    <link href="http://wangba.me/2020/10/19/0083-Remove-Duplicates-from-Sorted-List/"/>
    <id>http://wangba.me/2020/10/19/0083-Remove-Duplicates-from-Sorted-List/</id>
    <published>2020-10-19T13:28:17.000Z</published>
    <updated>2020-10-20T13:34:21.281Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="83-Remove-Duplicates-from-Sorted-List-Easy"><a href="#83-Remove-Duplicates-from-Sorted-List-Easy" class="headerlink" title="83. Remove Duplicates from Sorted List Easy"></a><a href="https://leetcode-cn.com/problems/remove-duplicates-from-sorted-list/">83. Remove Duplicates from Sorted List</a> <font color="#49b666" size=5>Easy</font></h2><p>Given a sorted linked list, delete all duplicates such that each element appear only <em>once</em>.</p><p><strong>Example 1:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: 1-&gt;1-&gt;2</span><br><span class="line">Output: 1-&gt;2</span><br></pre></td></tr></table></figure><p><strong>Example 2:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: 1-&gt;1-&gt;2-&gt;3-&gt;3</span><br><span class="line">Output: 1-&gt;2-&gt;3</span><br></pre></td></tr></table></figure><h2 id="æ€è·¯ï¼š"><a href="#æ€è·¯ï¼š" class="headerlink" title="æ€è·¯ï¼š"></a>æ€è·¯ï¼š</h2><h3 id="æ€è·¯ä¸€ï¼šåŒæŒ‡é’ˆ"><a href="#æ€è·¯ä¸€ï¼šåŒæŒ‡é’ˆ" class="headerlink" title="æ€è·¯ä¸€ï¼šåŒæŒ‡é’ˆ"></a>æ€è·¯ä¸€ï¼šåŒæŒ‡é’ˆ</h3><p>ç”±äºéƒ½æ˜¯å·²ç»æ’å¥½åºçš„é“¾è¡¨ï¼Œç›¸åŒçš„æ•°éƒ½åœ¨ä¸€èµ·ï¼Œåªè¦ä½¿ç”¨åŒæŒ‡é’ˆï¼šä¸€ä¸ªæŒ‡å‘å‡ºç°çš„ç¬¬ä¸€ä¸ªæ•°ï¼Œä¸€ä¸ªä¸€ç›´éå†åˆ°è¿™ä¸ªæ•°ç»“æŸå³å¯</p><p><strong>ä»£ç ï¼š</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> ListNode <span class="title">deleteDuplicates</span><span class="params">(ListNode head)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (head == <span class="keyword">null</span> || head.next == <span class="keyword">null</span>) <span class="keyword">return</span> head;</span><br><span class="line">    ListNode slow = head;</span><br><span class="line">    ListNode fast = head.next;</span><br><span class="line">    <span class="keyword">while</span> (fast != <span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (slow.val == fast.val) &#123;</span><br><span class="line">            fast = fast.next;</span><br><span class="line">            slow.next = fast;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            slow = slow.next;</span><br><span class="line">            fast = fast.next;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> head;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">ä¸€å¤©ä¸€é“åŠ›æ‰£é¢˜ï¼Œå—¤ä¹‹ä»¥é¼»ï¼ŒåŠä¿¡åŠç–‘ï¼Œç™¾æ„Ÿäº¤é›†ï¼Œå…³é—¨å¤§å‰ï¼Œskr skr ! ! !</summary>
    
    
    
    <category term="LeetCodeçœŸçš„éš¾ç³»åˆ—" scheme="http://wangba.me/categories/LeetCode%E7%9C%9F%E7%9A%84%E9%9A%BE%E7%B3%BB%E5%88%97/"/>
    
    
    <category term="Leetcode" scheme="http://wangba.me/tags/Leetcode/"/>
    
    <category term="LinkedList" scheme="http://wangba.me/tags/LinkedList/"/>
    
  </entry>
  
  <entry>
    <title>0025. Reverse Nodes in k-Group</title>
    <link href="http://wangba.me/2020/10/15/0025-Reverse-Nodes-in-k-Group/"/>
    <id>http://wangba.me/2020/10/15/0025-Reverse-Nodes-in-k-Group/</id>
    <published>2020-10-15T11:56:31.000Z</published>
    <updated>2020-10-15T12:01:22.813Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="25-Reverse-Nodes-in-k-Group-Hard"><a href="#25-Reverse-Nodes-in-k-Group-Hard" class="headerlink" title="25. Reverse Nodes in k-Group Hard"></a><a href="https://leetcode-cn.com/problems/reverse-nodes-in-k-group/">25. Reverse Nodes in k-Group</a> <font color="#e82f34" size=5>Hard</font></h2><p>Given a linked list, reverse the nodes of a linked list <em>k</em> at a time and return its modified list.</p><p><em>k</em> is a positive integer and is less than or equal to the length of the linked list. If the number of nodes is not a multiple of <em>k</em> then left-out nodes, in the end, should remain as it is.</p><p><strong>Follow up:</strong></p><ul><li>Could you solve the problem in <code>O(1)</code> extra memory space?</li><li>You may not alter the values in the listâ€™s nodes, only nodes itself may be changed.</li></ul><p><strong>Example 1:</strong></p><p><img src="https://assets.leetcode.com/uploads/2020/10/03/reverse_ex1.jpg" class="lazyload" data-srcset="https://assets.leetcode.com/uploads/2020/10/03/reverse_ex1.jpg" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="img"></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: head &#x3D; [1,2,3,4,5], k &#x3D; 2</span><br><span class="line">Output: [2,1,4,3,5]</span><br></pre></td></tr></table></figure><p><strong>Example 2:</strong></p><p><img src="https://assets.leetcode.com/uploads/2020/10/03/reverse_ex2.jpg" class="lazyload" data-srcset="https://assets.leetcode.com/uploads/2020/10/03/reverse_ex2.jpg" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="img"></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: head &#x3D; [1,2,3,4,5], k &#x3D; 3</span><br><span class="line">Output: [3,2,1,4,5]</span><br></pre></td></tr></table></figure><p><strong>Example 3:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: head &#x3D; [1,2,3,4,5], k &#x3D; 1</span><br><span class="line">Output: [1,2,3,4,5]</span><br></pre></td></tr></table></figure><p><strong>Example 4:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: head &#x3D; [1], k &#x3D; 1</span><br><span class="line">Output: [1]</span><br></pre></td></tr></table></figure><p><strong>Constraints:</strong></p><ul><li>The number of nodes in the list is in the range <code>sz</code>.</li><li><code>1 &lt;= sz &lt;= 5000</code></li><li><code>0 &lt;= Node.val &lt;= 1000</code></li><li><code>1 &lt;= k &lt;= sz</code></li></ul><h2 id="æ€è·¯ï¼š"><a href="#æ€è·¯ï¼š" class="headerlink" title="æ€è·¯ï¼š"></a>æ€è·¯ï¼š</h2><h3 id="æ€è·¯ä¸€ï¼šè¿­ä»£"><a href="#æ€è·¯ä¸€ï¼šè¿­ä»£" class="headerlink" title="æ€è·¯ä¸€ï¼šè¿­ä»£"></a>æ€è·¯ä¸€ï¼šè¿­ä»£</h3><p>å¯ä»¥ç»“åˆä¸‹é¢çš„å›¾å’Œä»£ç è¿›è¡ŒæŸ¥çœ‹ï¼š</p><p><img src="https://gitee.com/wonderfuleight/blogImg/raw/master//20201015194154.png" class="lazyload" data-srcset="https://gitee.com/wonderfuleight/blogImg/raw/master//20201015194154.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="image-20201015193552764"></p><p><strong>ä»£ç ï¼š</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> ListNode <span class="title">reverseKGroup</span><span class="params">(ListNode head, <span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">    ListNode ans = <span class="keyword">new</span> ListNode(<span class="number">0</span>);</span><br><span class="line">    ans.next = head;</span><br><span class="line"></span><br><span class="line">    ListNode res = ans;</span><br><span class="line">    ListNode end = ans;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (end.next != <span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; k &amp;&amp; end != <span class="keyword">null</span>; i++) end = end.next;</span><br><span class="line">        <span class="keyword">if</span> (end == <span class="keyword">null</span>) <span class="keyword">break</span>;</span><br><span class="line">        ListNode start = res.next;</span><br><span class="line">        ListNode next = end.next;</span><br><span class="line">        end.next = <span class="keyword">null</span>;</span><br><span class="line">        res.next = reverseList(start);</span><br><span class="line">        start.next = next;</span><br><span class="line">        res = start;</span><br><span class="line"></span><br><span class="line">        end = res;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans.next;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> ListNode <span class="title">reverseList</span><span class="params">(ListNode head)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// é€’å½’æ³•</span></span><br><span class="line">    <span class="keyword">if</span> (head == <span class="keyword">null</span> || head.next == <span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> head;</span><br><span class="line">    &#125;</span><br><span class="line">    ListNode listNode = reverseList(head.next);</span><br><span class="line">    head.next.next = head;</span><br><span class="line">    head.next = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">return</span> listNode;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>æ—¶é—´å¤æ‚åº¦ï¼šO(n)</p><p>ç©ºé—´å¤æ‚åº¦ï¼šO(1)</p></blockquote><h3 id="æ€è·¯äºŒï¼šé€’å½’"><a href="#æ€è·¯äºŒï¼šé€’å½’" class="headerlink" title="æ€è·¯äºŒï¼šé€’å½’"></a>æ€è·¯äºŒï¼šé€’å½’</h3><p><strong>ä»£ç ï¼š</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> ListNode <span class="title">reverseKGroup</span><span class="params">(ListNode head, <span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (head == <span class="keyword">null</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    ListNode point = head;</span><br><span class="line">    <span class="comment">//æ‰¾åˆ°å­é“¾è¡¨çš„å°¾éƒ¨</span></span><br><span class="line">    <span class="keyword">int</span> i = k;</span><br><span class="line">    <span class="keyword">while</span>(i - <span class="number">1</span> &gt;<span class="number">0</span>)&#123;</span><br><span class="line">        point = point.next;</span><br><span class="line">        <span class="keyword">if</span> (point == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> head;</span><br><span class="line">        &#125;</span><br><span class="line">        i--;</span><br><span class="line">    &#125;</span><br><span class="line">    ListNode temp = point.next;</span><br><span class="line">    <span class="comment">//å°†å­é“¾è¡¨æ–­å¼€</span></span><br><span class="line">    point.next = <span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//å€’ç½®å­é“¾è¡¨ï¼Œå¹¶æ¥å—æ–°çš„å¤´ç»“ç‚¹</span></span><br><span class="line">    ListNode new_head = reverseList(head);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//head å…¶å®æ˜¯å€’ç½®é“¾è¡¨çš„å°¾éƒ¨ï¼Œç„¶åæˆ‘ä»¬å°†åè¾¹çš„å€’ç½®ç»“æœæ¥è¿‡æ¥å°±å¯ä»¥äº†</span></span><br><span class="line">    <span class="comment">//temp æ˜¯é“¾è¡¨æ–­å¼€åçš„å¤´æŒ‡é’ˆï¼Œå¯ä»¥å‚è€ƒè§£æ³•ä¸€çš„å›¾ç¤º</span></span><br><span class="line">    head.next = reverseKGroup(temp,k);</span><br><span class="line">    <span class="keyword">return</span> new_head;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> ListNode <span class="title">reverseList</span><span class="params">(ListNode head)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// é€’å½’æ³•</span></span><br><span class="line">    <span class="keyword">if</span> (head == <span class="keyword">null</span> || head.next == <span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> head;</span><br><span class="line">    &#125;</span><br><span class="line">    ListNode listNode = reverseList(head.next);</span><br><span class="line">    head.next.next = head;</span><br><span class="line">    head.next = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">return</span> listNode;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">ä¸€å¤©ä¸€é“åŠ›æ‰£é¢˜ï¼Œå—¤ä¹‹ä»¥é¼»ï¼ŒåŠä¿¡åŠç–‘ï¼Œç™¾æ„Ÿäº¤é›†ï¼Œå…³é—¨å¤§å‰ï¼Œskr skr ! ! !</summary>
    
    
    
    <category term="LeetCodeçœŸçš„éš¾ç³»åˆ—" scheme="http://wangba.me/categories/LeetCode%E7%9C%9F%E7%9A%84%E9%9A%BE%E7%B3%BB%E5%88%97/"/>
    
    
    <category term="Leetcode" scheme="http://wangba.me/tags/Leetcode/"/>
    
    <category term="LinkedList" scheme="http://wangba.me/tags/LinkedList/"/>
    
  </entry>
  
  <entry>
    <title>1002. Find Common Characters</title>
    <link href="http://wangba.me/2020/10/14/1002-Find-Common-Characters/"/>
    <id>http://wangba.me/2020/10/14/1002-Find-Common-Characters/</id>
    <published>2020-10-14T11:46:04.000Z</published>
    <updated>2020-10-14T11:51:39.832Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h4 id="1002-Find-Common-Characters-Easy"><a href="#1002-Find-Common-Characters-Easy" class="headerlink" title="1002. Find Common Characters Easy"></a><a href="https://leetcode-cn.com/problems/find-common-characters/">1002. Find Common Characters</a> <font color="#49b666" size=5>Easy</font></h4><p>Given an array <code>A</code> of strings made only from lowercase letters, return a list of all characters that show up in all strings within the list <strong>(including duplicates)</strong>. For example, if a character occurs 3 times in all strings but not 4 times, you need to include that character three times in the final answer.</p><p>You may return the answer in any order.</p><p><strong>Example 1:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: [&quot;bella&quot;,&quot;label&quot;,&quot;roller&quot;]</span><br><span class="line">Output: [&quot;e&quot;,&quot;l&quot;,&quot;l&quot;]</span><br></pre></td></tr></table></figure><p><strong>Example 2:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: [&quot;cool&quot;,&quot;lock&quot;,&quot;cook&quot;]</span><br><span class="line">Output: [&quot;c&quot;,&quot;o&quot;]</span><br></pre></td></tr></table></figure><p><strong>Note:</strong></p><ol><li><code>1 &lt;= A.length &lt;= 100</code></li><li><code>1 &lt;= A[i].length &lt;= 100</code></li><li><code>A[i][j]</code> is a lowercase letter</li></ol><h2 id="æ€è·¯ï¼š"><a href="#æ€è·¯ï¼š" class="headerlink" title="æ€è·¯ï¼š"></a>æ€è·¯ï¼š</h2><h3 id="æ€è·¯ä¸€ï¼šæš´åŠ›ç ´è§£"><a href="#æ€è·¯ä¸€ï¼šæš´åŠ›ç ´è§£" class="headerlink" title="æ€è·¯ä¸€ï¼šæš´åŠ›ç ´è§£"></a>æ€è·¯ä¸€ï¼šæš´åŠ›ç ´è§£</h3><p>ä»…ä¾›å‚è€ƒï¼š</p><ul><li>æ‰¾åˆ°é•¿åº¦æœ€å°çš„å­—ç¬¦ä¸²ï¼Œç”±äºæ˜¯è€ƒè™‘æ¯ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­é‡å¤çš„å…ƒç´ </li><li>å°†è¿™ä¸ªå­—ç¬¦ä¸²æ”¾åˆ° map ä¸­ï¼Œmap ä¸­çš„å€¼å¯ä»¥è®¾ä¸ºå­—ç¬¦ä¸²æ•°ç»„é•¿åº¦</li><li>ä¾æ¬¡éå†ï¼Œå¦‚æœé‡å¤å°± -1 ï¼Œæœ€åçœ‹ map ä¸­çš„å€¼æ˜¯å¦å˜ä¸º 0</li></ul><h3 id="æ€è·¯äºŒï¼šå“ˆå¸Œ"><a href="#æ€è·¯äºŒï¼šå“ˆå¸Œ" class="headerlink" title="æ€è·¯äºŒï¼šå“ˆå¸Œ"></a>æ€è·¯äºŒï¼šå“ˆå¸Œ</h3><p>å¯ä»¥ç»“åˆä¸‹é¢çš„å›¾å’Œä»£ç è¿›è¡Œç†è§£</p><ul><li>ç”±äºéƒ½æ˜¯å°å†™å­—æ¯ï¼Œåªéœ€è¦ä½¿ç”¨å®¹é‡ä¸º 26 çš„æ•°ç»„è¡¨ç¤º 26 ä½å­—æ¯ï¼›</li><li>ç¬¬ä¸€ä¸ª 26 ä½æ•°ç»„ï¼Œå°†å­—ç¬¦ä¸²æ•°ç»„çš„ç¬¬ä¸€ä¸ªå­—ç¬¦ä¸²è£…ä¸‹ï¼Œé‡å¤çš„ + 1</li><li>åé¢å’Œç¬¬ä¸€ä¸ªä¸€æ ·æ“ä½œå¾—åˆ°æ–°çš„æ•°ç»„ï¼Œæ¯”è¾ƒå…¶ä¸­çš„å€¼ï¼Œå–<code>æœ€å° </code>çš„å³å¯ï¼Œå› ä¸ºæœ€å°çš„é‚£ä¸ªæ‰ä»£è¡¨ç€å®ƒåœ¨è‡ªå·±çš„æ•°ç»„ä¸­é‡å¤äº†å¤šå°‘æ¬¡ï¼Œåœ¨æ‰€æœ‰çš„å­—ç¬¦ä¸²ä¸­ï¼Œå®ƒæœ€å¤šçš„å­—ç¬¦é‡å¤ </li><li>å°†ç»“æœæ”¾åœ¨ç¬¬ä¸€ä¸ªæ•°ç»„ï¼Œç»§ç»­æ¯”è¾ƒ</li></ul><p><img src="https://gitee.com/wonderfuleight/blogImg/raw/master//20201014193842.png" class="lazyload" data-srcset="https://gitee.com/wonderfuleight/blogImg/raw/master//20201014193842.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="image-20201014193840865"></p><p><strong>ä»£ç ï¼š</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> List&lt;String&gt; <span class="title">commonChars</span><span class="params">(String[] A)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// å“ˆå¸Œè¡¨</span></span><br><span class="line">    <span class="keyword">int</span>[] res = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">26</span>];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; A[<span class="number">0</span>].length(); i++) &#123;</span><br><span class="line">        res[A[<span class="number">0</span>].charAt(i) - <span class="string">&#x27;a&#x27;</span>]++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; A.length; i++) &#123;</span><br><span class="line">        <span class="keyword">int</span>[] temp = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">26</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; A[i].length(); j++) &#123;</span><br><span class="line">            temp[A[i].charAt(j) - <span class="string">&#x27;a&#x27;</span>]++;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="number">26</span>; j++) &#123;</span><br><span class="line">            res[j] = Math.min(res[j], temp[j]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    List&lt;String&gt; ans = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">26</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">while</span> (res[i] != <span class="number">0</span>) &#123;</span><br><span class="line">            ans.add(String.valueOf((<span class="keyword">char</span>)((i) + <span class="string">&#x27;a&#x27;</span>)));</span><br><span class="line">            res[i]--;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">ä¸€å¤©ä¸€é“åŠ›æ‰£é¢˜ï¼Œå—¤ä¹‹ä»¥é¼»ï¼ŒåŠä¿¡åŠç–‘ï¼Œç™¾æ„Ÿäº¤é›†ï¼Œå…³é—¨å¤§å‰ï¼Œskr skr ! ! !</summary>
    
    
    
    <category term="LeetCodeçœŸçš„éš¾ç³»åˆ—" scheme="http://wangba.me/categories/LeetCode%E7%9C%9F%E7%9A%84%E9%9A%BE%E7%B3%BB%E5%88%97/"/>
    
    
    <category term="Leetcode" scheme="http://wangba.me/tags/Leetcode/"/>
    
    <category term="LinkedList" scheme="http://wangba.me/tags/LinkedList/"/>
    
  </entry>
  
  <entry>
    <title>0023. Merge k Sorted Lists</title>
    <link href="http://wangba.me/2020/10/14/0023-Merge-k-Sorted-Lists/"/>
    <id>http://wangba.me/2020/10/14/0023-Merge-k-Sorted-Lists/</id>
    <published>2020-10-14T06:39:51.000Z</published>
    <updated>2020-10-14T07:00:54.331Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="23-Merge-k-Sorted-Lists-Hard"><a href="#23-Merge-k-Sorted-Lists-Hard" class="headerlink" title="23. Merge k Sorted Lists Hard"></a><a href="https://leetcode-cn.com/problems/merge-k-sorted-lists/">23. Merge k Sorted Lists</a> <font color="#e82f34" size=5>Hard</font></h2><p>You are given an array of <code>k</code> linked-lists <code>lists</code>, each linked-list is sorted in ascending order.</p><p><em>Merge all the linked-lists into one sorted linked-list and return it.</em></p><p><strong>Example 1:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">Input: lists &#x3D; [[1,4,5],[1,3,4],[2,6]]</span><br><span class="line">Output: [1,1,2,3,4,4,5,6]</span><br><span class="line">Explanation: The linked-lists are:</span><br><span class="line">[</span><br><span class="line">  1-&gt;4-&gt;5,</span><br><span class="line">  1-&gt;3-&gt;4,</span><br><span class="line">  2-&gt;6</span><br><span class="line">]</span><br><span class="line">merging them into one sorted list:</span><br><span class="line">1-&gt;1-&gt;2-&gt;3-&gt;4-&gt;4-&gt;5-&gt;6</span><br></pre></td></tr></table></figure><p><strong>Example 2:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: lists &#x3D; []</span><br><span class="line">Output: []</span><br></pre></td></tr></table></figure><p><strong>Example 3:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: lists &#x3D; [[]]</span><br><span class="line">Output: []</span><br></pre></td></tr></table></figure><p><strong>Constraints:</strong></p><ul><li><code>k == lists.length</code></li><li><code>0 &lt;= k &lt;= 10^4</code></li><li><code>0 &lt;= lists[i].length &lt;= 500</code></li><li><code>-10^4 &lt;= lists[i][j] &lt;= 10^4</code></li><li><code>lists[i]</code> is sorted in <strong>ascending order</strong>.</li><li>The sum of <code>lists[i].length</code> wonâ€™t exceed <code>10^4</code>.</li></ul><h2 id="æ€è·¯ï¼š"><a href="#æ€è·¯ï¼š" class="headerlink" title="æ€è·¯ï¼š"></a>æ€è·¯ï¼š</h2><h3 id="æ€è·¯ä¸€ï¼šæš´åŠ›è§£æ³•"><a href="#æ€è·¯ä¸€ï¼šæš´åŠ›è§£æ³•" class="headerlink" title="æ€è·¯ä¸€ï¼šæš´åŠ›è§£æ³•"></a>æ€è·¯ä¸€ï¼šæš´åŠ›è§£æ³•</h3><p>éå†é“¾è¡¨æ•°ç»„ä¸­çš„æ¯ä¸€ä¸ªé“¾è¡¨ï¼Œåœ¨æ¯ä¸€ä¸ªé“¾è¡¨ä¸­ç»§ç»­éå†ï¼Œå°†æ‰€æœ‰çš„ç»“æœéƒ½å­˜åœ¨æ•°ç»„ä¸­ï¼Œå†è¿›è¡Œä¸€æ¬¡å¿«é€Ÿæ’åºï¼Œæœ€åå†æŠŠæ•°ç»„ä¸­çš„æ¯ä¸ªç»“ç‚¹ç»„è£…æˆé“¾è¡¨å³å¯</p><p> <strong>ä»£ç </strong>ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> ListNode <span class="title">mergeKLists</span><span class="params">(ListNode[] lists)</span> </span>&#123;</span><br><span class="line">    List&lt;Integer&gt; res = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span> (ListNode listNode : lists) &#123;</span><br><span class="line">        <span class="keyword">while</span> (listNode != <span class="keyword">null</span>) &#123;</span><br><span class="line">            res.add(listNode.val);</span><br><span class="line">            listNode = listNode.next;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    Collections.sort(res);</span><br><span class="line">    ListNode head = <span class="keyword">new</span> ListNode(-<span class="number">1</span>);</span><br><span class="line">    ListNode ans = head;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i : res) &#123;</span><br><span class="line">        ListNode listNode = <span class="keyword">new</span> ListNode(i);</span><br><span class="line">        head.next  = listNode;</span><br><span class="line">        head = head.next;</span><br><span class="line">    &#125;</span><br><span class="line">    head.next = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">return</span> ans.next;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>æ—¶é—´å¤æ‚åº¦ï¼šO(nlogn)ï¼Œn ä¸ºæ‰€æœ‰ç»“ç‚¹æ•°</p><p>ç©ºé—´å¤æ‚åº¦ï¼šO(n)</p></blockquote><h3 id="æ€è·¯äºŒï¼šåˆ—æ¯”è¾ƒ"><a href="#æ€è·¯äºŒï¼šåˆ—æ¯”è¾ƒ" class="headerlink" title="æ€è·¯äºŒï¼šåˆ—æ¯”è¾ƒ"></a>æ€è·¯äºŒï¼šåˆ—æ¯”è¾ƒ</h3><p>åˆ©ç”¨æ¯ä¸ªé“¾è¡¨æ•°ç»„ä¸­çš„é“¾è¡¨æ˜¯æœ‰åºçš„ï¼Œåˆ™æ¯æ¬¡æ‹¿åˆ°æœ€å°çš„ç»“ç‚¹åŠ å…¥æ–°çš„é“¾è¡¨ä¸­ï¼Œæ¯ä¸ªé“¾è¡¨æ•°ç»„ä¸­çš„é“¾è¡¨å¤´çš„å€¼ä¸€å®šæ˜¯æœ€å°çš„</p><p> <strong>ä»£ç </strong>ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> ListNode <span class="title">mergeKLists</span><span class="params">(ListNode[] lists)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// 2. åˆ—æ¯”è¾ƒ</span></span><br><span class="line">    <span class="comment">// æœ€å°ç´¢å¼•</span></span><br><span class="line">    <span class="keyword">int</span> minIndex = <span class="number">0</span>;</span><br><span class="line">    ListNode head = <span class="keyword">new</span> ListNode(-<span class="number">1</span>);</span><br><span class="line">    ListNode res = head;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (<span class="keyword">true</span>) &#123;</span><br><span class="line">        <span class="keyword">boolean</span> isCompleted = <span class="keyword">true</span>;</span><br><span class="line">        <span class="keyword">int</span> min = Integer.MAX_VALUE;</span><br><span class="line">        <span class="comment">// éå†ä¸€éé“¾è¡¨æ•°ç»„æ‰¾åˆ°æ•°å€¼æœ€å°çš„ç»“ç‚¹</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; lists.length; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (lists[i] != <span class="keyword">null</span>) &#123;</span><br><span class="line">                <span class="keyword">if</span> (lists[i].val &lt; min) &#123;</span><br><span class="line">                    minIndex = i;</span><br><span class="line">                    min = lists[i].val;</span><br><span class="line">                &#125;</span><br><span class="line">                isCompleted = <span class="keyword">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// å½“æ‰€æœ‰çš„é“¾è¡¨å…¨éƒ¨éå†å®Œäº†ï¼Œwhile å¾ªç¯ç»“æŸ</span></span><br><span class="line">        <span class="keyword">if</span> (isCompleted) <span class="keyword">break</span>;</span><br><span class="line">        head.next = lists[minIndex];</span><br><span class="line">        head = head.next;</span><br><span class="line">        lists[minIndex] = lists[minIndex].next;</span><br><span class="line">    &#125;</span><br><span class="line">    head.next = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">return</span> res.next;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>æ—¶é—´å¤æ‚åº¦ï¼šO(m * n)ï¼Œm ä¸ºæœ€é•¿é“¾è¡¨çš„é•¿åº¦ï¼›n ä¸ºé“¾è¡¨æ•°ç»„é•¿åº¦</p><p>ç©ºé—´å¤æ‚åº¦ï¼šO(1)</p></blockquote><h3 id="æ€è·¯ä¸‰ï¼šä¼˜å…ˆé˜Ÿåˆ—"><a href="#æ€è·¯ä¸‰ï¼šä¼˜å…ˆé˜Ÿåˆ—" class="headerlink" title="æ€è·¯ä¸‰ï¼šä¼˜å…ˆé˜Ÿåˆ—"></a>æ€è·¯ä¸‰ï¼šä¼˜å…ˆé˜Ÿåˆ—</h3><p>åœ¨ä¸Šé¢çš„æ€è·¯ä¸­ï¼Œæ¯æ¬¡éƒ½æ˜¯æ‰¾åˆ°é“¾è¡¨æ•°ç»„ä¸­æœ€å°çš„ç»“ç‚¹ï¼Œå†åŠ å…¥æ–°é“¾è¡¨ä¸­ï¼Œåœ¨ä¸Šé¢ä½¿ç”¨çš„ç›´æ¥éå†çš„æ–¹å¼ï¼Œåœ¨è¿™é‡Œå¯ä»¥é‡‡ç”¨ä¼˜å…ˆé˜Ÿåˆ—çš„æ–¹å¼ï¼Œä¼˜å…ˆé˜Ÿåˆ—æ˜¯åŸºäºå †å®ç°çš„ï¼Œå…·ä½“æ¥è¯´å°±æ˜¯å°/å¤§æ ¹(é¡¶)å †ï¼Œåªéœ€è¦å°†æ¯ä¸ªé“¾è¡¨çš„å¤´ç»“ç‚¹æ”¾å…¥ï¼Œä¼šè‡ªåŠ¨è¿›è¡Œå¤§å°æ¯”è¾ƒï¼Œå‡ºé˜Ÿåˆ—æ˜¯å°±æ˜¯æœ€å°/æœ€å¤§</p><p> <strong>ä»£ç </strong>ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> ListNode <span class="title">mergeKLists</span><span class="params">(ListNode[] lists)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// ä¼˜å…ˆé˜Ÿåˆ—ä¸­é»˜è®¤å°±æ˜¯å°æ ¹å †</span></span><br><span class="line">    PriorityQueue&lt;ListNode&gt; priorityQueue = <span class="keyword">new</span> PriorityQueue&lt;ListNode&gt;(Comparator.comparing(n -&gt; n.val));</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// å°†æ¯ä¸ªç»“ç‚¹çš„çš„å¤´ç»“ç‚¹åŠ å…¥ä¼˜å…ˆé˜Ÿåˆ—</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; lists.length; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (lists[i] != <span class="keyword">null</span>) &#123;</span><br><span class="line">            priorityQueue.add(lists[i]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    ListNode head = <span class="keyword">new</span> ListNode(-<span class="number">1</span>);</span><br><span class="line">    ListNode res = head;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (!priorityQueue.isEmpty()) &#123;</span><br><span class="line">        <span class="comment">// å‡ºé˜Ÿåˆ—æ—¶å°±æ˜¯æœ€å°å€¼å…ˆå‡ºæ¥çš„</span></span><br><span class="line">        head.next = priorityQueue.poll();</span><br><span class="line">        head = head.next;</span><br><span class="line">        <span class="comment">// å°†å‡ºé˜Ÿåˆ—çš„åé¢é‚£ä¸ªå€¼åŠ å…¥ä¼˜å…ˆé˜Ÿåˆ—</span></span><br><span class="line">        <span class="keyword">if</span> (head.next != <span class="keyword">null</span>) &#123;</span><br><span class="line">            priorityQueue.add(head.next);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res.next;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>æ—¶é—´å¤æ‚åº¦ï¼šO(nlogk)ï¼Œn è¡¨ç¤ºæ‰€æœ‰çš„ç»“ç‚¹ä¹¦æ•°ï¼Œlogk è¡¨ç¤ºæ¯ä¸ªç»“ç‚¹çš„å…¥é˜Ÿã€å‡ºé˜Ÿ</p><p>ç©ºé—´å¤æ‚åº¦ï¼šO(k)ï¼Œk è¡¨ç¤ºé“¾è¡¨æ•°ç»„çš„é•¿åº¦ï¼›åœ¨ Java ä¸­ä¼˜å…ˆé˜Ÿåˆ—æ˜¯æœ‰é»˜è®¤å€¼çš„</p></blockquote><h3 id="æ€è·¯å››ï¼šä¸¤ä¸¤åˆå¹¶"><a href="#æ€è·¯å››ï¼šä¸¤ä¸¤åˆå¹¶" class="headerlink" title="æ€è·¯å››ï¼šä¸¤ä¸¤åˆå¹¶"></a>æ€è·¯å››ï¼šä¸¤ä¸¤åˆå¹¶</h3><p>åœ¨<a href="http://wangba.me/2020/10/13/0021-Merge-Two-Sorted-Lists/">0021. Merge Two Sorted Lists</a>ä¸­ï¼Œå·²ç»å®ç°è¿‡ä¸¤ä¸ªæœ‰åºé“¾è¡¨çš„åˆå¹¶ï¼Œæœ¬é¢˜ä¹Ÿå¯ä»¥å‚è€ƒè¿™ä¸ªæ€è·¯ï¼šé¦–å…ˆå°†é“¾è¡¨ 0 å’Œé“¾è¡¨ 1 åˆå¹¶ï¼Œåˆå¹¶æˆæ–°çš„é“¾è¡¨ aï¼Œåœ¨å’Œé“¾è¡¨ 2 è¿›è¡Œåˆå¹¶ â€¦â€¦</p><p> <strong>ä»£ç </strong>ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> ListNode <span class="title">mergeKLists</span><span class="params">(ListNode[] lists)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// 4. ä¸¤ä¸¤åˆå¹¶</span></span><br><span class="line">    ListNode temp = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; lists.length; i++) &#123;</span><br><span class="line">        temp = mergeTwoLists(temp, lists[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> temp;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> ListNode <span class="title">mergeTwoLists</span><span class="params">(ListNode l1, ListNode l2)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (l1 == <span class="keyword">null</span>) <span class="keyword">return</span> l2;</span><br><span class="line">    <span class="keyword">if</span> (l2 == <span class="keyword">null</span>) <span class="keyword">return</span> l1;</span><br><span class="line">    <span class="keyword">if</span> (l1.val &gt; l2.val) &#123;</span><br><span class="line">        l2.next = mergeTwoLists(l1, l2.next);</span><br><span class="line">        <span class="keyword">return</span> l2;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">        l1.next = mergeTwoLists(l1.next, l2);</span><br><span class="line">        <span class="keyword">return</span> l1;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æ€è·¯äº”ï¼šäºŒåˆ†æ³•ä¸¤ä¸¤åˆå¹¶"><a href="#æ€è·¯äº”ï¼šäºŒåˆ†æ³•ä¸¤ä¸¤åˆå¹¶" class="headerlink" title="æ€è·¯äº”ï¼šäºŒåˆ†æ³•ä¸¤ä¸¤åˆå¹¶"></a>æ€è·¯äº”ï¼šäºŒåˆ†æ³•ä¸¤ä¸¤åˆå¹¶</h3><p>åœ¨ä¸Šé¢æ€è·¯äº”ä¸­ï¼Œåˆå¹¶çš„æ€è·¯æ˜¯ï¼šå…ˆæ˜¯åˆå¹¶ç¬¬ä¸€ä¸ªå’Œç¬¬äºŒä¸ªï¼Œåˆå¹¶ä¸ºæ–°çš„åï¼Œå†å’Œç¬¬ä¸‰ä¸ªè¿›è¡Œåˆå¹¶ï¼Œè¿™æ ·çš„æ•ˆç‡æœ‰ç‚¹ä½</p><p>è¿™ä¸ªæ€è·¯ä¹Ÿæ˜¯å¯ä»¥ä¼˜åŒ–çš„ï¼Œä½¿ç”¨äºŒåˆ†æ³•ï¼š</p><p> <strong>ä»£ç </strong>ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> ListNode <span class="title">mergeKLists</span><span class="params">(ListNode[] lists)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (lists.length == <span class="number">0</span>) <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">return</span> merge(lists, <span class="number">0</span> , lists.length - <span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> ListNode <span class="title">merge</span><span class="params">(ListNode[] lists, <span class="keyword">int</span> left, <span class="keyword">int</span> right)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (left == right) <span class="keyword">return</span> lists[left];</span><br><span class="line">    <span class="keyword">int</span> mid = left + (right - left) / <span class="number">2</span>;</span><br><span class="line">    ListNode l = merge(lists, left, mid);</span><br><span class="line">    ListNode r = merge(lists, mid + <span class="number">1</span>, right);</span><br><span class="line">    <span class="keyword">return</span> mergeTwoLists(l , r);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> ListNode <span class="title">mergeTwoLists</span><span class="params">(ListNode l1, ListNode l2)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (l1 == <span class="keyword">null</span>) <span class="keyword">return</span> l2;</span><br><span class="line">    <span class="keyword">if</span> (l2 == <span class="keyword">null</span>) <span class="keyword">return</span> l1;</span><br><span class="line">    <span class="keyword">if</span> (l1.val &gt; l2.val) &#123;</span><br><span class="line">        l2.next = mergeTwoLists(l1, l2.next);</span><br><span class="line">        <span class="keyword">return</span> l2;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        l1.next = mergeTwoLists(l1.next, l2);</span><br><span class="line">        <span class="keyword">return</span> l1;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">ä¸€å¤©ä¸€é“åŠ›æ‰£é¢˜ï¼Œå—¤ä¹‹ä»¥é¼»ï¼ŒåŠä¿¡åŠç–‘ï¼Œç™¾æ„Ÿäº¤é›†ï¼Œå…³é—¨å¤§å‰ï¼Œskr skr ! ! !</summary>
    
    
    
    <category term="LeetCodeçœŸçš„éš¾ç³»åˆ—" scheme="http://wangba.me/categories/LeetCode%E7%9C%9F%E7%9A%84%E9%9A%BE%E7%B3%BB%E5%88%97/"/>
    
    
    <category term="Leetcode" scheme="http://wangba.me/tags/Leetcode/"/>
    
    <category term="LinkedList" scheme="http://wangba.me/tags/LinkedList/"/>
    
  </entry>
  
  <entry>
    <title>0021. Merge Two Sorted Lists</title>
    <link href="http://wangba.me/2020/10/13/0021-Merge-Two-Sorted-Lists/"/>
    <id>http://wangba.me/2020/10/13/0021-Merge-Two-Sorted-Lists/</id>
    <published>2020-10-13T12:28:27.000Z</published>
    <updated>2020-10-14T07:00:19.534Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="21-Merge-Two-Sorted-Lists-Easy"><a href="#21-Merge-Two-Sorted-Lists-Easy" class="headerlink" title="21. Merge Two Sorted Lists Easy"></a><a href="https://leetcode-cn.com/problems/merge-two-sorted-lists/">21. Merge Two Sorted Lists</a> <font color="#49b666" size=5>Easy</font></h2><p>Merge two sorted linked lists and return it as a new <strong>sorted</strong> list. The new list should be made by splicing together the nodes of the first two lists.</p><p><strong>Example 1:</strong></p><p><img src="https://assets.leetcode.com/uploads/2020/10/03/merge_ex1.jpg" class="lazyload" data-srcset="https://assets.leetcode.com/uploads/2020/10/03/merge_ex1.jpg" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="img"></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: l1 &#x3D; [1,2,4], l2 &#x3D; [1,3,4]</span><br><span class="line">Output: [1,1,2,3,4,4]</span><br></pre></td></tr></table></figure><p><strong>Example 2:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: l1 &#x3D; [], l2 &#x3D; []</span><br><span class="line">Output: []</span><br></pre></td></tr></table></figure><p><strong>Example 3:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: l1 &#x3D; [], l2 &#x3D; [0]</span><br><span class="line">Output: [0]</span><br></pre></td></tr></table></figure><p><strong>Constraints:</strong></p><ul><li>The number of nodes in both lists is in the range <code>[0, 50]</code>.</li><li><code>-100 &lt;= Node.val &lt;= 100</code></li><li>Both <code>l1</code> and <code>l2</code> are sorted in <strong>non-decreasing</strong> order.</li></ul><h2 id="æ€è·¯ï¼š"><a href="#æ€è·¯ï¼š" class="headerlink" title="æ€è·¯ï¼š"></a>æ€è·¯ï¼š</h2><h3 id="æ€è·¯ä¸€ï¼šè¿­ä»£æ³•"><a href="#æ€è·¯ä¸€ï¼šè¿­ä»£æ³•" class="headerlink" title="æ€è·¯ä¸€ï¼šè¿­ä»£æ³•"></a>æ€è·¯ä¸€ï¼šè¿­ä»£æ³•</h3><p>è®¾ç½®ä¸€ä¸ªå¤´ç»“ç‚¹ï¼Œéšåå¼€å§‹æ¯”è¾ƒä¸¤ä¸ªé“¾è¡¨çš„ç»“ç‚¹å€¼å¤§å°ï¼Œå…·ä½“é€»è¾‘å¯ä»¥å°†ä¸‹é¢çš„å›¾å’Œä»£ç é€»è¾‘è”ç³»èµ·æ¥ï¼š</p><p><img src="https://gitee.com/wonderfuleight/blogImg/raw/master//20201013173857.png" class="lazyload" data-srcset="https://gitee.com/wonderfuleight/blogImg/raw/master//20201013173857.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="image-20201013173854931"></p><p><strong>ä»£ç </strong>ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> ListNode <span class="title">mergeTwoLists</span><span class="params">(ListNode l1, ListNode l2)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// è¿­ä»£æ³•</span></span><br><span class="line">    <span class="comment">// 1 2 4     1 3 4</span></span><br><span class="line">    <span class="comment">// 1 1 2 3 4 4</span></span><br><span class="line">    ListNode temp = <span class="keyword">new</span> ListNode(-<span class="number">1</span>);</span><br><span class="line">    ListNode res = temp;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (l1 != <span class="keyword">null</span> &amp;&amp; l2 != <span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (l1.val &gt; l2.val) &#123;</span><br><span class="line">            temp.next = l2;</span><br><span class="line">            temp = temp.next;</span><br><span class="line">            l2 = l2.next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            temp.next = l1;</span><br><span class="line">            temp = temp.next;</span><br><span class="line">            l1 = l1.next;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (l1 == <span class="keyword">null</span>) temp.next = l2;</span><br><span class="line">    <span class="keyword">if</span> (l2 == <span class="keyword">null</span>) temp.next = l1;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> res.next;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>æ—¶é—´å¤æ‚åº¦ï¼šO(m + n)</p><p>ç©ºé—´å¤æ‚åº¦ï¼šO(1)</p></blockquote><h3 id="æ€è·¯äºŒï¼šé€’å½’æ³•"><a href="#æ€è·¯äºŒï¼šé€’å½’æ³•" class="headerlink" title="æ€è·¯äºŒï¼šé€’å½’æ³•"></a>æ€è·¯äºŒï¼šé€’å½’æ³•</h3><p>é€’å½’æœ€é‡è¦çš„ä¸¤ä¸ªç‚¹ï¼š</p><ul><li>é€’å½’çš„å‡ºå£ï¼Œåœ¨æœ¬é¢˜é‡Œé¢å°±æ˜¯å½“å…¶ä¸­çš„ä¸€ä¸ªé“¾è¡¨ä¸ºç©ºï¼Œç›´æ¥è¿”å›å¦å¤–ä¸€ä¸ªé“¾è¡¨å³å¯</li><li>è¦è¿›è¡Œé€’å½’ï¼Œä¼ å…¥å‚æ•°åçš„ç»“æœåº”è¯¥æ˜¯å·²ç»ç¡®å®šçš„äº†ï¼Œåœ¨è¿™é‡Œå°±æ˜¯é“¾è¡¨å·²ç»æ’å¥½åºäº†</li></ul><p>ä¸¾ä¸ªä¾‹å­ï¼šå¦‚æœç°åœ¨æ˜¯</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">é“¾è¡¨laï¼š1 -&gt; 3 -&gt; 5</span><br><span class="line"></span><br><span class="line">é“¾è¡¨lbï¼š2 -&gt; 4 -&gt; 6</span><br></pre></td></tr></table></figure><p>è¿›è¡Œç¬¬ä¸€æ¬¡é€’å½’æ—¶ï¼šè¦æ¯”è¾ƒ 1 å’Œ 2 çš„å¤§å°ï¼Œå‘ç° 1 &lt; 2ï¼Œæ­¤æ—¶åªéœ€è¦å°† 1.next =  <strong>mergeTwoLists(3, 2)</strong> å°±è¡Œäº†ï¼Œä¸è¦å»æƒ³ <strong>mergeTwoLists(3, 2)</strong> æ€ä¹ˆæ¥çš„ï¼Œè¦æŠŠå®ƒå½“ä½œå·²ç»ç¡®å®šçš„å€¼å°±è¡Œï¼Œè€Œ <strong>mergeTwoLists(3, 2)</strong> çš„å€¼å¯ä»¥çœ‹ä½œæ˜¯ä¸‹é¢è¿™ä¸¤ä¸ªé“¾è¡¨çš„è¿›è¡Œ <strong>mergeTwoLists</strong> çš„ç»“æœ</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">é“¾è¡¨laï¼š3 -&gt; 5</span><br><span class="line"></span><br><span class="line">é“¾è¡¨lbï¼š2 -&gt; 4 -&gt; 6</span><br></pre></td></tr></table></figure><p> <strong>ä»£ç </strong>ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> ListNode <span class="title">mergeTwoLists</span><span class="params">(ListNode l1, ListNode l2)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// é€’å½’æ³•</span></span><br><span class="line">    <span class="comment">// é€’å½’çš„å‡ºå£</span></span><br><span class="line">    <span class="keyword">if</span> (l1 == <span class="keyword">null</span>) <span class="keyword">return</span> l2;</span><br><span class="line">    <span class="keyword">if</span> (l2 == <span class="keyword">null</span>) <span class="keyword">return</span> l1;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (l1.val &gt; l2.val) &#123;</span><br><span class="line">        l2.next = mergeTwoLists(l1, l2.next);</span><br><span class="line">        <span class="keyword">return</span> l2;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">        l1.next = mergeTwoLists(l1.next, l2);</span><br><span class="line">        <span class="keyword">return</span> l1;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>æ—¶é—´å¤æ‚åº¦ï¼šO(m + n)</p><p>ç©ºé—´å¤æ‚åº¦ï¼šO(m + n)</p><ul><li>ç”±äºé€’å½’æ˜¯è°ƒç”¨æ ˆçš„ï¼Œæ¯é€’å½’ä¸€æ¬¡éœ€è¦ä¸€ä¸ªæ ˆå¸§</li></ul></blockquote>]]></content>
    
    
    <summary type="html">ä¸€å¤©ä¸€é“åŠ›æ‰£é¢˜ï¼Œå—¤ä¹‹ä»¥é¼»ï¼ŒåŠä¿¡åŠç–‘ï¼Œç™¾æ„Ÿäº¤é›†ï¼Œå…³é—¨å¤§å‰ï¼Œskr skr ! ! !</summary>
    
    
    
    <category term="LeetCodeçœŸçš„éš¾ç³»åˆ—" scheme="http://wangba.me/categories/LeetCode%E7%9C%9F%E7%9A%84%E9%9A%BE%E7%B3%BB%E5%88%97/"/>
    
    
    <category term="Leetcode" scheme="http://wangba.me/tags/Leetcode/"/>
    
    <category term="Array" scheme="http://wangba.me/tags/Array/"/>
    
    <category term="LinkedList" scheme="http://wangba.me/tags/LinkedList/"/>
    
  </entry>
  
  <entry>
    <title>SpringBootæ•´åˆSpring Security(ä¸ƒ)</title>
    <link href="http://wangba.me/2020/10/13/SpringBoot%E6%95%B4%E5%90%88Spring-Security-%E4%B8%83/"/>
    <id>http://wangba.me/2020/10/13/SpringBoot%E6%95%B4%E5%90%88Spring-Security-%E4%B8%83/</id>
    <published>2020-10-13T05:38:58.000Z</published>
    <updated>2020-10-13T05:40:08.522Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="ä¸€ã€OverView"><a href="#ä¸€ã€OverView" class="headerlink" title="ä¸€ã€OverView"></a>ä¸€ã€OverView</h2><p>â€‹        è¿™ä¸€å°èŠ‚æ•´ç†ä¸€ä¸‹å‰é¢å‡ èŠ‚çš„å†…å®¹ï¼Œä¸»è¦å®Œæ•´çš„æ‹ä¸€é Spring Security çš„ç™»å½•è¿‡ç¨‹ã€‚ä¸ºäº†æœ‰ä¸€ä¸ª Architecture First  çš„å°è±¡ï¼Œå…ˆå°†å…¶ä¸­å…³é”®çš„ç±»å’Œæ¥å£åˆ—å‡ºï¼Œå¦‚æœçœ‹åˆ°åé¢å‘ç°æœ‰å°è±¡ï¼Œå°±å¯ä»¥è·³åˆ°å‰é¢æ¥çœ‹ä¸€ä¸‹ï¼š</p><ul><li><p><strong>SecurityContextHolder</strong></p></li><li><p><strong>Authentication</strong></p></li><li><p>Token ç±»</p><ul><li><strong>UsernamePasswordAuthenticationToken</strong></li><li><strong>AbstractAuthenticationToken</strong></li></ul></li><li><p>Provider å’Œ Manger ç±»</p><ul><li><strong>AuthenticationManager</strong></li><li><strong>ProviderManager</strong></li><li><strong>AuthenticationProvider</strong></li><li><strong>DaoAuthenticationProvider</strong></li></ul></li><li><p><strong>UserDetails</strong> ä¸ <strong>UserDetailsService</strong></p></li></ul><p>ä¸»è¦å¯ä»¥å‚è€ƒä¸€ä¸‹è¿™å¼ å›¾ï¼š</p><p><img src="https://gitee.com/wonderfuleight/blogImg/raw/master//20201013133116.png" class="lazyload" data-srcset="https://gitee.com/wonderfuleight/blogImg/raw/master//20201013133116.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="image-20201013133113040"></p><p>å›¾æºï¼š<a href="https://lexburner.github.io/spring-security-1/">Spring Security(ä¸€)â€“Architecture Overview</a></p><h2 id="äºŒã€DeepLearning"><a href="#äºŒã€DeepLearning" class="headerlink" title="äºŒã€DeepLearning"></a>äºŒã€DeepLearning</h2><h3 id="2-1-Authentication"><a href="#2-1-Authentication" class="headerlink" title="2.1 Authentication"></a>2.1 Authentication</h3><p>å…ˆçœ‹ä¸€ä¸‹ <strong>Authentication</strong> çš„ç›¸å…³å®ç°ç±»</p><p><img src="https://gitee.com/wonderfuleight/blogImg/raw/master//20201013084521.png" class="lazyload" data-srcset="https://gitee.com/wonderfuleight/blogImg/raw/master//20201013084521.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="image-20201013084517460"></p><p>æºç ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Authentication</span> <span class="keyword">extends</span> <span class="title">Principal</span>, <span class="title">Serializable</span> </span>&#123;</span><br><span class="line">    Collection&lt;? extends GrantedAuthority&gt; getAuthorities();</span><br><span class="line"></span><br><span class="line">    <span class="function">Object <span class="title">getCredentials</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function">Object <span class="title">getDetails</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function">Object <span class="title">getPrincipal</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">boolean</span> <span class="title">isAuthenticated</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">setAuthenticated</span><span class="params">(<span class="keyword">boolean</span> var1)</span> <span class="keyword">throws</span> IllegalArgumentException</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><ul><li>getAuthorities()ï¼šæƒé™ä¿¡æ¯åˆ—è¡¨ï¼Œé»˜è®¤æ˜¯ GrantedAuthority æ¥å£çš„ä¸€äº›å®ç°ç±»ï¼Œé€šå¸¸æ˜¯ä»£è¡¨æƒé™ä¿¡æ¯çš„ä¸€ç³»åˆ—å­—ç¬¦ä¸²ã€‚</li><li>getCredentials()ï¼šå¯†ç ä¿¡æ¯ï¼Œç”¨æˆ·è¾“å…¥çš„å¯†ç å­—ç¬¦ä¸²ï¼Œåœ¨è®¤è¯è¿‡åé€šå¸¸ä¼šè¢«ç§»é™¤ï¼Œç”¨äºä¿éšœå®‰å…¨ã€‚</li><li>getDetails()ï¼šç»†èŠ‚ä¿¡æ¯ï¼Œweb åº”ç”¨ä¸­çš„å®ç°æ¥å£é€šå¸¸ä¸º WebAuthenticationDetailsï¼Œå®ƒè®°å½•äº†è®¿é—®è€…çš„ ip åœ°å€å’Œ sessionId çš„å€¼ã€‚</li><li>getPrincipal()ï¼šæœ€é‡è¦çš„èº«ä»½ä¿¡æ¯ï¼Œå¤§éƒ¨åˆ†æƒ…å†µä¸‹è¿”å›çš„æ˜¯ UserDetails æ¥å£çš„å®ç°ç±»ï¼Œä¹Ÿæ˜¯æ¡†æ¶ä¸­çš„å¸¸ç”¨æ¥å£ä¹‹ä¸€ã€‚UserDetails æ¥å£å°†ä¼šåœ¨ä¸‹é¢çš„å°èŠ‚é‡ç‚¹ä»‹ç»ã€‚</li></ul></blockquote><p>åœ¨å®ç°ç±»ä¸­éå¸¸é‡è¦çš„å°±æ˜¯ <strong>UsernamePasswordAuthenticationToken</strong> ï¼Œå†çœ‹ä¸€ä¸‹å…¶ä¸­çš„å±æ€§å’Œæ–¹æ³•</p><p><img src="https://gitee.com/wonderfuleight/blogImg/raw/master//20201013090503.png" class="lazyload" data-srcset="https://gitee.com/wonderfuleight/blogImg/raw/master//20201013090503.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="image-20201013090502537"></p><p>ä»¥åŠå®ƒçš„çˆ¶ç±»ï¼š<strong>AbstractAuthenticationToken</strong> </p><p><img src="https://gitee.com/wonderfuleight/blogImg/raw/master//20201013092222.png" class="lazyload" data-srcset="https://gitee.com/wonderfuleight/blogImg/raw/master//20201013092222.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="image-20201013092219226"></p><h3 id="2-2-UsernamePasswordAuthenticationFilter"><a href="#2-2-UsernamePasswordAuthenticationFilter" class="headerlink" title="2.2 UsernamePasswordAuthenticationFilter"></a>2.2 UsernamePasswordAuthenticationFilter</h3><p>åœ¨ Spring Security ä¸­ï¼Œè®¤è¯ä¸æˆæƒçš„ç›¸å…³æ ¡éªŒéƒ½æ˜¯åœ¨ä¸€ç³»åˆ—çš„è¿‡æ»¤å™¨é“¾ä¸­å®Œæˆçš„ï¼Œåœ¨è¿™ä¸€ç³»åˆ—çš„è¿‡æ»¤å™¨é“¾ä¸­ï¼Œå’Œè®¤è¯ç›¸å…³çš„è¿‡æ»¤å™¨å°±æ˜¯ UsernamePasswordAuthenticationFilterï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UsernamePasswordAuthenticationFilter</span> <span class="keyword">extends</span> <span class="title">AbstractAuthenticationProcessingFilter</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">UsernamePasswordAuthenticationFilter</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>(<span class="keyword">new</span> AntPathRequestMatcher(<span class="string">&quot;/login&quot;</span>, <span class="string">&quot;POST&quot;</span>));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Authentication <span class="title">attemptAuthentication</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> AuthenticationException </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">this</span>.postOnly &amp;&amp; !request.getMethod().equals(<span class="string">&quot;POST&quot;</span>)) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> AuthenticationServiceException(<span class="string">&quot;Authentication method not supported: &quot;</span> + request.getMethod());</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            String username = <span class="keyword">this</span>.obtainUsername(request);</span><br><span class="line">            String password = <span class="keyword">this</span>.obtainPassword(request);</span><br><span class="line">            <span class="keyword">if</span> (username == <span class="keyword">null</span>) &#123;</span><br><span class="line">                username = <span class="string">&quot;&quot;</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (password == <span class="keyword">null</span>) &#123;</span><br><span class="line">                password = <span class="string">&quot;&quot;</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            username = username.trim();</span><br><span class="line">            UsernamePasswordAuthenticationToken authRequest = <span class="keyword">new</span> UsernamePasswordAuthenticationToken(username, password);</span><br><span class="line">            <span class="keyword">this</span>.setDetails(request, authRequest);</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">this</span>.getAuthenticationManager().authenticate(authRequest);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Nullable</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> String <span class="title">obtainPassword</span><span class="params">(HttpServletRequest request)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> request.getParameter(<span class="keyword">this</span>.passwordParameter);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Nullable</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> String <span class="title">obtainUsername</span><span class="params">(HttpServletRequest request)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> request.getParameter(<span class="keyword">this</span>.usernameParameter);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å…¶ä¸­ï¼š<strong>UsernamePasswordAuthenticationFilter</strong> æ˜¯ç»§æ‰¿ <strong>AbstractAuthenticationProcessingFilter</strong></p><blockquote><ul><li>é€šè¿‡ obtainUsername å’Œ obtainPassword æ–¹æ³•æå–å‡ºè¯·æ±‚é‡Œè¾¹çš„ç”¨æˆ·å/å¯†ç å‡ºæ¥ï¼Œæå–æ–¹å¼å°±æ˜¯ request.getParameter</li><li>è·å–åˆ°è¯·æ±‚é‡Œä¼ é€’æ¥çš„ç”¨æˆ·å/å¯†ç ä¹‹åï¼Œæ¥ä¸‹æ¥å°±æ„é€ ä¸€ä¸ª UsernamePasswordAuthenticationToken å¯¹è±¡ï¼Œä¼ å…¥ username å’Œ passwordï¼Œusername å¯¹åº”äº† UsernamePasswordAuthenticationToken ä¸­çš„ principal å±æ€§ï¼Œè€Œ password åˆ™å¯¹åº”äº†å®ƒçš„ credentials å±æ€§</li><li>æ¥ä¸‹æ¥ setDetails æ–¹æ³•ç»™ details å±æ€§èµ‹å€¼ï¼ŒUsernamePasswordAuthenticationToken æœ¬èº«æ˜¯æ²¡æœ‰ details å±æ€§çš„ï¼Œè¿™ä¸ªå±æ€§åœ¨å®ƒçš„çˆ¶ç±» AbstractAuthenticationToken ä¸­ã€‚details æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡é‡Œè¾¹æ”¾çš„æ˜¯ WebAuthenticationDetails å®ä¾‹ï¼Œè¯¥å®ä¾‹ä¸»è¦æè¿°äº†ä¸¤ä¸ªä¿¡æ¯ï¼Œè¯·æ±‚çš„ remoteAddress ä»¥åŠè¯·æ±‚çš„ sessionId</li><li>æœ€åè°ƒç”¨ authenticate æ–¹æ³•å»åšæ ¡éªŒäº†</li></ul></blockquote><p>ä»”ç»†æ¥ç»†è¯´ä¸€ä¸‹ä¸Šé¢ä»£ç ä¸­çš„æœ€åä¸€ä¸ªæ–¹æ³•ä¸­çš„æ ¡éªŒï¼š<strong>authenticate</strong> </p><p>æ ¡éªŒæ“ä½œé¦–å…ˆè¦è·å–åˆ°ä¸€ä¸ª AuthenticationManagerï¼š</p><p><img src="https://gitee.com/wonderfuleight/blogImg/raw/master//20201013100829.png" class="lazyload" data-srcset="https://gitee.com/wonderfuleight/blogImg/raw/master//20201013100829.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="image-20201013100826654"></p><p>è¿™é‡Œæ‹¿åˆ°çš„æ˜¯ ProviderManager ï¼Œæ‰€ä»¥æ¥ä¸‹æ¥æˆ‘ä»¬å°±è¿›å…¥åˆ° ProviderManager çš„ authenticate æ–¹æ³•ä¸­ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> Authentication <span class="title">authenticate</span><span class="params">(Authentication authentication)</span></span></span><br><span class="line"><span class="function">      <span class="keyword">throws</span> AuthenticationException </span>&#123;</span><br><span class="line">   Class&lt;? extends Authentication&gt; toTest = authentication.getClass();</span><br><span class="line">   AuthenticationException lastException = <span class="keyword">null</span>;</span><br><span class="line">   AuthenticationException parentException = <span class="keyword">null</span>;</span><br><span class="line">   Authentication result = <span class="keyword">null</span>;</span><br><span class="line">   Authentication parentResult = <span class="keyword">null</span>;</span><br><span class="line">   <span class="keyword">boolean</span> debug = logger.isDebugEnabled();</span><br><span class="line"></span><br><span class="line">   <span class="keyword">for</span> (AuthenticationProvider provider : getProviders()) &#123;</span><br><span class="line">      <span class="keyword">if</span> (!provider.supports(toTest)) &#123;</span><br><span class="line">         <span class="keyword">continue</span>;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">if</span> (debug) &#123;</span><br><span class="line">         logger.debug(<span class="string">&quot;Authentication attempt using &quot;</span></span><br><span class="line">               + provider.getClass().getName());</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">try</span> &#123;</span><br><span class="line">         result = provider.authenticate(authentication);</span><br><span class="line"></span><br><span class="line">         <span class="keyword">if</span> (result != <span class="keyword">null</span>) &#123;</span><br><span class="line">            copyDetails(authentication, result);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">         &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">catch</span> (AccountStatusException | InternalAuthenticationServiceException e) &#123;</span><br><span class="line">         prepareException(e, authentication);</span><br><span class="line">         <span class="keyword">throw</span> e;</span><br><span class="line">      &#125; <span class="keyword">catch</span> (AuthenticationException e) &#123;</span><br><span class="line">         lastException = e;</span><br><span class="line">      &#125;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">if</span> (result == <span class="keyword">null</span> &amp;&amp; parent != <span class="keyword">null</span>) &#123;</span><br><span class="line">      <span class="keyword">try</span> &#123;</span><br><span class="line">         result = parentResult = parent.authenticate(authentication);</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">catch</span> (ProviderNotFoundException e) &#123;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">catch</span> (AuthenticationException e) &#123;</span><br><span class="line">         lastException = parentException = e;</span><br><span class="line">      &#125;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">if</span> (result != <span class="keyword">null</span>) &#123;</span><br><span class="line">      <span class="keyword">if</span> (eraseCredentialsAfterAuthentication</span><br><span class="line">            &amp;&amp; (result <span class="keyword">instanceof</span> CredentialsContainer)) &#123;</span><br><span class="line">         ((CredentialsContainer) result).eraseCredentials();</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">if</span> (parentResult == <span class="keyword">null</span>) &#123;</span><br><span class="line">         eventPublisher.publishAuthenticationSuccess(result);</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">return</span> result;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">      ......</span><br><span class="line"></span><br><span class="line">   <span class="keyword">throw</span> lastException;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><ul><li>é¦–å…ˆè·å– authentication çš„ Classï¼Œåˆ¤æ–­å½“å‰ provider æ˜¯å¦æ”¯æŒè¯¥ authentication</li><li>å¦‚æœæ”¯æŒï¼Œåˆ™è°ƒç”¨ provider çš„ authenticate æ–¹æ³•å¼€å§‹åšæ ¡éªŒï¼Œæ ¡éªŒå®Œæˆåï¼Œä¼šè¿”å›ä¸€ä¸ªæ–°çš„ Authentication</li><li>è¿™é‡Œçš„ provider å¯èƒ½æœ‰å¤šä¸ªï¼Œå¦‚æœ provider çš„ authenticate æ–¹æ³•æ²¡èƒ½æ­£å¸¸è¿”å›ä¸€ä¸ª Authenticationï¼Œåˆ™è°ƒç”¨ provider çš„ parent çš„ authenticate æ–¹æ³•ç»§ç»­æ ¡éªŒ</li><li>copyDetails æ–¹æ³•åˆ™ç”¨æ¥æŠŠæ—§çš„ Token çš„ details å±æ€§æ‹·è´åˆ°æ–°çš„ Token ä¸­æ¥</li><li>æ¥ä¸‹æ¥ä¼šè°ƒç”¨ eraseCredentials æ–¹æ³•æ“¦é™¤å‡­è¯ä¿¡æ¯ï¼Œä¹Ÿå°±æ˜¯ä½ çš„å¯†ç ï¼Œè¿™ä¸ªæ“¦é™¤æ–¹æ³•æ¯”è¾ƒç®€å•ï¼Œå°±æ˜¯å°† Token ä¸­çš„ credentials å±æ€§ç½®ç©º</li><li>æœ€åé€šè¿‡ publishAuthenticationSuccess æ–¹æ³•å°†ç™»å½•æˆåŠŸçš„äº‹ä»¶å¹¿æ’­å‡ºå»</li></ul></blockquote><p>åœ¨å…·ä½“è¯´ä¸€ä¸‹è°ƒç”¨ provider çš„ authenticate æ–¹æ³•çš„è¿‡ç¨‹ï¼š</p><ul><li>åœ¨ for å¾ªç¯ä¸­ï¼Œç¬¬ä¸€æ¬¡æ‹¿åˆ°çš„ provider æ˜¯ä¸€ä¸ª AnonymousAuthenticationProviderï¼Œè¿™ä¸ª provider å‹æ ¹å°±ä¸æ”¯æŒ UsernamePasswordAuthenticationTokenï¼Œä¹Ÿå°±æ˜¯ä¼šç›´æ¥åœ¨ provider.supports æ–¹æ³•ä¸­è¿”å› falseï¼Œç»“æŸ for å¾ªç¯</li><li>ç„¶åä¼šè¿›å…¥åˆ°ä¸‹ä¸€ä¸ª if ä¸­ï¼Œç›´æ¥è°ƒç”¨ parent çš„ authenticate æ–¹æ³•è¿›è¡Œæ ¡éªŒã€‚è€Œ parent å°±æ˜¯ ProviderManagerï¼Œæ‰€ä»¥ä¼šå†æ¬¡å›åˆ°è¿™ä¸ª authenticate æ–¹æ³•ä¸­ã€‚å†æ¬¡å›åˆ° authenticate æ–¹æ³•ä¸­ï¼Œprovider ä¹Ÿå˜æˆäº† DaoAuthenticationProviderï¼Œè¿™ä¸ª provider æ˜¯æ”¯æŒ UsernamePasswordAuthenticationToken çš„</li><li>æ‰€ä»¥ä¼šé¡ºåˆ©è¿›å…¥åˆ°è¯¥ç±»çš„ authenticate æ–¹æ³•å»æ‰§è¡Œï¼Œè€Œ DaoAuthenticationProvider ç»§æ‰¿è‡ª AbstractUserDetailsAuthenticationProvider å¹¶ä¸”æ²¡æœ‰é‡å†™ authenticate æ–¹æ³•ï¼Œæ‰€ä»¥ æˆ‘ä»¬æœ€ç»ˆæ¥åˆ° AbstractUserDetailsAuthenticationProvider#authenticate æ–¹æ³•ä¸­ï¼š</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> Authentication <span class="title">authenticate</span><span class="params">(Authentication authentication)</span></span></span><br><span class="line"><span class="function">      <span class="keyword">throws</span> AuthenticationException </span>&#123;</span><br><span class="line">   Assert.isInstanceOf(UsernamePasswordAuthenticationToken.class, authentication,</span><br><span class="line">         () -&gt; messages.getMessage(</span><br><span class="line">               <span class="string">&quot;AbstractUserDetailsAuthenticationProvider.onlySupports&quot;</span>,</span><br><span class="line">               <span class="string">&quot;Only UsernamePasswordAuthenticationToken is supported&quot;</span>));</span><br><span class="line"></span><br><span class="line">   <span class="comment">// Determine username</span></span><br><span class="line">   String username = (authentication.getPrincipal() == <span class="keyword">null</span>) ? <span class="string">&quot;NONE_PROVIDED&quot;</span></span><br><span class="line">         : authentication.getName();</span><br><span class="line"></span><br><span class="line">   <span class="keyword">boolean</span> cacheWasUsed = <span class="keyword">true</span>;</span><br><span class="line">   UserDetails user = <span class="keyword">this</span>.userCache.getUserFromCache(username);</span><br><span class="line"></span><br><span class="line">   <span class="keyword">if</span> (user == <span class="keyword">null</span>) &#123;</span><br><span class="line">      cacheWasUsed = <span class="keyword">false</span>;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">try</span> &#123;</span><br><span class="line">         user = retrieveUser(username,</span><br><span class="line">               (UsernamePasswordAuthenticationToken) authentication);</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">catch</span> (UsernameNotFoundException notFound) &#123;</span><br><span class="line">         logger.debug(<span class="string">&quot;User &#x27;&quot;</span> + username + <span class="string">&quot;&#x27; not found&quot;</span>);</span><br><span class="line"></span><br><span class="line">         <span class="keyword">if</span> (hideUserNotFoundExceptions) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> BadCredentialsException(messages.getMessage(</span><br><span class="line">                  <span class="string">&quot;AbstractUserDetailsAuthenticationProvider.badCredentials&quot;</span>,</span><br><span class="line">                  <span class="string">&quot;Bad credentials&quot;</span>));</span><br><span class="line">         &#125;</span><br><span class="line">         <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">throw</span> notFound;</span><br><span class="line">         &#125;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      Assert.notNull(user,</span><br><span class="line">            <span class="string">&quot;retrieveUser returned null - a violation of the interface contract&quot;</span>);</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">try</span> &#123;</span><br><span class="line">      preAuthenticationChecks.check(user);</span><br><span class="line">      additionalAuthenticationChecks(user,</span><br><span class="line">            (UsernamePasswordAuthenticationToken) authentication);</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="keyword">catch</span> (AuthenticationException exception) &#123;</span><br><span class="line">      <span class="keyword">if</span> (cacheWasUsed) &#123;</span><br><span class="line">         cacheWasUsed = <span class="keyword">false</span>;</span><br><span class="line">         user = retrieveUser(username,</span><br><span class="line">               (UsernamePasswordAuthenticationToken) authentication);</span><br><span class="line">         preAuthenticationChecks.check(user);</span><br><span class="line">         additionalAuthenticationChecks(user,</span><br><span class="line">               (UsernamePasswordAuthenticationToken) authentication);</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">else</span> &#123;</span><br><span class="line">         <span class="keyword">throw</span> exception;</span><br><span class="line">      &#125;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   postAuthenticationChecks.check(user);</span><br><span class="line"></span><br><span class="line">   <span class="keyword">if</span> (!cacheWasUsed) &#123;</span><br><span class="line">      <span class="keyword">this</span>.userCache.putUserInCache(user);</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   Object principalToReturn = user;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">if</span> (forcePrincipalAsString) &#123;</span><br><span class="line">      principalToReturn = user.getUsername();</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">return</span> createSuccessAuthentication(principalToReturn, authentication, user);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><ul><li>é¦–å…ˆä» Authentication æå–å‡ºç™»å½•ç”¨æˆ·å</li><li>ç„¶åé€šè¿‡æ‹¿ç€ username å»è°ƒç”¨ retrieveUser æ–¹æ³•å»è·å–å½“å‰ç”¨æˆ·å¯¹è±¡ï¼Œè¿™ä¸€æ­¥ä¼šè°ƒç”¨æˆ‘ä»¬è‡ªå·±åœ¨ç™»å½•æ—¶å€™çš„å†™çš„ loadUserByUsername æ–¹æ³•ï¼Œæ‰€ä»¥è¿™é‡Œè¿”å›çš„ user å…¶å®å°±æ˜¯ä½ çš„ç™»å½•å¯¹è±¡</li><li>æ¥ä¸‹æ¥è°ƒç”¨ preAuthenticationChecks.check æ–¹æ³•å»æ£€éªŒ user ä¸­çš„å„ä¸ªè´¦æˆ·çŠ¶æ€å±æ€§æ˜¯å¦æ­£å¸¸ï¼Œä¾‹å¦‚è´¦æˆ·æ˜¯å¦è¢«ç¦ç”¨ã€è´¦æˆ·æ˜¯å¦è¢«é”å®šã€è´¦æˆ·æ˜¯å¦è¿‡æœŸç­‰ç­‰</li><li>additionalAuthenticationChecks æ–¹æ³•åˆ™æ˜¯åšå¯†ç æ¯”å¯¹çš„</li><li>æœ€ååœ¨ postAuthenticationChecks.check æ–¹æ³•ä¸­æ£€æŸ¥å¯†ç æ˜¯å¦è¿‡æœŸ</li><li>æ¥ä¸‹æ¥æœ‰ä¸€ä¸ª forcePrincipalAsString å±æ€§ï¼Œè¿™ä¸ªæ˜¯æ˜¯å¦å¼ºåˆ¶å°† Authentication ä¸­çš„ principal å±æ€§è®¾ç½®ä¸ºå­—ç¬¦ä¸²ï¼Œè¿™ä¸ªå±æ€§æˆ‘ä»¬ä¸€å¼€å§‹åœ¨ UsernamePasswordAuthenticationFilter ç±»ä¸­å…¶å®å°±æ˜¯è®¾ç½®ä¸ºå­—ç¬¦ä¸²çš„ï¼ˆå³ usernameï¼‰ï¼Œä½†æ˜¯é»˜è®¤æƒ…å†µä¸‹ï¼Œå½“ç”¨æˆ·ç™»å½•æˆåŠŸä¹‹åï¼Œ è¿™ä¸ªå±æ€§çš„å€¼å°±å˜æˆå½“å‰ç”¨æˆ·è¿™ä¸ªå¯¹è±¡äº†ã€‚ä¹‹æ‰€ä»¥ä¼šè¿™æ ·ï¼Œå°±æ˜¯å› ä¸º forcePrincipalAsString é»˜è®¤ä¸º falseï¼Œä¸è¿‡è¿™å—å…¶å®ä¸ç”¨æ”¹ï¼Œå°±ç”¨ falseï¼Œè¿™æ ·åœ¨åæœŸè·å–å½“å‰ç”¨æˆ·ä¿¡æ¯çš„æ—¶å€™åè€Œæ–¹ä¾¿å¾ˆå¤š</li><li>æœ€åï¼Œé€šè¿‡ createSuccessAuthentication æ–¹æ³•æ„å»ºä¸€ä¸ªæ–°çš„ UsernamePasswordAuthenticationToken</li></ul></blockquote><p>æ•´ä½“æµç¨‹å¤§æ¦‚å¦‚ä¸‹ï¼š</p><img src="http://dandandeshangni.oss-cn-beijing.aliyuncs.com/github/Spring%20Security/core-service-Sequence.png" class="lazyload" data-srcset="http://dandandeshangni.oss-cn-beijing.aliyuncs.com/github/Spring%20Security/core-service-Sequence.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="img1" style="zoom:200%;" /><p>å›¾æºï¼š<a href="https://niocoder.com/2018/01/02/Spring-Security%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90%E4%B8%80-Spring-Security%E8%AE%A4%E8%AF%81%E8%BF%87%E7%A8%8B/#%E6%A6%82%E8%BF%B0">Spring Securityè®¤è¯è¿‡ç¨‹</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;/assets/css/APlayer.min.css&quot;&gt;&lt;script src=&quot;/assets/js/APlayer.min.js&quot; cla</summary>
      
    
    
    
    <category term="Spring BootçœŸçš„é¦™ç³»åˆ—" scheme="http://wangba.me/categories/Spring-Boot%E7%9C%9F%E7%9A%84%E9%A6%99%E7%B3%BB%E5%88%97/"/>
    
    
    <category term="Spring Boot" scheme="http://wangba.me/tags/Spring-Boot/"/>
    
    <category term="Spring Security" scheme="http://wangba.me/tags/Spring-Security/"/>
    
  </entry>
  
  <entry>
    <title>0019.Remove Nth Node From End of List</title>
    <link href="http://wangba.me/2020/10/12/0019-Remove-Nth-Node-From-End-of-List/"/>
    <id>http://wangba.me/2020/10/12/0019-Remove-Nth-Node-From-End-of-List/</id>
    <published>2020-10-12T12:06:55.000Z</published>
    <updated>2020-10-12T12:10:23.037Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="19-åˆ é™¤é“¾è¡¨çš„å€’æ•°ç¬¬Nä¸ªèŠ‚ç‚¹-Medium"><a href="#19-åˆ é™¤é“¾è¡¨çš„å€’æ•°ç¬¬Nä¸ªèŠ‚ç‚¹-Medium" class="headerlink" title="19. åˆ é™¤é“¾è¡¨çš„å€’æ•°ç¬¬Nä¸ªèŠ‚ç‚¹ Medium"></a><a href="https://leetcode-cn.com/problems/remove-nth-node-from-end-of-list/">19. åˆ é™¤é“¾è¡¨çš„å€’æ•°ç¬¬Nä¸ªèŠ‚ç‚¹</a> <font color="#fd9016" size=5>Medium</font></h2><p>ç»™å®šä¸€ä¸ªé“¾è¡¨ï¼Œåˆ é™¤é“¾è¡¨çš„å€’æ•°ç¬¬ <em>n</em> ä¸ªèŠ‚ç‚¹ï¼Œå¹¶ä¸”è¿”å›é“¾è¡¨çš„å¤´ç»“ç‚¹ã€‚</p><p><strong>ç¤ºä¾‹ï¼š</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ç»™å®šä¸€ä¸ªé“¾è¡¨: 1-&gt;2-&gt;3-&gt;4-&gt;5, å’Œ n &#x3D; 2.</span><br><span class="line"></span><br><span class="line">å½“åˆ é™¤äº†å€’æ•°ç¬¬äºŒä¸ªèŠ‚ç‚¹åï¼Œé“¾è¡¨å˜ä¸º 1-&gt;2-&gt;3-&gt;5.</span><br></pre></td></tr></table></figure><p><strong>è¯´æ˜ï¼š</strong></p><p>ç»™å®šçš„ <em>n</em> ä¿è¯æ˜¯æœ‰æ•ˆçš„ã€‚</p><p><strong>è¿›é˜¶ï¼š</strong></p><p>ä½ èƒ½å°è¯•ä½¿ç”¨ä¸€è¶Ÿæ‰«æå®ç°å—ï¼Ÿ</p><h2 id="æ€è·¯ï¼š"><a href="#æ€è·¯ï¼š" class="headerlink" title="æ€è·¯ï¼š"></a>æ€è·¯ï¼š</h2><p>é¦–å…ˆå›å¿†ä¸€ä¸‹å¦‚ä½•åˆ é™¤ä¸€ä¸ªç»“ç‚¹ï¼Œå¯ä»¥å‚è€ƒ<a href="http://wangba.me/2020/10/03/LinkedList/">è¿™ä¸ª</a>ï¼Œä¸»è¦å°±æ˜¯æ‰¾åˆ°è¦åˆ é™¤å‰é¢çš„é‚£ä¸ªç»“ç‚¹</p><h3 id="æ€è·¯ä¸€ï¼šæš´åŠ›æ³•"><a href="#æ€è·¯ä¸€ï¼šæš´åŠ›æ³•" class="headerlink" title="æ€è·¯ä¸€ï¼šæš´åŠ›æ³•"></a>æ€è·¯ä¸€ï¼šæš´åŠ›æ³•</h3><p>ç›´æ¥ä¸¤æ¬¡éå†å³å¯ï¼Œç¬¬ä¸€éæ‰¾åˆ°è¿™ä¸ªé“¾è¡¨çš„é•¿åº¦ï¼Œç¬¬äºŒéåªéœ€è¦èµ°é“¾è¡¨é•¿åº¦å‡å»è¿™ä¸ª**<em>n**</em>å°±è¡Œäº†</p><h3 id="ä»£ç ï¼š"><a href="#ä»£ç ï¼š" class="headerlink" title="ä»£ç ï¼š"></a>ä»£ç ï¼š</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> ListNode <span class="title">removeNthFromEnd</span><span class="params">(ListNode head, <span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> length = <span class="number">0</span>;</span><br><span class="line">    ListNode l = head;</span><br><span class="line">    <span class="keyword">while</span> (l != <span class="keyword">null</span>) &#123;</span><br><span class="line">        length++;</span><br><span class="line">        l = l.next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (length == <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    l = head;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> sub = length - n;</span><br><span class="line">    <span class="keyword">if</span> (sub == <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> head.next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span> (sub &gt; <span class="number">1</span>) &#123;</span><br><span class="line">        l = l.next;</span><br><span class="line">        sub--;</span><br><span class="line">    &#125;</span><br><span class="line">    l.next = l.next.next;</span><br><span class="line">    <span class="keyword">return</span> head;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>è™½ç„¶éå†äº†ä¸¤æ¬¡ï¼Œä½†æ˜¯æ—¶é—´å¤æ‚åº¦è¿˜æ˜¯ O(n)ï¼Œçº¿æ€§é•¿åº¦</p><p>ç©ºé—´å¤æ‚åº¦ä¸º O(1)</p></blockquote><h3 id="æ€è·¯äºŒï¼šç›¸å¯¹ä½ç§»æ³•"><a href="#æ€è·¯äºŒï¼šç›¸å¯¹ä½ç§»æ³•" class="headerlink" title="æ€è·¯äºŒï¼šç›¸å¯¹ä½ç§»æ³•"></a>æ€è·¯äºŒï¼šç›¸å¯¹ä½ç§»æ³•</h3><p>è¿™ä¸ªæ€è·¯ä¹Ÿå¾ˆç®€å•ï¼Œå¯¹æ¯”ä¸Šé¢çš„æ€è·¯å¥½å¤„æ˜¯ï¼šåªéœ€è¦éå†ä¸€éå°±è¡Œäº†</p><p>åŒæŒ‡é’ˆï¼Œè®© A æŒ‡é’ˆå…ˆèµ° <strong><em>n</em></strong>æ­¥ï¼Œéšåå†è®© B æŒ‡é’ˆå’Œ A æŒ‡é’ˆä¸€èµ·èµ°ï¼Œè¿™æ ·å°±ä¼šæœ‰é•¿åº¦ä¸º n çš„ç›¸å¯¹ä½ç§»ï¼Œç›´åˆ°è®© A æŒ‡é’ˆèµ°åˆ°ç»ˆç‚¹ï¼Œæ­¤æ—¶ B æŒ‡é’ˆä¹Ÿå°±è·ç»ˆç‚¹ n çš„é•¿åº¦äº†</p><h3 id="ä»£ç ï¼š-1"><a href="#ä»£ç ï¼š-1" class="headerlink" title="ä»£ç ï¼š"></a>ä»£ç ï¼š</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> ListNode <span class="title">removeNthFromEnd</span><span class="params">(ListNode head, <span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">    ListNode fast = head, slow = head;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;n; i++)&#123;</span><br><span class="line">        fast = fast.next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (fast == <span class="keyword">null</span>) <span class="keyword">return</span> head.next;</span><br><span class="line">    <span class="keyword">while</span> (fast.next != <span class="keyword">null</span>)&#123;</span><br><span class="line">        fast = fast.next;</span><br><span class="line">        slow = slow.next;</span><br><span class="line">    &#125;</span><br><span class="line">    slow.next = slow.next.next;</span><br><span class="line">    <span class="keyword">return</span> head;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">ä¸€å¤©ä¸€é“åŠ›æ‰£é¢˜ï¼Œå—¤ä¹‹ä»¥é¼»ï¼ŒåŠä¿¡åŠç–‘ï¼Œç™¾æ„Ÿäº¤é›†ï¼Œå…³é—¨å¤§å‰ï¼Œskr skr ! ! !</summary>
    
    
    
    <category term="LeetCodeçœŸçš„éš¾ç³»åˆ—" scheme="http://wangba.me/categories/LeetCode%E7%9C%9F%E7%9A%84%E9%9A%BE%E7%B3%BB%E5%88%97/"/>
    
    
    <category term="Leetcode" scheme="http://wangba.me/tags/Leetcode/"/>
    
    <category term="Array" scheme="http://wangba.me/tags/Array/"/>
    
    <category term="LinkedList" scheme="http://wangba.me/tags/LinkedList/"/>
    
  </entry>
  
  <entry>
    <title>0160. Intersection of Two Linked Lists</title>
    <link href="http://wangba.me/2020/10/12/0160-Intersection-of-Two-Linked-Lists/"/>
    <id>http://wangba.me/2020/10/12/0160-Intersection-of-Two-Linked-Lists/</id>
    <published>2020-10-12T02:09:45.000Z</published>
    <updated>2020-10-12T02:32:26.613Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="160-ç›¸äº¤é“¾è¡¨-Easy"><a href="#160-ç›¸äº¤é“¾è¡¨-Easy" class="headerlink" title="160. ç›¸äº¤é“¾è¡¨  Easy"></a><a href="https://leetcode-cn.com/problems/intersection-of-two-linked-lists/">160. ç›¸äº¤é“¾è¡¨</a>  <font color="#49b666" size=5>Easy</font></h2><p>ç¼–å†™ä¸€ä¸ªç¨‹åºï¼Œæ‰¾åˆ°ä¸¤ä¸ªå•é“¾è¡¨ç›¸äº¤çš„èµ·å§‹èŠ‚ç‚¹ã€‚</p><p>å¦‚ä¸‹é¢çš„ä¸¤ä¸ªé“¾è¡¨<strong>ï¼š</strong></p><p><img src="https://assets.leetcode-cn.com/aliyun-lc-upload/uploads/2018/12/14/160_statement.png" class="lazyload" data-srcset="https://assets.leetcode-cn.com/aliyun-lc-upload/uploads/2018/12/14/160_statement.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="img"></p><p>åœ¨èŠ‚ç‚¹ c1 å¼€å§‹ç›¸äº¤ã€‚</p><p><strong>ç¤ºä¾‹ 1ï¼š</strong></p><p><img src="https://assets.leetcode-cn.com/aliyun-lc-upload/uploads/2018/12/14/160_example_1.png" class="lazyload" data-srcset="https://assets.leetcode-cn.com/aliyun-lc-upload/uploads/2018/12/14/160_example_1.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="img"></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šintersectVal &#x3D; 8, listA &#x3D; [4,1,8,4,5], listB &#x3D; [5,0,1,8,4,5], skipA &#x3D; 2, skipB &#x3D; 3</span><br><span class="line">è¾“å‡ºï¼šReference of the node with value &#x3D; 8</span><br><span class="line">è¾“å…¥è§£é‡Šï¼šç›¸äº¤èŠ‚ç‚¹çš„å€¼ä¸º 8 ï¼ˆæ³¨æ„ï¼Œå¦‚æœä¸¤ä¸ªé“¾è¡¨ç›¸äº¤åˆ™ä¸èƒ½ä¸º 0ï¼‰ã€‚ä»å„è‡ªçš„è¡¨å¤´å¼€å§‹ç®—èµ·ï¼Œé“¾è¡¨ A ä¸º [4,1,8,4,5]ï¼Œé“¾è¡¨ B ä¸º [5,0,1,8,4,5]ã€‚åœ¨ A ä¸­ï¼Œç›¸äº¤èŠ‚ç‚¹å‰æœ‰ 2 ä¸ªèŠ‚ç‚¹ï¼›åœ¨ B ä¸­ï¼Œç›¸äº¤èŠ‚ç‚¹å‰æœ‰ 3 ä¸ªèŠ‚ç‚¹ã€‚</span><br></pre></td></tr></table></figure><p><strong>ç¤ºä¾‹ 2ï¼š</strong></p><p><img src="https://assets.leetcode-cn.com/aliyun-lc-upload/uploads/2018/12/14/160_example_2.png" class="lazyload" data-srcset="https://assets.leetcode-cn.com/aliyun-lc-upload/uploads/2018/12/14/160_example_2.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="img"></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šintersectVal &#x3D; 2, listA &#x3D; [0,9,1,2,4], listB &#x3D; [3,2,4], skipA &#x3D; 3, skipB &#x3D; 1</span><br><span class="line">è¾“å‡ºï¼šReference of the node with value &#x3D; 2</span><br><span class="line">è¾“å…¥è§£é‡Šï¼šç›¸äº¤èŠ‚ç‚¹çš„å€¼ä¸º 2 ï¼ˆæ³¨æ„ï¼Œå¦‚æœä¸¤ä¸ªé“¾è¡¨ç›¸äº¤åˆ™ä¸èƒ½ä¸º 0ï¼‰ã€‚ä»å„è‡ªçš„è¡¨å¤´å¼€å§‹ç®—èµ·ï¼Œé“¾è¡¨ A ä¸º [0,9,1,2,4]ï¼Œé“¾è¡¨ B ä¸º [3,2,4]ã€‚åœ¨ A ä¸­ï¼Œç›¸äº¤èŠ‚ç‚¹å‰æœ‰ 3 ä¸ªèŠ‚ç‚¹ï¼›åœ¨ B ä¸­ï¼Œç›¸äº¤èŠ‚ç‚¹å‰æœ‰ 1 ä¸ªèŠ‚ç‚¹ã€‚</span><br></pre></td></tr></table></figure><p><strong>ç¤ºä¾‹ 3ï¼š</strong></p><p><img src="https://assets.leetcode-cn.com/aliyun-lc-upload/uploads/2018/12/14/160_example_3.png" class="lazyload" data-srcset="https://assets.leetcode-cn.com/aliyun-lc-upload/uploads/2018/12/14/160_example_3.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="img"></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šintersectVal &#x3D; 0, listA &#x3D; [2,6,4], listB &#x3D; [1,5], skipA &#x3D; 3, skipB &#x3D; 2</span><br><span class="line">è¾“å‡ºï¼šnull</span><br><span class="line">è¾“å…¥è§£é‡Šï¼šä»å„è‡ªçš„è¡¨å¤´å¼€å§‹ç®—èµ·ï¼Œé“¾è¡¨ A ä¸º [2,6,4]ï¼Œé“¾è¡¨ B ä¸º [1,5]ã€‚ç”±äºè¿™ä¸¤ä¸ªé“¾è¡¨ä¸ç›¸äº¤ï¼Œæ‰€ä»¥ intersectVal å¿…é¡»ä¸º 0ï¼Œè€Œ skipA å’Œ skipB å¯ä»¥æ˜¯ä»»æ„å€¼ã€‚</span><br><span class="line">è§£é‡Šï¼šè¿™ä¸¤ä¸ªé“¾è¡¨ä¸ç›¸äº¤ï¼Œå› æ­¤è¿”å› nullã€‚</span><br></pre></td></tr></table></figure><p><strong>æ³¨æ„ï¼š</strong></p><ul><li>å¦‚æœä¸¤ä¸ªé“¾è¡¨æ²¡æœ‰äº¤ç‚¹ï¼Œè¿”å› <code>null</code>.</li><li>åœ¨è¿”å›ç»“æœåï¼Œä¸¤ä¸ªé“¾è¡¨ä»é¡»ä¿æŒåŸæœ‰çš„ç»“æ„ã€‚</li><li>å¯å‡å®šæ•´ä¸ªé“¾è¡¨ç»“æ„ä¸­æ²¡æœ‰å¾ªç¯ã€‚</li><li>ç¨‹åºå°½é‡æ»¡è¶³ O(<em>n</em>) æ—¶é—´å¤æ‚åº¦ï¼Œä¸”ä»…ç”¨ O(<em>1</em>) å†…å­˜ã€‚</li></ul><h3 id="æ€è·¯åˆ†æ"><a href="#æ€è·¯åˆ†æ" class="headerlink" title="æ€è·¯åˆ†æ"></a>æ€è·¯åˆ†æ</h3><h4 id="æ€è·¯ä¸€ï¼šæš´åŠ›æ³•"><a href="#æ€è·¯ä¸€ï¼šæš´åŠ›æ³•" class="headerlink" title="æ€è·¯ä¸€ï¼šæš´åŠ›æ³•"></a>æ€è·¯ä¸€ï¼šæš´åŠ›æ³•</h4><p>éå†é“¾è¡¨ A çš„æ—¶å€™ï¼Œæ¯éå†ä¸€ä¸ªç»“ç‚¹éƒ½å®Œæ•´éå†ä¸€ä¸‹é“¾è¡¨ Bï¼Œåˆ¤æ–­æŒ‡å‘çš„ç»“ç‚¹æ˜¯å¦ä¸ºåŒä¸€ä¸ªï¼Œè¿™æ ·æ—¶é—´å¤æ‚åº¦ä¸º O(mn)</p><h4 id="æ€è·¯äºŒï¼š-HashMap"><a href="#æ€è·¯äºŒï¼š-HashMap" class="headerlink" title="æ€è·¯äºŒï¼š+ HashMap"></a>æ€è·¯äºŒï¼š+ HashMap</h4><p>åœ¨æ€è·¯ä¸€çš„åŸºç¡€ä¸Šï¼Œå…ˆå°†é“¾è¡¨ A çš„æ‰€æœ‰ç»“ç‚¹å…ˆæ”¾å…¥ HashMap ä¸­ï¼Œéå†é“¾è¡¨ B çš„æ—¶å€™æ¯”è¾ƒæ¯ä¸ªèŠ‚ç‚¹æ˜¯å¦å­˜åœ¨ HashMap ä¸­ï¼Œæ­¤æ—¶æ—¶é—´å¤æ‚åº¦ä¸º O(n)ï¼Œä½†æ˜¯ç©ºé—´å¤æ‚åº¦ä¸º O(n)</p><h4 id="æ€è·¯ä¸‰ï¼š"><a href="#æ€è·¯ä¸‰ï¼š" class="headerlink" title="æ€è·¯ä¸‰ï¼š"></a>æ€è·¯ä¸‰ï¼š</h4><p>åœ¨ä¸Šé¢çš„å›¾ä¸­å¯ä»¥çœ‹è§ï¼Œåœ¨æœ‰äº¤ç‚¹çš„æƒ…å†µä¸‹ï¼Œæ— éå°±ä¸‰ç§æƒ…å†µï¼šç”±äºåœ¨äº¤ç‚¹å(åŒ…æ‹¬äº¤ç‚¹)çš„æ‰€æœ‰ç»“ç‚¹éƒ½ç›¸åŒ</p><ul><li>é“¾è¡¨ A çš„é•¿åº¦ &gt; é“¾è¡¨ B çš„é•¿åº¦</li><li>é“¾è¡¨ A çš„é•¿åº¦ = é“¾è¡¨ B çš„é•¿åº¦</li><li>é“¾è¡¨ A çš„é•¿åº¦ &lt; é“¾è¡¨ B çš„é•¿åº¦</li></ul><p>å¦‚æœæˆ‘ä»¬èƒ½ç®—å‡ºè¿™ä¸ªé•¿åº¦å·®ï¼Œç„¶åè®©é•¿çš„é‚£ä¸ªé“¾è¡¨å…ˆèµ°è¿™ä¸ªé•¿åº¦å·®ï¼Œå†è®©ä¸¤ä¸ªé“¾è¡¨ä¸€èµ·èµ°ï¼Œç›´åˆ°èµ°åˆ°ç›¸äº¤ç‚¹</p><p>ä¸¾ä¸ªä¾‹å­ï¼Œå¦‚ä¸‹ï¼š</p><p><img src="https://gitee.com/wonderfuleight/blogImg/raw/master//20201012093913.png" class="lazyload" data-srcset="https://gitee.com/wonderfuleight/blogImg/raw/master//20201012093913.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="image-20201012093912222"></p><blockquote><ul><li>é“¾è¡¨ A é•¿åº¦ = 6ï¼›é“¾è¡¨ B é•¿åº¦ = 4ï¼›é“¾è¡¨å·® = 2</li><li>è®©é•¿åº¦é•¿çš„é“¾è¡¨(A)å…ˆèµ°é“¾è¡¨å·®ï¼Œå³ pointerA å…ˆèµ° 2 ä¸ªç»“ç‚¹</li><li>pointerA ä¸ pointerB ä¸€èµ·éå†ï¼Œç›´åˆ°éå†åˆ°ç›¸åŒç»“ç‚¹</li></ul></blockquote><h3 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> ListNode <span class="title">getIntersectionNode</span><span class="params">(ListNode headA, ListNode headB)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (headA == <span class="keyword">null</span> || headB == <span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    ListNode a = headA;</span><br><span class="line">    ListNode b = headB;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// é“¾è¡¨A å’Œ é“¾è¡¨B çš„é•¿åº¦</span></span><br><span class="line">    <span class="keyword">int</span> la = <span class="number">0</span>, lb = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (a.next != <span class="keyword">null</span>) &#123;</span><br><span class="line">        la++;</span><br><span class="line">        a = a.next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span> (b.next != <span class="keyword">null</span>) &#123;</span><br><span class="line">        lb++;</span><br><span class="line">        b = b.next;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ­¤æ—¶è¯´æ˜ç›´åˆ° é“¾è¡¨A å’Œ é“¾è¡¨B çš„æœ€åä¸€ä¸ªç»“ç‚¹éƒ½è¿˜æ²¡ç›¸äº¤</span></span><br><span class="line">    <span class="keyword">if</span> (a != b) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// é“¾è¡¨A çš„é•¿åº¦å¤§äº é“¾è¡¨B</span></span><br><span class="line">    <span class="keyword">if</span> (la &gt; lb) &#123;</span><br><span class="line">        <span class="keyword">int</span> sub = la - lb;</span><br><span class="line">        <span class="keyword">while</span> (sub &gt; <span class="number">0</span>)&#123;</span><br><span class="line">            headA = headA.next;</span><br><span class="line">            sub--;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// é“¾è¡¨A çš„é•¿åº¦å°äº é“¾è¡¨B</span></span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">int</span> sub = lb - la;</span><br><span class="line">        <span class="keyword">while</span> (sub &gt; <span class="number">0</span>)&#123;</span><br><span class="line">            headB = headB.next;</span><br><span class="line">            sub--;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (headA != headB) &#123;</span><br><span class="line">        headA = headA.next;</span><br><span class="line">        headB = headB.next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> headA;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¦å¤–ä¸€ç§ç®€æ´çš„å†™æ³•ï¼Œæ€è·¯ä¸€æ ·</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> ListNode <span class="title">getIntersectionNode</span><span class="params">(ListNode headA, ListNode headB)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(headA == <span class="keyword">null</span> || headB == <span class="keyword">null</span>) <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line">    ListNode a = headA;</span><br><span class="line">    ListNode b = headB;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span>( a != b)&#123;</span><br><span class="line">        a = a == <span class="keyword">null</span>? headB : a.next;</span><br><span class="line">        b = b == <span class="keyword">null</span>? headA : b.next;    </span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> a;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>å¦‚æœæ²¡æœ‰é‡åˆéƒ¨åˆ†ï¼Œé‚£ä¹ˆ <code>a</code> å’Œ <code>b</code> åœ¨æŸä¸€æ—¶é—´ç‚¹ ä¸€å®šä¼šåŒæ—¶èµ°åˆ° <code>null</code>ï¼Œä»è€Œç»“æŸå¾ªç¯ï¼›</li><li>å¦‚æœæœ‰é‡åˆéƒ¨åˆ†ï¼Œåˆ†ä¸¤ç§æƒ…å†µï¼š<ul><li>é•¿åº¦ç›¸åŒçš„è¯ï¼Œ <code>a</code> å’Œ <code>b</code> ä¸€å®šæ˜¯åŒæ—¶åˆ°è¾¾ç›¸é‡ç‚¹ï¼Œç„¶åè¿”å›ï¼›</li><li>é•¿åº¦ä¸åŒçš„è¯ï¼Œè¾ƒçŸ­çš„é“¾è¡¨å…ˆåˆ°è¾¾ç»“å°¾ï¼Œç„¶åæŒ‡é’ˆè½¬å‘è¾ƒé•¿çš„é“¾è¡¨ã€‚æ­¤åˆ»ï¼Œè¾ƒé•¿çš„é“¾è¡¨ç»§ç»­å‘æœ«å°¾èµ°ï¼Œå¤šèµ°çš„è·ç¦»åˆšå¥½å°±æ˜¯æœ€å¼€å§‹ä»‹ç»çš„è§£æ³•ï¼Œé“¾è¡¨çš„é•¿åº¦å·®ï¼Œèµ°å®Œä¹‹åæŒ‡é’ˆè½¬å‘è¾ƒçŸ­çš„é“¾è¡¨ã€‚ç„¶åç»§ç»­èµ°çš„è¯ï¼Œç›¸é‡çš„ä½ç½®å°±åˆšå¥½æ˜¯ç›¸é‡ç‚¹äº†ã€‚</li></ul></li></ul>]]></content>
    
    
    <summary type="html">ä¸€å¤©ä¸€é“åŠ›æ‰£é¢˜ï¼Œå—¤ä¹‹ä»¥é¼»ï¼ŒåŠä¿¡åŠç–‘ï¼Œç™¾æ„Ÿäº¤é›†ï¼Œå…³é—¨å¤§å‰ï¼Œskr skr ! ! !</summary>
    
    
    
    <category term="LeetCodeçœŸçš„éš¾ç³»åˆ—" scheme="http://wangba.me/categories/LeetCode%E7%9C%9F%E7%9A%84%E9%9A%BE%E7%B3%BB%E5%88%97/"/>
    
    
    <category term="Leetcode" scheme="http://wangba.me/tags/Leetcode/"/>
    
    <category term="Array" scheme="http://wangba.me/tags/Array/"/>
    
    <category term="LinkedList" scheme="http://wangba.me/tags/LinkedList/"/>
    
  </entry>
  
  <entry>
    <title>SpringBootæ•´åˆSpring Security(å…­)</title>
    <link href="http://wangba.me/2020/10/10/SpringBoot%E6%95%B4%E5%90%88Spring-Security-%E5%85%AD/"/>
    <id>http://wangba.me/2020/10/10/SpringBoot%E6%95%B4%E5%90%88Spring-Security-%E5%85%AD/</id>
    <published>2020-10-10T09:32:56.000Z</published>
    <updated>2020-10-10T09:34:50.900Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="ä¸€ã€OverView"><a href="#ä¸€ã€OverView" class="headerlink" title="ä¸€ã€OverView"></a>ä¸€ã€OverView</h2><p>â€‹        åœ¨ä¸Šä¸€èŠ‚ä¸­ï¼Œä½¿ç”¨äº†ç¬¬ä¸€ç§æ–¹å¼ï¼šJDBC è¿æ¥æ•°æ®åº“ã€‚è¿™ä¸€èŠ‚ä¸­å°†ä½¿ç”¨ Spring Data JPA è¿›è¡Œæ•°æ®åº“æ“ä½œã€‚å¦‚æœå¯¹ JPA çš„ç¯å¢ƒå’Œæ“ä½œæ²¡äº†è§£è¿‡çš„ï¼Œå¯ä»¥é€‚å½“å‚è€ƒ<a href="http://wangba.me/2020/09/10/SpringBoot%E6%95%B4%E5%90%88Spring-Data-JPA-%E4%B8%80/">è¿™ä¸ª</a>ã€‚</p><p>åœ¨ä¸Šä¸€èŠ‚ä¹Ÿæåˆ° Spring Security æ”¯æŒå¤šç§æ•°æ®æºï¼Œè¿™äº›ä¸åŒæ¥æºçš„æ•°æ®è¢«å…±åŒå°è£…æˆäº†ä¸€ä¸ª UserDetailService æ¥å£</p><p><img src="https://gitee.com/wonderfuleight/blogImg/raw/master//20201010091947.png" class="lazyload" data-srcset="https://gitee.com/wonderfuleight/blogImg/raw/master//20201010091947.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="image-20201010091945655"></p><p>â€‹        åœ¨è¿™ä¸€èŠ‚ä¸­ï¼Œè¿˜æ˜¯è¿™ä¸ªæ€è·¯ï¼Œè¿™ä¸€æ¬¡ä¸ç”¨ Spring Security æä¾›çš„ç±», å¯ä»¥è‡ªå®šä¹‰ä¸€ä¸ªç±»å»å®ç° UserDetailService </p><h2 id="äºŒã€ç¯å¢ƒæ­å»º"><a href="#äºŒã€ç¯å¢ƒæ­å»º" class="headerlink" title="äºŒã€ç¯å¢ƒæ­å»º"></a>äºŒã€ç¯å¢ƒæ­å»º</h2><p><code>æ€è·¯æ¸…æ™°ï¼Œå…ˆçœ‹ä¾èµ–</code></p><p><img src="https://gitee.com/wonderfuleight/blogImg/raw/master//20201010133402.png" class="lazyload" data-srcset="https://gitee.com/wonderfuleight/blogImg/raw/master//20201010133402.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="image-20201010133400947"></p><p><code>application.properties</code></p><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">spring.datasource.username</span>=<span class="string">root</span></span><br><span class="line"><span class="meta">spring.datasource.password</span>=<span class="string"></span></span><br><span class="line"><span class="meta">spring.datasource.url</span>=<span class="string">jdbc:mysql://127.0.0.1:3306/security?useUnicode=true&amp;characterEncoding=UTF-8&amp;serverTimezone=Asia/Shanghai</span></span><br><span class="line"></span><br><span class="line"><span class="meta">spring.jpa.database</span>=<span class="string">mysql</span></span><br><span class="line"><span class="meta">spring.jpa.database-platform</span>=<span class="string">mysql</span></span><br><span class="line"><span class="meta">spring.jpa.hibernate.ddl-auto</span>=<span class="string">update</span></span><br><span class="line"><span class="meta">spring.jpa.show-sql</span>=<span class="string">true</span></span><br><span class="line"><span class="meta">spring.jpa.properties.hibernate.dialect</span>=<span class="string">org.hibernate.dialect.MySQL8Dialect</span></span><br></pre></td></tr></table></figure><p><strong>å®ä½“ç±»</strong></p><p><code>User</code></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Entity(name = &quot;t_user&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">User</span> <span class="keyword">implements</span> <span class="title">UserDetails</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Id</span></span><br><span class="line">    <span class="meta">@GeneratedValue(strategy = GenerationType.IDENTITY)</span></span><br><span class="line">    <span class="keyword">private</span> Long id;</span><br><span class="line">    <span class="keyword">private</span> String username;</span><br><span class="line">    <span class="keyword">private</span> String password;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">boolean</span> accountNonExpired;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">boolean</span> accountNonLocked;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">boolean</span> credentialsNonExpired;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">boolean</span> enabled;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// User å’Œ Role æ˜¯å¤šå¯¹å¤šå…³ç³»</span></span><br><span class="line">    <span class="meta">@ManyToMany(fetch = FetchType.EAGER,cascade = CascadeType.PERSIST)</span></span><br><span class="line">    <span class="keyword">private</span> List&lt;Role&gt; roles;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è¿”å›ç”¨æˆ·æƒé™</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> Collection&lt;? extends GrantedAuthority&gt; getAuthorities() &#123;</span><br><span class="line">        List&lt;SimpleGrantedAuthority&gt; authorities = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span> (Role role : getRoles()) &#123;</span><br><span class="line">            authorities.add(<span class="keyword">new</span> SimpleGrantedAuthority(role.getName()));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> authorities;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getPassword</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> password;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getUsername</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> username;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ç”¨æˆ·æ˜¯å¦è¿‡æœŸ</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isAccountNonExpired</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> accountNonExpired;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ç”¨æˆ·æ˜¯å¦è¢«é”</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isAccountNonLocked</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> accountNonLocked;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å¯†ç æ˜¯å¦è¿‡æœŸ</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isCredentialsNonExpired</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> credentialsNonExpired;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è´¦æˆ·æ˜¯å¦å¯ç”¨</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isEnabled</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> enabled;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// set get çœç•¥</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>æ³¨ï¼šè¿™é‡Œä¸ºä»€ä¹ˆ User è¦å®ç° UserDetails ? ä¸»è¦æ˜¯ç”±äºåœ¨è‡ªå®šä¹‰ç±»å®ç° UserDetailServiceï¼Œå…¶ä¸­åªæœ‰å”¯ä¸€çš„æŠ½è±¡æ–¹æ³•<code>loadUserByUsername</code>ï¼Œè€Œè¯¥æ–¹æ³•å°±æ˜¯è¿”å›çš„ UserDetails</p></blockquote><p><code>Role</code></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Entity(name = &quot;t_role&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Role</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Id</span></span><br><span class="line">    <span class="meta">@GeneratedValue(strategy = GenerationType.IDENTITY)</span></span><br><span class="line">    <span class="keyword">private</span> Long id;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> String nameZh;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>UserDao</code></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">UserDao</span> <span class="keyword">extends</span> <span class="title">JpaRepository</span>&lt;<span class="title">User</span>, <span class="title">Long</span>&gt; </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * é€šè¿‡ç”¨æˆ·åæ‰¾åˆ°ç”¨æˆ·</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> username ç”¨æˆ·å</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> &#123;<span class="doctag">@link</span> User&#125;</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function">User <span class="title">findAllByUsername</span><span class="params">(String username)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸æ‡‚ä¸ºå•¥è¿™ä¹ˆå†™çš„å¯ä»¥å‚è€ƒä¸€ä¸‹ <a href="http://wangba.me/2020/09/10/SpringBoot%E6%95%B4%E5%90%88Spring-Data-JPA-%E4%B8%80/">JPA çš„ CRUD æ“ä½œ</a></p><p><code>UserService</code></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserService</span> <span class="keyword">implements</span> <span class="title">UserDetailsService</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> UserDao userDao;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setUserDao</span><span class="params">(UserDao userDao)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.userDao = userDao;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> UserDetails <span class="title">loadUserByUsername</span><span class="params">(String s)</span> <span class="keyword">throws</span> UsernameNotFoundException </span>&#123;</span><br><span class="line">        User user = userDao.findAllByUsername(s);</span><br><span class="line">        <span class="keyword">if</span> (StringUtils.isEmpty(user)) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> UsernameNotFoundException(<span class="string">&quot;ç”¨æˆ·ä¸å­˜åœ¨&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> user;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * ä¿å­˜ç”¨æˆ·</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> user ç”¨æˆ·</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> &#123;<span class="doctag">@link</span> User&#125;</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function">User <span class="title">save</span><span class="params">(User user)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> userDao.save(user);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>æ³¨ï¼š</p><ul><li>å®ç°äº† UserDetailsServiceï¼Œé‡å†™å…¶ä¸­çš„ <code>loadUserByUsername</code> æ–¹æ³•ï¼šé€šè¿‡ä¼ å…¥çš„ç”¨æˆ·åæŸ¥æ‰¾ç”¨æˆ·ä¿¡æ¯</li><li><code>save</code> æ–¹æ³•æ˜¯ä¸ºäº†åé¢å†™å…¥ä¸åŒè§’è‰²ç”¨æˆ·</li></ul></blockquote><p><code>UserController</code></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserController</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> UserService userService;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setUserService</span><span class="params">(UserService userService)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.userService = userService;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@PutMapping(&quot;/save&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> User <span class="title">save</span><span class="params">(<span class="meta">@RequestBody</span> User user)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> userService.save(user);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å°† <code>SecurityConfig</code> ä¸­ configure æ–¹æ³•æ”¹ä¸ºï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> UserService userService;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Autowired</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setUserService</span><span class="params">(UserService userService)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.userService = userService;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">configure</span><span class="params">(AuthenticationManagerBuilder auth)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">    auth.userDetailsService(userService);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="ä¸‰ã€Test"><a href="#ä¸‰ã€Test" class="headerlink" title="ä¸‰ã€Test"></a>ä¸‰ã€Test</h2><p><code>Postman</code></p><p>ç”±äºåœ¨æœªç™»å½•çš„æƒ…å†µä¸‹ï¼Œç›´æ¥è°ƒç”¨ localhost:8080/save æ¥å£ä¼šå¤±è´¥ï¼Œæ‰€ä»¥å…ˆåœ¨æ•°æ®åº“ä¸­æ‰‹åŠ¨æ·»åŠ ä¸€ä¸ªæ•°æ®ï¼š</p><p><strong>user è¡¨ï¼š</strong></p><p><img src="https://gitee.com/wonderfuleight/blogImg/raw/master//20201010155708.png" class="lazyload" data-srcset="https://gitee.com/wonderfuleight/blogImg/raw/master//20201010155708.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="image-20201010155707544"></p><p><strong>role è¡¨ï¼š</strong></p><p><img src="https://gitee.com/wonderfuleight/blogImg/raw/master//20201010155728.png" class="lazyload" data-srcset="https://gitee.com/wonderfuleight/blogImg/raw/master//20201010155728.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="image-20201010155725922"></p><p><strong>user_role å…³ç³»è¡¨ï¼š</strong></p><p><img src="https://gitee.com/wonderfuleight/blogImg/raw/master//20201010155743.png" class="lazyload" data-srcset="https://gitee.com/wonderfuleight/blogImg/raw/master//20201010155743.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="image-20201010155742141"></p><p><strong>ä½¿ç”¨ä¸Šè¿°å¢åŠ çš„ç”¨æˆ·ç™»å½•ï¼š</strong></p><p><img src="https://gitee.com/wonderfuleight/blogImg/raw/master//20201010160125.png" class="lazyload" data-srcset="https://gitee.com/wonderfuleight/blogImg/raw/master//20201010160125.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="image-20201010160123372"></p><p><strong>å¢åŠ ä¸åŒè§’è‰²ç”¨æˆ·ï¼š</strong></p><p><code>user ç”¨æˆ·</code></p><p><img src="https://gitee.com/wonderfuleight/blogImg/raw/master//20201010160317.png" class="lazyload" data-srcset="https://gitee.com/wonderfuleight/blogImg/raw/master//20201010160317.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="image-20201010160316590"></p><p><code>adminç”¨æˆ·</code></p><p><img src="https://gitee.com/wonderfuleight/blogImg/raw/master//20201010160436.png" class="lazyload" data-srcset="https://gitee.com/wonderfuleight/blogImg/raw/master//20201010160436.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="image-20201010160434975"></p><p><strong>çœ‹ä¸‹æ•°æ®åº“ï¼š</strong></p><p><code>userè¡¨</code></p><p><img src="https://gitee.com/wonderfuleight/blogImg/raw/master//20201010160556.png" class="lazyload" data-srcset="https://gitee.com/wonderfuleight/blogImg/raw/master//20201010160556.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="image-20201010160555645"></p><p><code>roleè¡¨</code></p><p>![image-20201010160613255](/Users/wangdechao/Library/Application Support/typora-user-images/image-20201010160613255.png)</p><p><code>user_role å…³ç³»è¡¨</code></p><p><img src="https://gitee.com/wonderfuleight/blogImg/raw/master//20201010160630.png" class="lazyload" data-srcset="https://gitee.com/wonderfuleight/blogImg/raw/master//20201010160630.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="image-20201010160628692"></p><p>æ­¤æ—¶åœ¨åˆ†åˆ«ä½¿ç”¨ user ç”¨æˆ·å’Œ admin ç”¨æˆ·ç™»å½•ï¼Œçœ‹ä¸€ä¸‹ä¸åŒç”¨æˆ·çš„æƒé™ï¼š</p><p><code>userç”¨æˆ·</code></p><p><img src="https://gitee.com/wonderfuleight/blogImg/raw/master//20201010160850.png" class="lazyload" data-srcset="https://gitee.com/wonderfuleight/blogImg/raw/master//20201010160850.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="image-20201010160849245"></p><p><code>useræƒé™æ¥å£</code></p><p><img src="https://gitee.com/wonderfuleight/blogImg/raw/master//20201010160933.png" class="lazyload" data-srcset="https://gitee.com/wonderfuleight/blogImg/raw/master//20201010160933.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="image-20201010160932135"></p><p><code>adminæƒé™æ¥å£</code></p><p><img src="https://gitee.com/wonderfuleight/blogImg/raw/master//20201010161013.png" class="lazyload" data-srcset="https://gitee.com/wonderfuleight/blogImg/raw/master//20201010161013.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="image-20201010161012247"></p>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;/assets/css/APlayer.min.css&quot;&gt;&lt;script src=&quot;/assets/js/APlayer.min.js&quot; cla</summary>
      
    
    
    
    <category term="Spring BootçœŸçš„é¦™ç³»åˆ—" scheme="http://wangba.me/categories/Spring-Boot%E7%9C%9F%E7%9A%84%E9%A6%99%E7%B3%BB%E5%88%97/"/>
    
    
    <category term="Spring Boot" scheme="http://wangba.me/tags/Spring-Boot/"/>
    
    <category term="Spring Security" scheme="http://wangba.me/tags/Spring-Security/"/>
    
  </entry>
  
  <entry>
    <title>SpringBootæ•´åˆSpring Security(äº”)</title>
    <link href="http://wangba.me/2020/10/10/SpringBoot%E6%95%B4%E5%90%88Spring-Security-%E4%BA%94/"/>
    <id>http://wangba.me/2020/10/10/SpringBoot%E6%95%B4%E5%90%88Spring-Security-%E4%BA%94/</id>
    <published>2020-10-10T08:35:48.000Z</published>
    <updated>2020-10-10T09:37:21.525Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="ä¸€ã€OverView"><a href="#ä¸€ã€OverView" class="headerlink" title="ä¸€ã€OverView"></a>ä¸€ã€OverView</h2><p>â€‹        åœ¨<a href="http://wangba.me/tags/Spring-Security/">å‰é¢å‡ èŠ‚</a>ä¸­éƒ½ä½¿ç”¨çš„æ˜¯å†…å­˜æ•°æ®ï¼Œå¹¶æ²¡æœ‰è¿æ¥æ•°æ®åº“ï¼Œè¿™ä¸€ç« å°†ä»‹ç» Spring Security æ•´åˆ JDBC </p><p>â€‹        åœ¨ä¸Šä¸€èŠ‚ä¸­å…ˆæ˜¯ä½¿ç”¨ä¸‹é¢è¿™ç§æ–¹å¼å°†ä¿¡æ¯æ”¾åœ¨å†…å­˜ä¸­ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">configure</span><span class="params">(AuthenticationManagerBuilder auth)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">    auth.inMemoryAuthentication()</span><br><span class="line">            .withUser(<span class="string">&quot;wangba&quot;</span>)</span><br><span class="line">            .password(<span class="string">&quot;guigui&quot;</span>)</span><br><span class="line">            .roles(<span class="string">&quot;admin&quot;</span>)</span><br><span class="line">            .and()</span><br><span class="line">            .withUser(<span class="string">&quot;wangyi&quot;</span>)</span><br><span class="line">            .password(<span class="string">&quot;1111&quot;</span>)</span><br><span class="line">            .roles(<span class="string">&quot;user&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¦å¤–æ–¹å¼ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="meta">@Bean</span></span><br><span class="line"><span class="function"><span class="keyword">protected</span> UserDetailsService <span class="title">userDetailsService</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    InMemoryUserDetailsManager manager = <span class="keyword">new</span> InMemoryUserDetailsManager();</span><br><span class="line">  manager.createUser(User.withUsername(<span class="string">&quot;wangba&quot;</span>).password(<span class="string">&quot;guigui&quot;</span>).roles(<span class="string">&quot;admin&quot;</span>).build());</span><br><span class="line">    manager.createUser(User.withUsername(<span class="string">&quot;wangyi&quot;</span>).password(<span class="string">&quot;1111&quot;</span>).roles(<span class="string">&quot;user&quot;</span>).build());</span><br><span class="line">    <span class="keyword">return</span> manager;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç”±äº Spring Security æ”¯æŒå¤šç§æ•°æ®æºï¼Œä¾‹å¦‚å†…å­˜ã€æ•°æ®åº“ã€LDAP ç­‰ï¼Œè¿™äº›ä¸åŒæ¥æºçš„æ•°æ®è¢«å…±åŒå°è£…æˆäº†ä¸€ä¸ª UserDetailService æ¥å£ï¼Œä»»ä½•å®ç°äº†è¯¥æ¥å£çš„å¯¹è±¡éƒ½å¯ä»¥ä½œä¸ºè®¤è¯æ•°æ®æºã€‚</p><p>é¦–å…ˆçœ‹ä¸€ä¸‹ç±»ç»§æ‰¿å’Œå®ç°æƒ…å†µï¼š</p><p><img src="https://gitee.com/wonderfuleight/blogImg/raw/master//20201010091947.png" class="lazyload" data-srcset="https://gitee.com/wonderfuleight/blogImg/raw/master//20201010091947.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="image-20201010091945655"></p><p>è¿™æ—¶å€™å°±èƒ½çœ‹å‡ºæ¥ä¸ºä»€ä¹ˆä¸Šé¢ç¬¬äºŒç§æ–¹å¼ä¸­ï¼Œä½¿ç”¨çš„æ˜¯ InMemoryUserDetailsManager å®ä¾‹äº†ï¼Œè¿™ä¸ªå°±æ˜¯åŸºäºå†…å­˜çš„ã€‚è¿˜å¯ä»¥å‘ç° JdbcUserDetailsManager åº”è¯¥å°±æ˜¯åŸºäºæ•°æ®åº“çš„å®ä¾‹äº†ã€‚</p><h2 id="äºŒã€ç¯å¢ƒæ­å»º"><a href="#äºŒã€ç¯å¢ƒæ­å»º" class="headerlink" title="äºŒã€ç¯å¢ƒæ­å»º"></a>äºŒã€ç¯å¢ƒæ­å»º</h2><h3 id="2-1-å‡†å¤‡æ•°æ®åº“"><a href="#2-1-å‡†å¤‡æ•°æ®åº“" class="headerlink" title="2.1 å‡†å¤‡æ•°æ®åº“"></a>2.1 å‡†å¤‡æ•°æ®åº“</h3><p>åœ¨ org/springframework/security/core/userdetails/jdbc ä¸­åº”è¯¥å­˜å‚¨ç€ JdbcUserDetailsManager è‡ªå·±æä¾›çš„æ•°æ®åº“è„šæœ¬ï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p><p><code>users.ddl</code></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> <span class="keyword">users</span>(username varchar_ignorecase(<span class="number">50</span>) <span class="keyword">not</span> <span class="literal">null</span> primary <span class="keyword">key</span>,<span class="keyword">password</span> varchar_ignorecase(<span class="number">500</span>) <span class="keyword">not</span> <span class="literal">null</span>,enabled <span class="built_in">boolean</span> <span class="keyword">not</span> <span class="literal">null</span>);</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> authorities (username varchar_ignorecase(<span class="number">50</span>) <span class="keyword">not</span> <span class="literal">null</span>,authority varchar_ignorecase(<span class="number">50</span>) <span class="keyword">not</span> <span class="literal">null</span>,<span class="keyword">constraint</span> fk_authorities_users <span class="keyword">foreign</span> <span class="keyword">key</span>(username) <span class="keyword">references</span> <span class="keyword">users</span>(username));</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">unique</span> <span class="keyword">index</span> ix_auth_username <span class="keyword">on</span> authorities (username,authority);</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªæ•°æ®åº“è„šæœ¬é€‚ç”¨äº <code>HSQLDB</code></p><p><img src="https://gitee.com/wonderfuleight/blogImg/raw/master//20201010093026.png" class="lazyload" data-srcset="https://gitee.com/wonderfuleight/blogImg/raw/master//20201010093026.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="image-20201010093022924"></p><p>ä¸ºäº†è®©ä»–é€‚ç”¨äº Mysql ï¼Œå°†å…¶æ”¹ä¸ºï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> <span class="keyword">users</span>(username <span class="built_in">varchar</span>(<span class="number">50</span>) <span class="keyword">not</span> <span class="literal">null</span> primary <span class="keyword">key</span>,<span class="keyword">password</span> <span class="built_in">varchar</span>(<span class="number">500</span>) <span class="keyword">not</span> <span class="literal">null</span>,enabled <span class="built_in">boolean</span> <span class="keyword">not</span> <span class="literal">null</span>);</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> authorities (username <span class="built_in">varchar</span>(<span class="number">50</span>) <span class="keyword">not</span> <span class="literal">null</span>,authority <span class="built_in">varchar</span>(<span class="number">50</span>) <span class="keyword">not</span> <span class="literal">null</span>,<span class="keyword">constraint</span> fk_authorities_users <span class="keyword">foreign</span> <span class="keyword">key</span>(username) <span class="keyword">references</span> <span class="keyword">users</span>(username));</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">unique</span> <span class="keyword">index</span> ix_auth_username <span class="keyword">on</span> authorities (username,authority);</span><br></pre></td></tr></table></figure><p>æ‰§è¡Œå®Œè„šæœ¬å¯ä»¥çœ‹è§ï¼šusers è¡¨å’Œ authorities è¡¨</p><p><img src="https://gitee.com/wonderfuleight/blogImg/raw/master//20201010094259.png" class="lazyload" data-srcset="https://gitee.com/wonderfuleight/blogImg/raw/master//20201010094259.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="image-20201010094258373"></p><p><code>userè¡¨</code></p><p><img src="https://gitee.com/wonderfuleight/blogImg/raw/master//20201010094606.png" class="lazyload" data-srcset="https://gitee.com/wonderfuleight/blogImg/raw/master//20201010094606.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="image-20201010094605554"></p><p><code>authoritiesè¡¨</code></p><p><img src="https://gitee.com/wonderfuleight/blogImg/raw/master//20201010094633.png" class="lazyload" data-srcset="https://gitee.com/wonderfuleight/blogImg/raw/master//20201010094633.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="image-20201010094632304"></p><p>ä¸¤å¼ è¡¨æ˜¯é€šè¿‡ <code>username</code> å…³è”èµ·æ¥</p><h3 id="2-2-å¢åŠ ä¸åŒè§’è‰²ç”¨æˆ·"><a href="#2-2-å¢åŠ ä¸åŒè§’è‰²ç”¨æˆ·" class="headerlink" title="2.2 å¢åŠ ä¸åŒè§’è‰²ç”¨æˆ·"></a>2.2 å¢åŠ ä¸åŒè§’è‰²ç”¨æˆ·</h3><p>å°†ä¸Šè¿°çš„ç¬¬äºŒç§åŸºäºå†…å­˜çš„æ–¹å¼ä¿®æ”¹ä¸ºåŸºäºæ•°æ®åº“æ–¹å¼</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> DataSource dataSource;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Autowired</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setDataSource</span><span class="params">(DataSource dataSource)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.dataSource = dataSource;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="meta">@Bean</span></span><br><span class="line"><span class="function"><span class="keyword">protected</span> UserDetailsService <span class="title">userDetailsService</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    JdbcUserDetailsManager manager = <span class="keyword">new</span> JdbcUserDetailsManager();</span><br><span class="line">    manager.setDataSource(dataSource);</span><br><span class="line">    <span class="keyword">if</span> (!manager.userExists(<span class="string">&quot;wangba&quot;</span>)) &#123;</span><br><span class="line">        manager.createUser(User.withUsername(<span class="string">&quot;wangba&quot;</span>).password(<span class="string">&quot;guigui&quot;</span>).roles(<span class="string">&quot;admin&quot;</span>).build());</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (!manager.userExists(<span class="string">&quot;wangyi&quot;</span>)) &#123;</span><br><span class="line">        manager.createUser(User.withUsername(<span class="string">&quot;wangyi&quot;</span>).password(<span class="string">&quot;1111&quot;</span>).roles(<span class="string">&quot;user&quot;</span>).build());</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> manager;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿è¡Œé¡¹ç›®å¯ä»¥çœ‹è§å·²ç»å°†ç”¨æˆ·å†™å…¥æ•°æ®åº“äº†</p><p><img src="https://gitee.com/wonderfuleight/blogImg/raw/master//20201010101049.png" class="lazyload" data-srcset="https://gitee.com/wonderfuleight/blogImg/raw/master//20201010101049.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="image-20201010101048293"></p><p>è¿›å…¥ JdbcUserDetailsManager çš„ createUser æ–¹æ³•ä¸­çœ‹çœ‹</p><p><img src="https://gitee.com/wonderfuleight/blogImg/raw/master//20201010101931.png" class="lazyload" data-srcset="https://gitee.com/wonderfuleight/blogImg/raw/master//20201010101931.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="image-20201010101928042"></p><p>å¯ä»¥çœ‹åˆ° createUserSql å±æ€§ï¼Œå…·ä½“çœ‹ä¸€ä¸‹ï¼š</p><p><img src="https://gitee.com/wonderfuleight/blogImg/raw/master//20201010102103.png" class="lazyload" data-srcset="https://gitee.com/wonderfuleight/blogImg/raw/master//20201010102103.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="image-20201010102101750"></p><p>å¯ä»¥çœ‹åˆ°å®é™…ä¸Šå°±æ˜¯ä¸€æ¡ Sql è¯­å¥ï¼Œç„¶åæŠŠæˆ‘ä»¬çš„ç”¨æˆ·æ•°æ®å†™åˆ°æ•°æ®åº“ä¸­</p><h2 id="ä¸‰ã€Test"><a href="#ä¸‰ã€Test" class="headerlink" title="ä¸‰ã€Test"></a>ä¸‰ã€Test</h2><p><code>ç™»å½• user</code></p><p><img src="https://gitee.com/wonderfuleight/blogImg/raw/master//20201010102755.png" class="lazyload" data-srcset="https://gitee.com/wonderfuleight/blogImg/raw/master//20201010102755.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="image-20201010102752531"></p><p><code>è®¿é—® user</code></p><p><img src="https://gitee.com/wonderfuleight/blogImg/raw/master//20201010102911.png" class="lazyload" data-srcset="https://gitee.com/wonderfuleight/blogImg/raw/master//20201010102911.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="image-20201010102909970"></p><p><code>è®¿é—® admin</code></p><p><img src="https://gitee.com/wonderfuleight/blogImg/raw/master//20201010102851.png" class="lazyload" data-srcset="https://gitee.com/wonderfuleight/blogImg/raw/master//20201010102851.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="image-20201010102850231"></p>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;/assets/css/APlayer.min.css&quot;&gt;&lt;script src=&quot;/assets/js/APlayer.min.js&quot; cla</summary>
      
    
    
    
    <category term="Spring BootçœŸçš„é¦™ç³»åˆ—" scheme="http://wangba.me/categories/Spring-Boot%E7%9C%9F%E7%9A%84%E9%A6%99%E7%B3%BB%E5%88%97/"/>
    
    
    <category term="Spring Boot" scheme="http://wangba.me/tags/Spring-Boot/"/>
    
    <category term="Spring Security" scheme="http://wangba.me/tags/Spring-Security/"/>
    
  </entry>
  
  <entry>
    <title>SpringBootæ•´åˆSpring Security (å››)</title>
    <link href="http://wangba.me/2020/10/09/SpringBoot%E6%95%B4%E5%90%88Spring-Security-%E5%9B%9B/"/>
    <id>http://wangba.me/2020/10/09/SpringBoot%E6%95%B4%E5%90%88Spring-Security-%E5%9B%9B/</id>
    <published>2020-10-09T10:33:41.000Z</published>
    <updated>2020-10-09T10:36:07.175Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="ä¸€ã€OverView"><a href="#ä¸€ã€OverView" class="headerlink" title="ä¸€ã€OverView"></a>ä¸€ã€OverView</h2><p>åœ¨æœ¬èŠ‚ä¸­ä¸»è¦å®ç°ä¸€ä¸‹æˆæƒåŠŸèƒ½ï¼Œå³éœ€æ±‚æ—¶ï¼š</p><blockquote><p>admin: èƒ½è®¿é—®æ‰€æœ‰çš„é¡µé¢ï¼Œä¸ä»…ä»…æ˜¯ /admin/ ä¸‹çš„é¡µé¢ï¼Œä¹Ÿå¯ä»¥è®¿é—® /user/ ä¸‹çš„é¡µé¢</p><p>user: åªèƒ½è®¿é—® /user/ ä¸‹æ‰€æœ‰é¡µé¢</p><p>hello: /hello æ‰€æœ‰ç”¨æˆ·éƒ½å¯ä»¥è®¿é—®</p></blockquote><p>å¯ä»¥ç†è§£ä¸ºï¼šadmin æƒé™æ¯” user é«˜</p><h2 id="äºŒã€ç¯å¢ƒæ­å»º"><a href="#äºŒã€ç¯å¢ƒæ­å»º" class="headerlink" title="äºŒã€ç¯å¢ƒæ­å»º"></a>äºŒã€ç¯å¢ƒæ­å»º</h2><p>ç¯å¢ƒå‚è€ƒ<a href="http://wangba.me/tags/Spring-Security/">å‰é¢å‡ èŠ‚</a>ï¼Œç”±äºç›®å‰å¹¶æ²¡æœ‰è¿æ¥æ•°æ®åº“ï¼Œæ‰€ä»¥å°±åŸºäºå†…å­˜è¿›è¡Œæµ‹è¯•</p><p><code>SecurityConfig</code></p><p>åœ¨é‡å†™çš„ configure æ–¹æ³•ä¸­å¢åŠ ä¸€ä¸ª user ç”¨æˆ·ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">configure</span><span class="params">(AuthenticationManagerBuilder auth)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">    auth.inMemoryAuthentication()</span><br><span class="line">            .withUser(<span class="string">&quot;wangba&quot;</span>)</span><br><span class="line">            .password(<span class="string">&quot;guigui&quot;</span>)</span><br><span class="line">            .roles(<span class="string">&quot;admin&quot;</span>)</span><br><span class="line">            .and()</span><br><span class="line">            .withUser(<span class="string">&quot;wangyi&quot;</span>)</span><br><span class="line">            .password(<span class="string">&quot;1111&quot;</span>)</span><br><span class="line">            .roles(<span class="string">&quot;user&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ¨é‡å†™çš„ configure æ–¹æ³•ä¸­å¢åŠ æ‹¦æˆªè§„åˆ™ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">configure</span><span class="params">(HttpSecurity http)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">    http.authorizeRequests()</span><br><span class="line">            .antMatchers(<span class="string">&quot;/admin/**&quot;</span>).hasRole(<span class="string">&quot;admin&quot;</span>)</span><br><span class="line">            .antMatchers(<span class="string">&quot;/user/**&quot;</span>).hasRole(<span class="string">&quot;user&quot;</span>)</span><br><span class="line">            .anyRequest().authenticated()</span><br><span class="line">            .and()</span><br><span class="line">            <span class="comment">// çœç•¥</span></span><br><span class="line">    ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>æ³¨ï¼šè§„åˆ™æ˜¯æœ‰é¡ºåºçš„ï¼Œå³é“¾å¼æ“ä½œ</p><p>å¦‚æœæŠŠ anyRequest() æ”¾åœ¨å‰é¢ï¼Œé¦–å…ˆå°±ä¼šè®©æ‰€æœ‰è¯·æ±‚é€šè¿‡ï¼Œç„¶åå†è¿›è¡Œæ‹¦æˆªï¼Œè¿™æ ·æ‹¦æˆªè§„åˆ™å°±æ²¡æœ‰ä»€ä¹ˆç”¨äº†</p></blockquote><p><code>SecurityController</code> </p><p>åœ¨è§†å›¾å±‚å¢åŠ ä¸€äº›è¯·æ±‚æ–¹æ³•</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@GetMapping(&quot;/hello&quot;)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">hello0</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;hello&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@GetMapping(&quot;/user/hello&quot;)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">hello1</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;user&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@GetMapping(&quot;/admin/hello&quot;)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">hello2</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;admin&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>å…¶ä¸­ï¼š</p><p>/hello è¯·æ±‚ï¼šå…è®¸ç™»å½•åçš„ä»»ä½•äººè®¿é—®</p><p>/user/hello è¯·æ±‚ï¼šå…è®¸æ‹¥æœ‰ user è§’è‰²çš„ç”¨æˆ·ç™»å½•ï¼›å…è®¸æ‹¥æœ‰ admin è§’è‰²çš„ç”¨æˆ·ç™»å½•</p><p>/admin/hello è¯·æ±‚ï¼šåªå…è®¸æ‹¥æœ‰ admin è§’è‰²çš„ç”¨æˆ·ç™»å½•</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">configure</span><span class="params">(HttpSecurity http)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">    http.authorizeRequests()</span><br><span class="line">            .antMatchers(<span class="string">&quot;/admin/**&quot;</span>).hasRole(<span class="string">&quot;admin&quot;</span>)</span><br><span class="line">            .antMatchers(<span class="string">&quot;/user/**&quot;</span>).hasRole(<span class="string">&quot;user&quot;</span>)</span><br><span class="line">            .anyRequest().authenticated()</span><br><span class="line">            .and()</span><br><span class="line">            <span class="comment">// çœç•¥</span></span><br><span class="line">    ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="ä¸‰ã€æµ‹è¯•"><a href="#ä¸‰ã€æµ‹è¯•" class="headerlink" title="ä¸‰ã€æµ‹è¯•"></a>ä¸‰ã€æµ‹è¯•</h2><p><code>Postman</code></p><p>é¦–å…ˆç™»å½• user ç”¨æˆ·ï¼šwangyi</p><p><img src="https://gitee.com/wonderfuleight/blogImg/raw/master//20201009150448.png" class="lazyload" data-srcset="https://gitee.com/wonderfuleight/blogImg/raw/master//20201009150448.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="image-20201009150447961"></p><p>æŒ‰ç…§ä¸Šé¢çš„ç†è®ºæ¥è¯´ï¼šuser å¯ä»¥è®¿é—® <code>/hello</code> å’Œ <code>/user/hello</code> ï¼Œä¸èƒ½è®¿é—® <code>/admin/hello</code></p><p> <code>/hello</code></p><p><img src="https://gitee.com/wonderfuleight/blogImg/raw/master//20201009150703.png" class="lazyload" data-srcset="https://gitee.com/wonderfuleight/blogImg/raw/master//20201009150703.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="image-20201009150702237"></p><p> <code>/user/hello</code></p><p><img src="https://gitee.com/wonderfuleight/blogImg/raw/master//20201009150746.png" class="lazyload" data-srcset="https://gitee.com/wonderfuleight/blogImg/raw/master//20201009150746.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="image-20201009150745738"></p><p> <code>/admin/hello</code></p><p><img src="https://gitee.com/wonderfuleight/blogImg/raw/master//20201009150851.png" class="lazyload" data-srcset="https://gitee.com/wonderfuleight/blogImg/raw/master//20201009150851.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="image-20201009150850902"></p><p>å¯ä»¥çœ‹è§ï¼Œè®¿é—®è¯¥æ¥å£è¢«é™æ­¢äº†</p><p>åŒæ ·ï¼Œç™»å½• admin ç”¨æˆ·ï¼šwangba</p><p><img src="https://gitee.com/wonderfuleight/blogImg/raw/master//20201009151043.png" class="lazyload" data-srcset="https://gitee.com/wonderfuleight/blogImg/raw/master//20201009151043.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="image-20201009151042154"></p><p> <code>/hello</code></p><p><img src="https://gitee.com/wonderfuleight/blogImg/raw/master//20201009151239.png" class="lazyload" data-srcset="https://gitee.com/wonderfuleight/blogImg/raw/master//20201009151239.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="image-20201009151238430"></p><p> <code>/admin/hello</code></p><p><img src="https://gitee.com/wonderfuleight/blogImg/raw/master//20201009151145.png" class="lazyload" data-srcset="https://gitee.com/wonderfuleight/blogImg/raw/master//20201009151145.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="image-20201009151144433"></p><p> <code>/user/hello</code></p><p><img src="https://gitee.com/wonderfuleight/blogImg/raw/master//20201009151212.png" class="lazyload" data-srcset="https://gitee.com/wonderfuleight/blogImg/raw/master//20201009151212.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="image-20201009151210955"></p><p>ä½†æ˜¯ï¼Œæˆ‘ä»¬å‰é¢è¦æ±‚å®ç°çš„æ˜¯ admin å¯ä»¥è®¿é—®æ‰€æœ‰é¡µé¢ï¼Œæ‰€ä»¥è¿›è¡Œæ”¹è¿›ï¼Œå³è¿›è¡Œ<code>è§’è‰²ç»§æ‰¿</code></p><p><code>SecurityConfig</code></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Bean</span></span><br><span class="line"><span class="function">RoleHierarchy <span class="title">roleHierarchy</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    RoleHierarchyImpl roleHierarchy = <span class="keyword">new</span> RoleHierarchyImpl();</span><br><span class="line">    roleHierarchy.setHierarchy(<span class="string">&quot;ROLE_admin &gt; ROLE_user&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> roleHierarchy;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>æ³¨ï¼šä¸Šè¿°é…ç½®è¡¨è¾¾<code>ROLE_admin</code> è‡ªåŠ¨å…·å¤‡ <code>ROLE_user</code> çš„æƒé™ã€‚</p></blockquote><p>æ­¤æ—¶é‡å¯é¡¹ç›®ï¼Œå†æ¬¡ç™»å½• wangbaï¼Œå¹¶è®¿é—® <code>/user/hello</code></p><p><img src="https://gitee.com/wonderfuleight/blogImg/raw/master//20201009152023.png" class="lazyload" data-srcset="https://gitee.com/wonderfuleight/blogImg/raw/master//20201009152023.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="image-20201009152022118"></p><p>å¯ä»¥çœ‹è§æ­¤æ—¶ admin è§’è‰²å¯ä»¥è®¿é—®ä»»ä½•é¡µé¢äº†</p>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;/assets/css/APlayer.min.css&quot;&gt;&lt;script src=&quot;/assets/js/APlayer.min.js&quot; cla</summary>
      
    
    
    
    <category term="Spring BootçœŸçš„é¦™ç³»åˆ—" scheme="http://wangba.me/categories/Spring-Boot%E7%9C%9F%E7%9A%84%E9%A6%99%E7%B3%BB%E5%88%97/"/>
    
    
    <category term="Spring Boot" scheme="http://wangba.me/tags/Spring-Boot/"/>
    
    <category term="Spring Security" scheme="http://wangba.me/tags/Spring-Security/"/>
    
  </entry>
  
  <entry>
    <title>0206. Reverse Linked List</title>
    <link href="http://wangba.me/2020/10/09/0206-Reverse-Linked-List/"/>
    <id>http://wangba.me/2020/10/09/0206-Reverse-Linked-List/</id>
    <published>2020-10-09T01:58:41.000Z</published>
    <updated>2020-10-09T02:00:28.470Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="206-åè½¬é“¾è¡¨-Easy"><a href="#206-åè½¬é“¾è¡¨-Easy" class="headerlink" title="206. åè½¬é“¾è¡¨ Easy"></a><a href="https://leetcode-cn.com/problems/reverse-linked-list/">206. åè½¬é“¾è¡¨</a> <font color="#49b666" size=5>Easy</font></h2><p>åè½¬ä¸€ä¸ªå•é“¾è¡¨ã€‚</p><p><strong>ç¤ºä¾‹:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: 1-&gt;2-&gt;3-&gt;4-&gt;5-&gt;NULL</span><br><span class="line">è¾“å‡º: 5-&gt;4-&gt;3-&gt;2-&gt;1-&gt;NULL</span><br></pre></td></tr></table></figure><p><strong>è¿›é˜¶:</strong><br>ä½ å¯ä»¥è¿­ä»£æˆ–é€’å½’åœ°åè½¬é“¾è¡¨ã€‚ä½ èƒ½å¦ç”¨ä¸¤ç§æ–¹æ³•è§£å†³è¿™é“é¢˜ï¼Ÿ</p><h2 id="è§£æ"><a href="#è§£æ" class="headerlink" title="è§£æ"></a>è§£æ</h2><p>å†™é“¾è¡¨çš„ä»£ç é¢˜ï¼Œä¸€å®šè¦è€ƒè™‘å‘¨å…¨ï¼Œå¯ä»¥ä»ä»¥ä¸‹å‡ ä¸ªæ–¹é¢è€ƒè™‘ï¼š</p><ul><li><p>æ˜¯å¦ä¸ºç©ºé“¾è¡¨</p></li><li><p>æ˜¯å¦åªå‰©ä¸€ä¸ªç»“ç‚¹</p></li><li><p>å‰©ä½™ä¸¤ä¸ªç»“ç‚¹æ€ä¹ˆæ ·</p></li><li><p>åœ¨å¤„ç†å¤´ç»“ç‚¹å’Œå°¾ç»“ç‚¹æ—¶ï¼Œé€»è¾‘ä¸Šæ˜¯å¦å¯ä»¥é€šè¿‡</p></li></ul><h3 id="è¿­ä»£è§£æ³•ï¼š"><a href="#è¿­ä»£è§£æ³•ï¼š" class="headerlink" title="è¿­ä»£è§£æ³•ï¼š"></a>è¿­ä»£è§£æ³•ï¼š</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> ListNode <span class="title">reverseList</span><span class="params">(ListNode head)</span> </span>&#123;</span><br><span class="line">     <span class="comment">// è¿­ä»£æ³•</span></span><br><span class="line">    ListNode pre = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">while</span> (head != <span class="keyword">null</span>) &#123;</span><br><span class="line">        ListNode next = head.next;</span><br><span class="line">        head.next = pre;</span><br><span class="line">        pre = head;</span><br><span class="line">        head = next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> pre;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™å°±æ˜¯åœ¨<a href="http://wangba.me/2020/10/03/LinkedList/">é“¾è¡¨</a>ä¸­è¯´åˆ°çš„å“¨å…µï¼Œè¿™æ ·æœ€å¤§çš„ç›®çš„å°±æ˜¯ä¸ºäº†è®©å¯¹æ•´ä¸ªé“¾è¡¨çš„æ“ä½œè¿›è¡Œç»Ÿä¸€åŒ–</p><h3 id="é€’å½’è§£æ³•ï¼š"><a href="#é€’å½’è§£æ³•ï¼š" class="headerlink" title="é€’å½’è§£æ³•ï¼š"></a>é€’å½’è§£æ³•ï¼š</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> ListNode <span class="title">reverseList</span><span class="params">(ListNode head)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// é€’å½’æ³•</span></span><br><span class="line">    <span class="keyword">if</span> (head == <span class="keyword">null</span> || head.next == <span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> head;</span><br><span class="line">    &#125;</span><br><span class="line">    ListNode listNode = reverseList(head.next);</span><br><span class="line">    head.next.next = head;</span><br><span class="line">    head.next = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">return</span> listNode;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ¨è¿›è¡Œé€’å½’æ“ä½œä¸­ï¼Œä¸€å®šè¦æ³¨æ„çš„ç‚¹ï¼š<code>å‡ºå£</code> </p><p>ä¹Ÿå°±æ˜¯è¯´ä¸€å®šè¦æœ‰æœ€å°æ¡ä»¶ï¼Œè€Œè¿™ä¸ªæ¡ä»¶æ˜¯å¯ä»¥è·³å‡ºæœ€åä¸€ä¸ªé€’å½’è°ƒç”¨çš„ï¼Œç„¶åå°†ç»“æœæ”¾åˆ°å€’æ•°ç¬¬äºŒä¸ªé€’å½’è°ƒç”¨ä¸­</p><p>åœ¨è¿™é‡Œé¢å‡ºå£å°±æ˜¯ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (head == <span class="keyword">null</span> || head.next == <span class="keyword">null</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> head;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸€æ—¦æ»¡è¶³è¿™ä¸ªæ¡ä»¶ï¼Œå°±å¯ä»¥è§¦å‘æ‰€æœ‰é€’å½’è°ƒç”¨çš„ç»“æŸ</p>]]></content>
    
    
    <summary type="html">ä¸€å¤©ä¸€é“åŠ›æ‰£é¢˜ï¼Œå—¤ä¹‹ä»¥é¼»ï¼ŒåŠä¿¡åŠç–‘ï¼Œç™¾æ„Ÿäº¤é›†ï¼Œå…³é—¨å¤§å‰ï¼Œskr skr ! ! !</summary>
    
    
    
    <category term="LeetCodeçœŸçš„éš¾ç³»åˆ—" scheme="http://wangba.me/categories/LeetCode%E7%9C%9F%E7%9A%84%E9%9A%BE%E7%B3%BB%E5%88%97/"/>
    
    
    <category term="Leetcode" scheme="http://wangba.me/tags/Leetcode/"/>
    
    <category term="Array" scheme="http://wangba.me/tags/Array/"/>
    
    <category term="LinkedList" scheme="http://wangba.me/tags/LinkedList/"/>
    
  </entry>
  
  <entry>
    <title>LinkedList</title>
    <link href="http://wangba.me/2020/10/03/LinkedList/"/>
    <id>http://wangba.me/2020/10/03/LinkedList/</id>
    <published>2020-10-03T14:04:52.000Z</published>
    <updated>2020-10-12T02:10:28.109Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="ä¸€ã€OverView"><a href="#ä¸€ã€OverView" class="headerlink" title="ä¸€ã€OverView"></a>ä¸€ã€OverView</h2><p><img src="https://gitee.com/wonderfuleight/blogImg/raw/master//20201003182532.png" class="lazyload" data-srcset="https://gitee.com/wonderfuleight/blogImg/raw/master//20201003182532.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="image-20201003182530832"></p><p>å¿«é€Ÿé¢„è§ˆï¼š</p><ul><li>é¦–å…ˆè¦å’Œ<a href="http://wangba.me/2020/10/02/Array/">ä¸Šä¸€èŠ‚</a>çš„æ•°ç»„è¿›è¡Œæ¨ªå‘å¯¹æ¯”ï¼Œæ¥çœ‹ä¸€ä¸‹é“¾è¡¨ç‹¬æœ‰çš„ç‰¹æ€§</li><li>ç¬¬äºŒå°èŠ‚ä¼šä»‹ç»ä¸€ä¸‹å¸¸è§çš„å‡ ç§é“¾è¡¨ï¼Œä»¥åŠä¸ºä»€ä¹ˆè¦è¡ç”Ÿå‡ºè¿™äº›é“¾è¡¨</li><li>ç¬¬ä¸‰å°èŠ‚ä¸»è¦å…³æ³¨äºé“¾è¡¨çš„åŸºæ“ï¼Œ<del>(å‹¿6)</del> ä»¥åŠåœ¨é“¾è¡¨ä¸­çš„ä¸€äº›æ³¨æ„äº‹é¡¹ï¼Œå¦‚ä½•ä¿æŒé“¾è¡¨ä¸æ–­é“¾ï¼Œä¸ºä»€ä¹ˆè¦å¼•å…¥å“¨å…µ</li><li>æœ€åä¸€ä¸ªå°èŠ‚ä¸»è¦ç»“åˆ Java ä¸­çš„é“¾è¡¨ LinkedList æ¥åŠ æ·±å¯¹é“¾è¡¨çš„ç†è§£</li></ul><h2 id="äºŒã€ç‰¹æ€§"><a href="#äºŒã€ç‰¹æ€§" class="headerlink" title="äºŒã€ç‰¹æ€§"></a>äºŒã€ç‰¹æ€§</h2><p>åœ¨<a href="http://wangba.me/2020/10/02/Array/">ä¸Šä¸€èŠ‚</a>ä¸­å·²ç»ä»‹ç»è¿‡æ•°ç»„äº†ï¼Œå¯ä»¥å°†æ•°ç»„å’Œé“¾è¡¨åœ¨ç»“æ„ä¸Šè¿›è¡Œå¯¹æ¯”ï¼š</p><p><img src="https://gitee.com/wonderfuleight/blogImg/raw/master//20201003201159.png" class="lazyload" data-srcset="https://gitee.com/wonderfuleight/blogImg/raw/master//20201003201159.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="image-20201003201157816"></p><ul><li>åœ¨æ•°ç»„ä¸­ï¼Œæ˜¯éœ€è¦ä¸€å—<code>è¿ç»­ä¸”è¶³å¤Ÿå­˜å‚¨æ‰€æœ‰æ•°æ®</code>çš„å†…å­˜ç©ºé—´ã€‚å¦‚æœä½ çš„æ•°æ®å¤§å°æ˜¯ 1MBï¼Œä½†æ˜¯ä½ çš„å†…å­˜ç©ºé—´ä¸­å¯èƒ½åªæœ‰ä¸¤ä¸ªå¤§å†…å­˜å—ï¼Œä¸”å¤§å°åˆ†åˆ«ä¸º 512 KBï¼Œè¿˜æœ‰è‹¥å¹²å°å†…å­˜å—ï¼Œé‚£ä¹ˆè¿™å—æ•°æ®æ˜¯ä¸èƒ½å­˜å‚¨åœ¨å†…å­˜ä¸­çš„</li><li>åœ¨é“¾è¡¨ä¸­ï¼Œæ˜¯é€šè¿‡ next æŒ‡é’ˆå°†<code>ç¦»æ•£çš„å†…å­˜ç©ºé—´</code>å…¨éƒ¨åˆ©ç”¨èµ·æ¥ï¼Œä¾‹å¦‚ä¸Šé¢çš„æƒ…å†µä¸­ï¼Œå°±å¯ä»¥å°†è¿™ 1MB å¤§å°çš„æ•°æ®å…¨éƒ¨è£…å…¥å†…å­˜ä¸­</li></ul><blockquote><p>æ³¨ï¼šåœ¨å®é™…çš„åº”ç”¨å±‚å¼€å‘ä¸­ï¼Œæ˜¯ä¸ç”¨åœ¨ä¹é‚£ä¸€ç‚¹çš„ç©ºé—´æ¢æ—¶é—´ï¼›ä½†æ˜¯åœ¨åº•å±‚å¼€å‘ä¸­ï¼Œè¿™ç§å¯¹ç©ºé—´è¦æ±‚éå¸¸é«˜çš„å¼€å‘ä¸­ï¼Œå°±è¦è€ƒè™‘åˆ°å¤šæ–¹é¢äº†</p></blockquote><p><code>å¯¹æ¯”ï¼š</code></p><table><thead><tr><th>æ—¶é—´å¤æ‚åº¦</th><th>æ•°ç»„</th><th>é“¾è¡¨</th></tr></thead><tbody><tr><td>æŸ¥è¯¢</td><td>O(1)</td><td>O(n)</td></tr><tr><td>æ’å…¥ã€åˆ é™¤</td><td>O(n)</td><td>O(1)</td></tr></tbody></table><h2 id="ä¸‰ã€å‡ ç§å¸¸è§„é“¾è¡¨"><a href="#ä¸‰ã€å‡ ç§å¸¸è§„é“¾è¡¨" class="headerlink" title="ä¸‰ã€å‡ ç§å¸¸è§„é“¾è¡¨"></a>ä¸‰ã€å‡ ç§å¸¸è§„é“¾è¡¨</h2><h3 id="3-1-å•é“¾è¡¨"><a href="#3-1-å•é“¾è¡¨" class="headerlink" title="3.1 å•é“¾è¡¨"></a>3.1 å•é“¾è¡¨</h3><p><img src="https://gitee.com/wonderfuleight/blogImg/raw/master//20201003214902.png" class="lazyload" data-srcset="https://gitee.com/wonderfuleight/blogImg/raw/master//20201003214902.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="image-20201003214901489"></p><ul><li>æŒ‡å‘ w çš„ç»“ç‚¹çš„ç»“ç‚¹ç§°ä¸º<code>å¤´ç»“ç‚¹</code></li><li>æŒ‡å‘ NULL çš„ç»“ç‚¹ g ç§°ä¸º<code>å°¾ç»“ç‚¹</code></li><li>æ¯ä¸€ä¸ªç»“ç‚¹éœ€è¦é¢å¤–çš„ç©ºé—´å­˜å‚¨ä¸‹ä¸€ä¸ªç»“ç‚¹çš„åœ°å€</li></ul><h3 id="3-2-å¾ªç¯é“¾è¡¨"><a href="#3-2-å¾ªç¯é“¾è¡¨" class="headerlink" title="3.2 å¾ªç¯é“¾è¡¨"></a>3.2 å¾ªç¯é“¾è¡¨</h3><p><img src="https://gitee.com/wonderfuleight/blogImg/raw/master//20201003214214.png" class="lazyload" data-srcset="https://gitee.com/wonderfuleight/blogImg/raw/master//20201003214214.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="image-20201003214213008"></p><ul><li>ä¸ä»…å…·æœ‰å•é“¾è¡¨çš„ç‰¹ç‚¹ï¼Œä¸”åŠ ä¸Šå®ƒçš„å°¾ç»“ç‚¹æŒ‡å‘çš„ä¸æ˜¯ NULLï¼Œè€Œæ˜¯æŒ‡å‘äº†å¤´ç»“ç‚¹</li><li>ç›¸æ¯”å•é“¾è¡¨çš„ä¼˜ç‚¹ï¼šå¯ä»¥é€šè¿‡å°¾ç»“ç‚¹æ‰¾åˆ°å¤´ç»“ç‚¹</li></ul><h3 id="3-3-åŒå‘é“¾è¡¨"><a href="#3-3-åŒå‘é“¾è¡¨" class="headerlink" title="3.3 åŒå‘é“¾è¡¨"></a>3.3 åŒå‘é“¾è¡¨</h3><p><img src="https://gitee.com/wonderfuleight/blogImg/raw/master//20201003214232.png" class="lazyload" data-srcset="https://gitee.com/wonderfuleight/blogImg/raw/master//20201003214232.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="image-20201003214231020"></p><ul><li>æ¯ä¸€ä¸ªç»“ç‚¹é™¤äº†éœ€è¦é¢å¤–çš„ç©ºé—´å­˜å‚¨ä¸‹ä¸€ä¸ªç»“ç‚¹çš„åœ°å€ï¼Œè¿˜éœ€è¦é¢å¤–çš„ç©ºé—´æŒ‡å‘å‰ä¸€ä¸ªç»“ç‚¹çš„åœ°å€</li><li>ç›¸æ¯”å•é“¾è¡¨çš„ä¼˜ç‚¹ï¼šå¯ä»¥é€šè¿‡ä»»ä¸€ç»“ç‚¹å¯ä»¥æ‰¾åˆ°ä¸Šä¸€ä¸ªç»“ç‚¹å’Œä¸‹ä¸€ä¸ªç»“ç‚¹</li></ul><h3 id="3-4-åŒå‘å¾ªç¯é“¾è¡¨"><a href="#3-4-åŒå‘å¾ªç¯é“¾è¡¨" class="headerlink" title="3.4 åŒå‘å¾ªç¯é“¾è¡¨"></a>3.4 åŒå‘å¾ªç¯é“¾è¡¨</h3><p><img src="https://gitee.com/wonderfuleight/blogImg/raw/master//20201003214248.png" class="lazyload" data-srcset="https://gitee.com/wonderfuleight/blogImg/raw/master//20201003214248.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="image-20201003214247489"></p><ul><li>ä¸ä»…å…·æœ‰åŒå‘é“¾è¡¨çš„ç‰¹ç‚¹ï¼Œä¸”åŠ ä¸Šå¤´ç»“ç‚¹çš„ pre æŒ‡é’ˆæŒ‡å‘å°¾ç»“ç‚¹ï¼Œå°¾ç»“ç‚¹çš„ next æŒ‡é’ˆæŒ‡å‘å¤´ç»“ç‚¹</li><li>ç›¸æ¯”åŒå‘é“¾è¡¨çš„ä¼˜ç‚¹ï¼šå¯ä»¥é€šè¿‡å¤´ç»“ç‚¹æ‰¾åˆ°å°¾ç»“ç‚¹ï¼Œä¹Ÿå¯ä»¥é€šè¿‡å°¾ç»“ç‚¹æ‰¾åˆ°å¤´ç»“ç‚¹</li></ul><h2 id="å››ã€é“¾è¡¨çš„åŸºæ“å’Œæ³¨æ„äº‹é¡¹"><a href="#å››ã€é“¾è¡¨çš„åŸºæ“å’Œæ³¨æ„äº‹é¡¹" class="headerlink" title="å››ã€é“¾è¡¨çš„åŸºæ“å’Œæ³¨æ„äº‹é¡¹"></a>å››ã€é“¾è¡¨çš„åŸºæ“å’Œæ³¨æ„äº‹é¡¹</h2><p>è¿™é‡Œå¯¹äºé“¾è¡¨çš„æ“ä½œåªåœ¨å•é“¾è¡¨ä¸­è¿›è¡Œï¼Œå…¶ä½™çš„é“¾è¡¨åŒç†ï¼š</p><p><code>å¢</code></p><p><img src="https://gitee.com/wonderfuleight/blogImg/raw/master//20201003221952.png" class="lazyload" data-srcset="https://gitee.com/wonderfuleight/blogImg/raw/master//20201003221952.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="image-20201003221950242"></p><p>å‰æï¼šåœ¨ a ç»“ç‚¹åé¢å¢åŠ ä¸€ä¸ª x ç»“ç‚¹ï¼Œp æŒ‡å‘ a ç»“ç‚¹</p><ul><li>ç¬¬ä¸€æ­¥ï¼šx â€“&gt; next = p â€“&gt; next</li><li>ç¬¬äºŒæ­¥ï¼šp â€“&gt; next = x</li></ul><blockquote><p>æ³¨ï¼š</p><p>æ­¤æ—¶å°±è¦æ³¨æ„ â€œé“¾ä¸æ–­â€ ç†è®ºï¼šåœ¨ä¸Šé¢çš„ä¾‹å­ä¸­å°±æ˜¯ï¼Œç¬¬ä¸€æ­¥å’Œç¬¬äºŒæ­¥çš„é¡ºåºä¸èƒ½é¢ å€’ï¼Œä¸ç„¶å°±ä¼šå‡ºç°ä¸‹é¢è¿™ç§æƒ…å†µï¼š</p><ul><li>ç¬¬ä¸€æ­¥ï¼šp â€“&gt; next = x</li><li>ç¬¬äºŒæ­¥ï¼šx â€“&gt; next = p â€“&gt; next</li></ul><p>å¦‚æœ p â€“&gt; next æŒ‡å‘äº† xï¼Œé‚£ä¹ˆåœ¨ç¬¬äºŒæ­¥ä¸­ï¼Œx â€“&gt; next æŒ‡å‘äº†è‡ªå·±</p></blockquote><p><code>åˆ </code></p><p><img src="https://gitee.com/wonderfuleight/blogImg/raw/master//20201003223435.png" class="lazyload" data-srcset="https://gitee.com/wonderfuleight/blogImg/raw/master//20201003223435.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="image-20201003223434117"></p><p>åˆ é™¤æ“ä½œçš„è¯ï¼Œå°±åªéœ€è¦ï¼šp â€“&gt; next = p â€“&gt; next â€“&gt; next å³å¯</p><blockquote><p>æ³¨ï¼šåˆ é™¤ç»“ç‚¹è¦è®°å¾—é‡Šæ”¾å†…å­˜ï¼Œé™¤äº†ä¸€äº›è‡ªå¸¦åƒåœ¾å›æ”¶çš„è¯­è¨€å¤–ï¼Œä¾‹å¦‚ Javaã€pythonã€Goç­‰</p></blockquote><p><code>å“¨å…µæ¨¡å¼</code></p><p>æ—¢ç„¶åœ¨é“¾è¡¨ä¸­å‡ºç°äº†è¿™ä¸ªæ¨¡å¼ï¼Œé‚£å¿…ç„¶æ˜¯æœ‰è¿ç”¨çš„åœºæ™¯çš„ï¼Œçœ‹ä¸ªä¾‹å­ï¼š</p><p>åœ¨ä¸Šé¢å•é“¾è¡¨ä¸­å¢åŠ ä¸€ä¸ªç»“ç‚¹æ—¶</p><p><img src="https://gitee.com/wonderfuleight/blogImg/raw/master//20201004085305.png" class="lazyload" data-srcset="https://gitee.com/wonderfuleight/blogImg/raw/master//20201004085305.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="image-20201004085304248"></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">x --&gt; next = p --&gt; next</span><br><span class="line">p --&gt; next = x</span><br></pre></td></tr></table></figure><p>å¦‚æœå‡ºç°ä¸‹é¢å‡ ç§æƒ…å†µï¼š</p><ul><li>ç©ºé“¾è¡¨ï¼Œæ’å…¥ç¬¬ä¸€ä¸ªç»“ç‚¹</li><li>åˆ é™¤æœ€åä¸€ä¸ªç»“ç‚¹</li><li>åˆæˆ–æ˜¯ p æŒ‡é’ˆæŒ‡å‘çš„æ˜¯ä¸¤ä¸ªç»“ç‚¹çš„å‰ä¸€ä¸ªç»“ç‚¹ (åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­æ˜¯ a)ï¼Œä½†æ˜¯å¦‚æœå‡ºç°è¦æ’å…¥çš„æ˜¯å¤´ç»“ç‚¹å‰é¢ (ä¹Ÿå°±æ˜¯è¯´æ²¡æœ‰å‰é¢é‚£ä¸ªç»“ç‚¹äº†) å‘¢ï¼Ÿ</li></ul><p><img src="https://gitee.com/wonderfuleight/blogImg/raw/master//20201004090747.png" class="lazyload" data-srcset="https://gitee.com/wonderfuleight/blogImg/raw/master//20201004090747.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="image-20201004090746697"></p><p>æ­¤æ—¶å°±å¯ä»¥å‘ç°ï¼Œp æŒ‡é’ˆæ— å¤„å¯æŒ‡ï¼Œè¿™æ—¶å€™å°±å¯ä»¥å¼•å…¥â€å“¨å…µâ€äº†ã€‚(è™½ç„¶åœ¨åŒå‘é“¾è¡¨ä¸­å¯ä»¥è½»æ˜“è§£å†³è¿™ä¸ªé—®é¢˜)</p><p><img src="https://gitee.com/wonderfuleight/blogImg/raw/master//20201004113804.png" class="lazyload" data-srcset="https://gitee.com/wonderfuleight/blogImg/raw/master//20201004113804.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="image-20201004100823076"></p><p>ä¹Ÿå°±æ˜¯è¯´ä¸ç®¡åœ¨ä»€ä¹ˆæƒ…å†µä¸‹ï¼Œéƒ½æœ‰ä¸€ä¸ªå“¨å…µçš„å­˜åœ¨ï¼Œå…¶ä¸»è¦ç›®çš„å°±æ˜¯ç®€åŒ–ä»£ç ï¼Œä¸éœ€è¦è€ƒè™‘å¸¦å¾ˆå¤šæƒ…å†µï¼Œå¯ä»¥çœ‹ä¸€ä¸‹ä¸‹é¢çš„ä¾‹å­ï¼š</p><p>é¦–å…ˆéœ€è¦çš„å‰æå°±æ˜¯ï¼šhead æŒ‡é’ˆæ˜¯æ°¸è¿œæŒ‡å‘å“¨å…µçš„</p><ul><li>ç©ºé“¾è¡¨ä¸­æ’å…¥ç¬¬ä¸€ä¸ªç»“ç‚¹ï¼Œå°±å¯ä»¥ï¼š</li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (head -&gt; next == null) &#123;</span><br><span class="line">  p = head;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åªéœ€è¦åˆ¤æ–­å“¨å…µæŒ‡é’ˆçš„ next æ˜¯å¦ä¸ºç©ºï¼Œå¦‚æœä¸ºç©ºçš„çš„è¯ï¼Œåªéœ€è¦å°† p = headï¼Œå°±å¯ä»¥è¿›è¡Œå’Œä¸Šé¢ä¸€æ ·çš„æ’å…¥ä»£ç äº†</p><h2 id="å››ã€Javaä¸­çš„é“¾è¡¨"><a href="#å››ã€Javaä¸­çš„é“¾è¡¨" class="headerlink" title="å››ã€Javaä¸­çš„é“¾è¡¨"></a>å››ã€Javaä¸­çš„é“¾è¡¨</h2><p>â€‹        é¦–å…ˆæ¥å›å¿†ä¸€ä¸‹åœ¨ Java ä¸­å¯¹æ•°ç»„çš„æ“ä½œï¼Œç›´æ¥åˆ†é…ä¸€å—è¿ç»­çš„å†…å­˜ç»™æ•°ç»„ï¼Œè¿™ç§æƒ…å†µçš„ä¸å¥½ä¹‹å¤„å°±æ˜¯éœ€è¦è¿ç»­ä¸”å†…å­˜è¶³å¤Ÿçš„ç©ºé—´ï¼›éšååˆæå‡ºäº† Java ä¸­åŠ¨æ€æ•°ç»„ ArrayList ï¼Œè¿™ä¸ªç±»çš„ç¡®å¯ä»¥è¿›è¡ŒåŠ¨æ€çš„è‡ªåŠ¨æ‰©å®¹ï¼Œä½†æ˜¯å®ƒä¸èƒ½è¿›è¡Œè‡ªåŠ¨ç¼©å®¹ (æ³¨ï¼šArrayList æ˜¯æ”¯æŒæ‰‹åŠ¨æ‰©å®¹ã€ç¼©å®¹)ï¼Œè€Œä¸”å®ƒçš„æ‰©å®¹æ˜¯å°†åŸæ¥æ‰€æœ‰çš„æ•°æ®å¤åˆ¶ä¸€ä»½åˆ°å·²ç»è¿›è¡Œæ‰©å®¹åˆ°åŸæ¥ 1.5 å€çš„æ–°æ•°ç»„ä¸­ï¼Œå½“æ•°æ®é‡è¿‡å¤§æ—¶ï¼Œè¿™ç§æ“ä½œå¯èƒ½å°±éœ€è¦å¤§é‡æ—¶é—´æ¥è¿›è¡Œäº†</p><p>â€‹        è€Œåœ¨è¿™ä¸€å°èŠ‚ä¸­ï¼Œå¯ä»¥çœ‹ä¸€ä¸‹ï¼Œåœ¨ Java ä¸­é“¾è¡¨ç±»ï¼š<code>LinkedList</code>ï¼Œå®ƒçš„åº•å±‚æ˜¯åŸºäºåŒå‘é“¾è¡¨çš„ï¼Œæ—¥å¸¸å¼€å‘å¾ˆå°‘ä½¿ç”¨</p><p>é¦–å…ˆçœ‹ä¸€ä¸‹ï¼Œç»§æ‰¿å…³ç³»ï¼š</p><p><img src="https://gitee.com/wonderfuleight/blogImg/raw/master//20201004123939.png" class="lazyload" data-srcset="https://gitee.com/wonderfuleight/blogImg/raw/master//20201004123939.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="image-20201004123937678"></p><p>å¯ä»¥å’Œ<a href="http://wangba.me/2020/10/02/Array/">ä¸Šä¸€èŠ‚</a> ArrayList ç±»çš„ç»§æ‰¿å›¾è¿›è¡Œå¯¹æ¯”ï¼Œå¯ä»¥å‘ç°ï¼š</p><ul><li>å°‘äº†ï¼šLinkedList å°‘å®ç°äº† RandomAccess æ¥å£ï¼Œå…·ä½“çœ‹å‚è€ƒ<a href="https://juejin.im/post/6844903519066193927">RandomAccess è¿™ä¸ªç©ºæ¶å­æœ‰ä½•ç”¨ï¼Ÿ</a></li><li>æ”¹äº†ï¼šArrayList æ˜¯ç»§æ‰¿äº† AbstractListï¼Œè€Œ LinkedList ç»§æ‰¿äº† AbstractSequentialList (å®ƒæ˜¯ AbstractList çš„å­ç±»)</li><li>å¤šäº†ï¼šLinkedList è¿˜å®ç°äº† Deque æ¥å£  ====&gt;  å› ä¸ºå®ç° Deque å³å¯ä»¥ä½œä¸ºé˜Ÿåˆ—ä½¿ç”¨ï¼Œä¹Ÿå¯ä»¥ä½œä¸ºæ ˆä½¿ç”¨ã€‚å½“ç„¶ï¼Œä½œä¸ºåŒç«¯é˜Ÿåˆ—ï¼Œä¹Ÿæ˜¯å¯ä»¥çš„ã€‚</li></ul><p>ç”±äºæºç è¿‡å¤šï¼Œæ­¤å†…å®¹å°†æ”¾åœ¨ JDK æºç åˆ†æç³»åˆ—ä¸­ã€‚</p>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;/assets/css/APlayer.min.css&quot;&gt;&lt;script src=&quot;/assets/js/APlayer.min.js&quot; cla</summary>
      
    
    
    
    <category term="é‡å­¦ç®—æ³•ç³»åˆ—" scheme="http://wangba.me/categories/%E9%87%8D%E5%AD%A6%E7%AE%97%E6%B3%95%E7%B3%BB%E5%88%97/"/>
    
    
    <category term="Leetcode" scheme="http://wangba.me/tags/Leetcode/"/>
    
    <category term="Algorithm" scheme="http://wangba.me/tags/Algorithm/"/>
    
  </entry>
  
  <entry>
    <title>Array</title>
    <link href="http://wangba.me/2020/10/02/Array/"/>
    <id>http://wangba.me/2020/10/02/Array/</id>
    <published>2020-10-02T14:35:15.000Z</published>
    <updated>2020-10-02T14:29:22.797Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="ä¸€ã€OverView"><a href="#ä¸€ã€OverView" class="headerlink" title="ä¸€ã€OverView"></a>ä¸€ã€OverView</h2><p>æ€ç»´å¯¼å›¾ï¼š</p><p><img src="https://gitee.com/wonderfuleight/blogImg/raw/master//20201002093205.png" class="lazyload" data-srcset="https://gitee.com/wonderfuleight/blogImg/raw/master//20201002093205.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="image-20201002093203544">        </p><h2 id="äºŒã€ç‰¹æ€§"><a href="#äºŒã€ç‰¹æ€§" class="headerlink" title="äºŒã€ç‰¹æ€§"></a>äºŒã€ç‰¹æ€§</h2><p>æ•°ç»„åº”è¯¥æ˜¯æ‰€æœ‰ç¨‹åºå‘˜ä¸­æœ€ç†Ÿæ‚‰çš„æ•°æ®ç»“æ„äº†ï¼Œå¦‚æœä½ ç®€å•çš„å›å¿†ä¸€ä¸‹æ•°ç»„çš„å…·ä½“å«ä¹‰ï¼Œä½ å¯ä»¥å¾—åˆ°å·²ç»å‡ ä¸ªé‡è¦çš„ç»“è®ºï¼š</p><ul><li>ğŸ· çº¿æ€§ç»“æ„</li><li>ğŸ¢ è¿ç»­å†…å­˜</li><li>ğŸ­ å­˜å‚¨ç›¸åŒç±»å‹</li></ul><h3 id="2-1-çº¿æ€§ç»“æ„"><a href="#2-1-çº¿æ€§ç»“æ„" class="headerlink" title="2.1 çº¿æ€§ç»“æ„"></a>2.1 çº¿æ€§ç»“æ„</h3><p>é¡¾åæ€ä¹‰ï¼Œçº¿æ€§ç»“æ„å°±æ˜¯è¿™ä¸ªç»“æ„åƒçº¿æ€§ä¸€æ ·ï¼Œè€Œéæ˜¯å…¶å®ƒç»“æ„ï¼Œè¿™æ ·è¯´çš„ç¡®æœ‰ç‚¹æŠ½è±¡ï¼Œå¯ä»¥ä»ä¸‹é¢å‡ ä¸ªä¾‹å­æ¥çœ‹ä¸€ä¸‹ï¼š</p><p><img src="https://gitee.com/wonderfuleight/blogImg/raw/master//20201002101432.png" class="lazyload" data-srcset="https://gitee.com/wonderfuleight/blogImg/raw/master//20201002101432.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="image-20201002101430898"></p><blockquote><p>æ³¨ï¼š</p><ul><li>è¿™é‡Œçš„ <strong>Array</strong> æ˜¯ä½¿ç”¨ <strong>Java</strong> ä¸­çš„å†…å­˜æ¨¡å‹ï¼Œå³ <strong>char</strong> ä¸º 2 ä¸ªå­—èŠ‚</li><li>é“¾è¡¨æ²¡æœ‰ä½¿ç”¨å“¨å…µæ¨¡å¼ (åé¢ä¼šæåˆ°)</li></ul></blockquote><h3 id="2-2-è¿ç»­å†…å­˜å’Œç›¸åŒæ•°æ®ç±»å‹"><a href="#2-2-è¿ç»­å†…å­˜å’Œç›¸åŒæ•°æ®ç±»å‹" class="headerlink" title="2.2 è¿ç»­å†…å­˜å’Œç›¸åŒæ•°æ®ç±»å‹"></a>2.2 è¿ç»­å†…å­˜å’Œç›¸åŒæ•°æ®ç±»å‹</h3><p>æ­£å¦‚ä¸Šé¢ä¾‹å­ä¸­çš„æ•°ç»„ä¸€æ ·ï¼Œåœ¨è¿™ä¸ªæ•°ç»„ä¸­ï¼Œå®ƒä»¬çš„åœ°å€æ˜¯è¿ç»­çš„ï¼Œä¸”æ•°ç»„ä¸­æ¯ä¸€ä¸ªå…ƒç´ éƒ½æ˜¯ char ç±»å‹ï¼Œæ­£æ˜¯ç”±äºè¿™ä¸¤ä¸ªç‰¹æ€§ï¼Œè®©æ•°ç»„å®ç°äº†è¿™ä¸€ç”Ÿä¸­æœ€é‡è¦çš„æ“ä½œï¼šå¿«é€ŸæŸ¥è¯¢ï¼Œå®ƒå¯ä»¥è¾¾åˆ° <strong>O(1)</strong> çš„é€Ÿåº¦ï¼Œå½“ç„¶è¦å¯¹è¿™é‡Œè¿›è¡Œé™åˆ¶æ¡ä»¶ï¼Œå³å‡†ç¡®çš„è¡¨è¾¾åº”è¯¥æ˜¯æŒ‰ç…§<code>ä¸‹æ ‡</code>è¿›è¡ŒæŸ¥è¯¢ï¼Œå®ƒçš„æ—¶é—´å¤æ‚åº¦å¯ä»¥è¾¾åˆ° <strong>O(1)</strong> ï¼Œè€Œä¸æ˜¯æˆ‘ä»¬ç»å¸¸è¯´çš„æ ¹æ®æŸä¸ªå€¼æ¥ç¡®å®šå®ƒçš„ä½ç½®ç­‰ï¼Œè¿™æ ·çš„æŸ¥è¯¢æ–¹å¼ (å·²ç»æ’å¥½åº) æœ€å¿«ä¹Ÿæ˜¯ <strong>O(logn)</strong> </p><p>å…ˆæ¥çœ‹ä¸€ä¸‹æ˜¯å¦‚ä½•å®ç°æ ¹æ®ä¸‹æ ‡æ¥è¿›è¡Œæ—¶é—´å¤æ‚åº¦ä¸º <strong>O(1)</strong> çš„æ“ä½œï¼š</p><p><img src="https://gitee.com/wonderfuleight/blogImg/raw/master//20201002112308.png" class="lazyload" data-srcset="https://gitee.com/wonderfuleight/blogImg/raw/master//20201002112308.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="image-20201002112307187"></p><p>æˆ‘ä»¬å¾ˆå®¹æ˜“å°±å‘ç°è¿™æ ·çš„è§„å¾‹ï¼š</p><p>å‰æï¼šchar[] charList = new char[6]</p><p>ç»“è®ºï¼š<code>address = baseAddress + i * charSize</code></p><p>ä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬åªéœ€è¦çŸ¥é“ä»¥ä¸‹æ¡ä»¶å°±è¡Œï¼š</p><ul><li>è¯¥æ•°ç»„çš„èµ·å§‹åœ°å€ baseAddressï¼Œä¹Ÿå°±æ˜¯å›¾ä¸­çš„ 1000</li><li>è¯¥æ•°ç»„æ˜¯ä»€ä¹ˆç±»å‹ï¼Œè¿™é‡Œæ˜¯ Java çš„ char ç±»å‹ï¼Œå­—èŠ‚æ•°ä¸º 2</li></ul><p>å°±è¿™æ ·ï¼Œå¯ä»¥é€šè¿‡ä¸Šé¢æ¡ä»¶æ±‚å‡ºè¿™é‡Œä»»æ„ä¸€ä¸ªå…ƒç´ çš„åœ°å€ã€‚</p><h4 id="å‡çŸ¥è¯†ï¼š"><a href="#å‡çŸ¥è¯†ï¼š" class="headerlink" title="å‡çŸ¥è¯†ï¼š"></a>å‡çŸ¥è¯†ï¼š</h4><p>å¦‚æœï¼Œèµ·å§‹åœ°å€ä» 1 å¼€å§‹çš„è¯ï¼Œæ¥è®¡ç®—ä¸€ä¸‹ä¼šå‘ç”Ÿä»€ä¹ˆæƒ…å†µï¼Ÿ</p><p>è®¡ç®—å…¬å¼æ˜¯ä¸æ˜¯è¦å˜ä¸ºï¼š<code>address = baseAddress + (i - 1) * charSize</code> </p><p>ä½ æƒ³ï¼Œä½ ç»†æƒ³ï¼Œæ˜¯ä¸æ˜¯æ¯æ¬¡éƒ½è¦å¤šè¿›è¡Œä¸€æ¬¡<strong>å‡æ³•</strong>æ“ä½œï¼Œè¿™æ · <code>åŠ æ³•å™¨</code> (åœ¨è®¡ç»„ä¸­æ˜¯æ²¡æœ‰å‡æ³•å™¨å­˜åœ¨çš„ï¼Œé€šè¿‡è½¬æ¢ä¸ºåŠ æ³•æ¥è®¡ç®—)æ˜¯ä¸æ˜¯å°±è¦å¤šè¿›è¡Œä¸€æ¬¡è®¡ç®—</p><p>è¿™ä¼šä¸ä¼šå°±æ˜¯å½“å¹´å®šä¹‰æ•°ç»„ä» 0 å¼€å§‹çš„é‚£ä½ç¨‹åºå‘˜çš„ idea å‘¢ï¼Ÿ(<del>å¼ºè€…å¦‚æ–¯</del>) å½“ç„¶ä¸æ˜¯ï¼Œè¿™ä»…ä»…æ˜¯ä¸€ç§è§„å®šè€Œå·²ï¼Œä¸Šé¢çš„ä¸€ç³»åˆ—çŒœæµ‹ï¼Œä»…ä»…æ˜¯ä¸ºäº†çŒœè€ŒçŒœ</p><h3 id="2-3-æ’å…¥å’Œåˆ é™¤"><a href="#2-3-æ’å…¥å’Œåˆ é™¤" class="headerlink" title="2.3 æ’å…¥å’Œåˆ é™¤"></a>2.3 æ’å…¥å’Œåˆ é™¤</h3><p><strong>One coin has two sides</strong>ï¼Œæœ‰åˆ©è‡ªç„¶æœ‰å¼Šã€‚åœ¨ä¸Šé¢å·²ç»è¯´è¿‡äº†æ•°ç»„çš„æŸ¥è¯¢ï¼Œä¹Ÿæ˜¯æ•°ç»„çš„æœ€å¤§ä¼˜ç‚¹ï¼›å½“ç„¶æ•°ç»„åœ¨æ’å…¥å’Œåˆ é™¤çš„æ—¶é—´å¤æ‚åº¦æ¯”è¾ƒé«˜ï¼Œä½†æ˜¯ä¹Ÿæœ‰ä¸€äº›ä¼˜åŒ–çš„å° tipsã€‚</p><p><code>æ’å…¥</code></p><p>ä¸ºä»€ä¹ˆè¯´æ•°ç»„ä¸­æ’å…¥ï¼Œä¼šæ˜¯æ—¶é—´å¤æ‚åº¦å˜é«˜å‘¢ï¼Ÿä¸»è¦æ˜¯æ•°ç»„æ˜¯è¿ç»­å­˜å‚¨çš„ï¼Œå¦‚æœåªæ˜¯åœ¨æœ€åä¸€ä¸ªå…ƒç´ æ’å…¥ä¸€ä¸ªæ–°çš„å…ƒç´ ï¼Œé‚£ä¹ˆæ²¡ä»€ä¹ˆå¤§ä¸äº†ï¼›ä½†æ˜¯ä½ è¦æ˜¯åœ¨ç¬¬ä¸€ä¸ªå…ƒç´ åé¢æ’å…¥ä¸€ä¸ªæ–°çš„å…ƒç´ ï¼Œé‚£å°±è¦æŠŠåŸæœ¬çš„ç¬¬äºŒä¸ªå…ƒç´ åˆ°æœ€åä¸€ä¸ªå…ƒç´ å…¨éƒ¨å‘åç§»åŠ¨ä¸€ä¸ª typeSizeï¼Œå¦‚ä¸‹ï¼š</p><p><img src="https://gitee.com/wonderfuleight/blogImg/raw/master//20201002153520.png" class="lazyload" data-srcset="https://gitee.com/wonderfuleight/blogImg/raw/master//20201002153520.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="image-20201002153518082"></p><p>ç”±ä¸Šé¢çš„å›¾ï¼Œå¯ä»¥è½»æ˜“çœ‹å‡ºæ’å…¥æ–°çš„å…ƒç´ åœ¨æœ€åï¼šå‰é¢å…ƒç´ çš„ä½ç½®éƒ½æœªå˜ï¼›æ’å…¥åœ¨ç¬¬äºŒä¸ªä½ç½®ï¼šç¬¬äºŒä¸ªå…ƒç´ åˆ°æœ€åä¸€ä¸ªå…ƒç´ çš„ä½ç½®éƒ½ <strong>+ 1</strong> äº†</p><p>å¹³å‡çš„æ—¶é—´å¤æ‚åº¦å°±ä¸ºï¼š<strong>O(n)</strong></p><p>å½“ç„¶è¿™æ ·åšæ˜¯æœ‰å‰æçš„ï¼šå°±æ˜¯æ˜¯è¦æœ‰åºçš„ã€‚å¦‚æœå¯¹æ’åºæ²¡æœ‰è¦æ±‚çš„ï¼Œå¯ä»¥å¦‚ä¸‹æ“ä½œï¼š</p><p><img src="https://gitee.com/wonderfuleight/blogImg/raw/master//20201002155752.png" class="lazyload" data-srcset="https://gitee.com/wonderfuleight/blogImg/raw/master//20201002155752.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="image-20201002155750878"></p><p>æ­¤æ—¶åªéœ€è¦æŠŠåŸæœ¬åœ¨ 1 ä½ç½®çš„å…ƒç´ <strong>å¤åˆ¶</strong>åˆ°æ–°æ‰©å±•çš„ä½ç½®ï¼ŒæŠŠ 1 ä¸­çš„å…ƒç´ æ¢æˆæ–°çš„å…ƒç´ ï¼Œåœ¨ä¸Šè¿°çš„ä¾‹å­ä¸­å¯¹åº”çš„å°±æ˜¯ï¼šå°† n å¤åˆ¶åˆ°ä½ç½® 5 ä¸Šï¼Œç„¶åå°†ä½ç½® 1 çš„å…ƒç´ è¦†ç›–ä¸ºæ–°å…ƒç´  a</p><p><code>åˆ é™¤</code></p><p>åˆ é™¤æ•°ç»„ä¸­çš„å…ƒç´ ä¸æ’å…¥æ“ä½œç±»ä¼¼ï¼šä¸»è¦æ˜¯ä¸ºäº†ä¿è¯å†…å­˜çš„è¿ç»­æ€§ï¼Œå¦‚æœåˆ é™¤æœ€åä¸€ä¸ªå…ƒç´ ï¼Œé‚£æ²¡ä»€ä¹ˆé—®é¢˜ï¼›å¦‚æœæ˜¯åˆ é™¤ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œé‚£ä¹ˆç¬¬ä¸€ä¸ªå…ƒç´ åé¢çš„æ‰€æœ‰å…ƒç´ éƒ½è¦å‘å‰ç§»åŠ¨ä¸€ä¸ªä½ç½®ã€‚</p><p>åˆ™å¹³å‡çš„æ—¶é—´å¤æ‚åº¦å°±ä¸ºï¼š<strong>O(n)</strong></p><p>ä¸€äº›ç‰¹æ®Šæƒ…å†µä¸‹çš„åˆ é™¤ï¼šå¦‚æœå¯¹æ²¡æœ‰ç«‹é©¬å¯¹åˆ é™¤å…ƒç´ è¿›è¡Œåƒåœ¾å›æ”¶çš„æ“ä½œï¼Œæœ‰ä»€ä¹ˆæ¯”è¾ƒå¥½çš„æ–¹å¼ï¼Ÿ</p><p>åœ¨ JVM è¿›è¡Œåƒåœ¾å›æ”¶æ—¶ï¼Œæœ‰ä»¥ä¸‹å‡ ç§ç®—æ³•ï¼š</p><ul><li>æ ‡è®° - æ¸…é™¤ç®—æ³•</li><li>å¤åˆ¶ç®—æ³•</li><li>æ ‡è®° - æ•´ç†ç®—æ³•</li><li>åˆ†ä»£æ”¶é›†ç®—æ³•</li></ul><p>åœ¨è¿™é‡Œä¸»è¦ä»‹ç»ä¸€ä¸‹ <strong>æ ‡è®° - æ¸…é™¤ç®—æ³•</strong>ï¼Œç®€å•æ¥è¯´ï¼š</p><p>åœ¨ JVM è¿›è¡Œåƒåœ¾å›æ”¶æ—¶ï¼Œä¸ç«‹é©¬è¿›è¡Œå›æ”¶ï¼Œåªæ˜¯å¯¹è¦è¿›è¡Œå›æ”¶çš„å…ƒç´ è¿›è¡Œæ ‡è®°ï¼Œç­‰åˆ°ç§¯ç´¯åˆ°ä¸€å®šé‡å†è¿›è¡Œä¸€æ¬¡æ‰¹å¤„ç†ï¼Œä¾‹å­å¦‚ä¸‹ï¼š</p><p><img src="https://gitee.com/wonderfuleight/blogImg/raw/master//20201002163730.png" class="lazyload" data-srcset="https://gitee.com/wonderfuleight/blogImg/raw/master//20201002163730.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="image-20201002163729145"></p><p>å¯ä»¥çœ‹è§ï¼Œåªéœ€è¦å¯¹è¦åˆ é™¤çš„å…ƒç´ è¿›è¡Œæ ‡è®°ï¼Œéšååˆ°æœ€åä¸€æ¬¡æ€§è¿›è¡Œå›æ”¶</p><p>ä½†æ˜¯è¿™æ ·ä¹Ÿä¼šå¸¦æ¥å¾ˆå¤šé—®é¢˜ï¼Œå¦‚æ•ˆç‡é—®é¢˜å’Œç©ºé—´é—®é¢˜ï¼Œå¦‚ä¸‹ï¼š</p><p><img src="https://gitee.com/wonderfuleight/blogImg/raw/master//20201002163919.png" class="lazyload" data-srcset="https://gitee.com/wonderfuleight/blogImg/raw/master//20201002163919.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="image-20201002163917519"></p><p>å¦‚æœæ˜¯åˆ é™¤çš„å…ƒç´ æ˜¯ä¸€æ®µä¸€æ®µçš„ï¼Œé‚£ä¹ˆå°±ä¼šäº§ç”Ÿå¤§é‡çš„ç©ºé—´ç¢ç‰‡ï¼Œæ‰€ä»¥ JVM åé¢è¿˜æœ‰å¾ˆå¤šå…¶ä½™çš„å›æ”¶ç®—æ³•</p><h3 id="2-4-å…³äºæ•°ç»„è¶Šç•Œçš„é—®é¢˜"><a href="#2-4-å…³äºæ•°ç»„è¶Šç•Œçš„é—®é¢˜" class="headerlink" title="2.4 å…³äºæ•°ç»„è¶Šç•Œçš„é—®é¢˜"></a>2.4 å…³äºæ•°ç»„è¶Šç•Œçš„é—®é¢˜</h3><p>æˆ‘ä»¬å°è¯•åœ¨ Ubuntu 18.04 64bit ä¸­è¿è¡Œä¸‹é¢è¿™æ®µ C ä»£ç ï¼š</p><p><code>OverFlow.c</code> </p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span>* argv[])</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> arr[<span class="number">3</span>] = &#123;<span class="number">0</span>&#125;;</span><br><span class="line">    <span class="keyword">for</span>(; i&lt;=<span class="number">3</span>; i++)&#123;</span><br><span class="line">        arr[i] = <span class="number">0</span>;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;hello world\n&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æŒ‰ç…§æ­£å¸¸æƒ³æ³•èµ°ä¸‹å»ï¼šä¼šæ‰“å°ä¸‰è¡Œ hello worldï¼Œå°±ä¼šè¿è¡Œå®Œæ¯•</p><p>è®©æˆ‘ä»¬è¿›è¡Œæµ‹è¯•å§ï¼š</p><p><img src="https://gitee.com/wonderfuleight/blogImg/raw/master//20201002172344.png" class="lazyload" data-srcset="https://gitee.com/wonderfuleight/blogImg/raw/master//20201002172344.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="image-20201002172343083"></p><p>ä½ å°±ä¼šçœ‹åˆ°æ§åˆ¶å°å¼€å§‹æ— é™æ‰“å° hello world äº†ï¼š</p><p>![image-20201002172557103](/Users/wangdechao/Library/Application Support/typora-user-images/image-20201002172557103.png)</p><p>åªè¦åœ¨å†…å­˜è¶³å¤Ÿçš„æƒ…å†µä¸‹ï¼Œè¿™ä¸ªç¨‹åºå°±ä¼šä¸€ç›´è¿è¡Œä¸‹å»ï¼Œè¿™å°±æ˜¯å…¸å‹çš„ StackOverFlow é—®é¢˜</p><p>ç®€å•çš„å°±å¯ä»¥ç†è§£æˆå¦‚ä¸‹ç»“æ„ï¼š</p><img src="https://gitee.com/wonderfuleight/blogImg/raw/master//20201002184829.png" class="lazyload" data-srcset="https://gitee.com/wonderfuleight/blogImg/raw/master//20201002184829.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="image-20201002184827040" style="zoom:50%;" /><p>è¿™ä¸ªæ ˆçš„ç»“æ„å…·ä½“å¯ä»¥å‚è€ƒã€Šæ·±å…¥ç†è§£è®¡ç®—æœºç³»ç»Ÿã€‹ï¼Œè¿™é‡Œå‡ºç°ä¸Šè¿°æƒ…å†µçš„ä¸»è¦åŸå› ï¼š</p><ul><li>C è¯­è¨€ä¸­æ˜¯æ‰€æœ‰çš„å†…å­˜éƒ½æ˜¯å¯ä»¥è®¿é—® (é™¤äº†å—é™å†…å­˜ä»¥å¤–)</li><li>åœ¨ä¸Šè¿°ä»£ç ä¸­ i &lt;=3ï¼Œè¯´æ˜ a[3] = 0 åœ¨å†…å­˜çš„æŸä¸ªåœ°å€ä¸Š</li><li>è€Œè¿™ä¸ªåœ°å€æœ¬èº«æ˜¯ <code>åŸæ¥çš„ i çš„åœ°å€</code> ï¼Œæ‰€ä»¥å°±ç›¸å½“äº i = 3 åˆè¢«èµ‹å€¼ä¸º i = 0ï¼Œç„¶åç»§ç»­ä¸æ–­å¾ªç¯</li></ul><p>å¦‚æœæƒ³çŸ¥é“è¿™ä¸ªæ ˆæº¢å‡ºæ˜¯å¦‚ä½•å…·ä½“å®ç°çš„è¯ï¼Œå¯ä»¥æ˜¯ç”¨ objdump å‘½ä»¤è¿›è¡Œåç¼–è¯‘ï¼Œå†è¿›è¡Œåˆ†æï¼Œå…¶ä¸­ä¸»è¦çš„æ±‡ç¼–ä»£ç å¦‚ä¸‹ï¼šå…¶ä¸­å…³é”®è¡Œåº”è¯¥ä¸º 65fã€67eã€682ã€661</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">000000000000063a &lt;main&gt;:</span><br><span class="line"> 63a:    55                       push   %rbp</span><br><span class="line"> 63b:    48 89 e5                 mov    %rsp,%rbp</span><br><span class="line"> 63e:    48 83 ec 20              sub    $0x20,%rsp</span><br><span class="line"> 642:    89 7d ec                 mov    %edi,-0x14(%rbp)</span><br><span class="line"> 645:    48 89 75 e0              mov    %rsi,-0x20(%rbp)</span><br><span class="line"> 649:    c7 45 fc 00 00 00 00     movl   $0x0,-0x4(%rbp)</span><br><span class="line"> 650:    48 c7 45 f0 00 00 00     movq   $0x0,-0x10(%rbp)</span><br><span class="line"> 657:    00 </span><br><span class="line"> 658:    c7 45 f8 00 00 00 00     movl   $0x0,-0x8(%rbp)</span><br><span class="line"> 65f:    eb 1d                    jmp    67e &lt;main+0x44&gt;</span><br><span class="line"> 661:    8b 45 fc                 mov    -0x4(%rbp),%eax</span><br><span class="line"> 664:    48 98                    cltq   </span><br><span class="line"> 666:    c7 44 85 f0 00 00 00     movl   $0x0,-0x10(%rbp,%rax,4)</span><br><span class="line"> 66d:    00 </span><br><span class="line"> 66e:    48 8d 3d 9f 00 00 00     lea    0x9f(%rip),%rdi        # 714 &lt;_IO_stdin_used+0x4&gt;</span><br><span class="line"> 675:    e8 96 fe ff ff           callq  510 &lt;puts@plt&gt;</span><br><span class="line"> 67a:    83 45 fc 01              addl   $0x1,-0x4(%rbp)</span><br><span class="line"> 67e:    83 7d fc 03              cmpl   $0x3,-0x4(%rbp)</span><br><span class="line"> 682:    7e dd                    jle    661 &lt;main+0x27&gt;</span><br><span class="line"> 684:    b8 00 00 00 00           mov    $0x0,%eax</span><br><span class="line"> 689:    c9                       leaveq </span><br><span class="line"> 68a:    c3                       retq   </span><br><span class="line"> 68b:    0f 1f 44 00 00           nopl   0x0(%rax,%rax,1)</span><br></pre></td></tr></table></figure><p>å…¶å®ï¼Œåœ¨è¿™ä¸ªå·¨å¤§æ¼æ´å‡ºæ¥åï¼Œç°åœ¨çš„å†…å­˜å·²ç»åŠ äº†é‡‘ä¸é›€ä¿æŠ¤ (canary) äº†ï¼Œä¸ºäº†è®©è¿™ä¸ªæ¼æ´å¤ç°ï¼Œåœ¨ä¸Šé¢ç¼–è¯‘çš„è¿‡ç¨‹ä¸­ï¼Œå·²ç»ä½¿ç”¨ <strong>-fno-stack-protector</strong> å°†ä¿æŠ¤å…³é—­äº†</p><p>è€Œå¦‚æœè¯¥ç¨‹åºåœ¨ Java ä¸­å¤ç°ï¼Œåœ¨ç¼–è¯‘æ—¶å°±ä¼šæŠ›å‡º <strong>ArrayIndexOutOfBoundsException</strong> çš„å¼‚å¸¸äº†</p><h2 id="ä¸‰ã€Java-ä¸­çš„æ•°ç»„"><a href="#ä¸‰ã€Java-ä¸­çš„æ•°ç»„" class="headerlink" title="ä¸‰ã€Java ä¸­çš„æ•°ç»„"></a>ä¸‰ã€Java ä¸­çš„æ•°ç»„</h2><p>åœ¨ Java ä¸­ï¼Œå¯¹äºæ•°ç»„æ²¡æœ‰ä»€ä¹ˆå¥½äº†è§£çš„ï¼Œé¡¶å¤šå°±ä¸€ä¸ªåŸºæœ¬è¯­æ³•ï¼›ä½†æ˜¯åœ¨ Java ä¸­æœ‰ä¸€ä¸ªé›†åˆç±»ï¼Œæ˜¯æ¯ä¸ª Java ç¨‹åºå‘˜åº”è¯¥æ¯å¤©éƒ½ä¼šç”¨åˆ°çš„ï¼Œå®ƒå°±æ˜¯ <code>ArrayList</code> </p><p>å…ˆçœ‹ä¸€ä¸‹å®ƒçš„ç»§æ‰¿å’Œå®ç°å…³ç³»</p><p><img src="https://gitee.com/wonderfuleight/blogImg/raw/master//20201002213613.png" class="lazyload" data-srcset="https://gitee.com/wonderfuleight/blogImg/raw/master//20201002213613.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="image-20201002213610816"></p><ul><li>å®ƒç»§æ‰¿äº† <strong>AbstractList</strong> ï¼Œå®ç°äº† <strong>List</strong>    ====&gt;    å®ƒæ˜¯ä¸€ä¸ªæ•°ç»„é˜Ÿåˆ—ï¼Œæä¾›äº†ç›¸å…³çš„æ·»åŠ ã€åˆ é™¤ã€ä¿®æ”¹ã€éå†ç­‰åŠŸèƒ½</li><li>å®ƒå®ç°äº†<strong>RandomAccess æ¥å£</strong>    ====&gt;    å®ç°è¿™ä¸ªè¿™ä¸ªæ¥å£çš„ List é›†åˆæ˜¯æ”¯æŒ<strong>å¿«é€Ÿéšæœºè®¿é—®</strong></li><li>å®ƒå®ç° <strong>java.io.Serializable æ¥å£</strong>    ====&gt;    ArrayList <strong>æ”¯æŒåºåˆ—åŒ–</strong>ï¼Œ<strong>èƒ½é€šè¿‡åºåˆ—åŒ–å»ä¼ è¾“</strong></li><li>å¹¶ä¸”è¦æ³¨æ„ï¼Œåœ¨å•çº¿ç¨‹ä¸­ä½¿ç”¨å®ƒï¼Œåœ¨å¤šçº¿ç¨‹ä½¿ç”¨ <strong>Vector(å°‘)</strong> æˆ–è€… <strong>CopyOnWriteArrayList(å¤š)**ï¼Œå°½é‡è¿˜æ˜¯ä½¿ç”¨åè€…è¾ƒå¤šï¼Œå‰è€…ä¸»è¦æ˜¯åŸºäº **synchronized</strong> å…³é”®å­—ï¼Œåè€…æ˜¯åŸºäº <strong>ReentrantLock</strong> æ“ä½œçš„</li></ul><p>å®ƒä¸ Java è‡ªå¸¦çš„æ™®é€šæ•°ç»„æœ€å¤§çš„åŒºåˆ«å°±æ˜¯ï¼šå®ƒæ˜¯<code>åŠ¨æ€</code>çš„</p><p>è¿™é‡Œä¸»è¦åŸºäºæºç åˆ†æä¸€ä¸‹åŠ¨æ€æ‰©å®¹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">ensureCapacity</span><span class="params">(<span class="keyword">int</span> minCapacity)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (minCapacity &gt; <span class="keyword">this</span>.elementData.length &amp;&amp; (<span class="keyword">this</span>.elementData != DEFAULTCAPACITY_EMPTY_ELEMENTDATA || minCapacity &gt; <span class="number">10</span>)) &#123;</span><br><span class="line">        ++<span class="keyword">this</span>.modCount;</span><br><span class="line">        <span class="keyword">this</span>.grow(minCapacity);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> Object[] grow(<span class="keyword">int</span> minCapacity) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.elementData = Arrays.copyOf(<span class="keyword">this</span>.elementData, <span class="keyword">this</span>.newCapacity(minCapacity));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> Object[] grow() &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.grow(<span class="keyword">this</span>.size + <span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">newCapacity</span><span class="params">(<span class="keyword">int</span> minCapacity)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> oldCapacity = <span class="keyword">this</span>.elementData.length;</span><br><span class="line">    <span class="keyword">int</span> newCapacity = oldCapacity + (oldCapacity &gt;&gt; <span class="number">1</span>);</span><br><span class="line">    <span class="keyword">if</span> (newCapacity - minCapacity &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">this</span>.elementData == DEFAULTCAPACITY_EMPTY_ELEMENTDATA) &#123;</span><br><span class="line">            <span class="keyword">return</span> Math.max(<span class="number">10</span>, minCapacity);</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (minCapacity &lt; <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> OutOfMemoryError();</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> minCapacity;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> newCapacity - <span class="number">2147483639</span> &lt;= <span class="number">0</span> ? newCapacity : hugeCapacity(minCapacity);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>æ³¨ï¼š</p><ul><li>å¯¹äºå˜é•¿æ•°æ®ç»“æ„ï¼Œå½“ç»“æ„ä¸­æ²¡æœ‰ç©ºä½™ç©ºé—´å¯ä¾›ä½¿ç”¨æ—¶ï¼Œå°±éœ€è¦è¿›è¡Œæ‰©å®¹ã€‚åœ¨ ArrayList ä¸­ï¼Œå½“ç©ºé—´ç”¨å®Œï¼Œå…¶ä¼šæŒ‰ç…§åŸæ•°ç»„ç©ºé—´çš„1.5å€è¿›è¡Œæ‰©å®¹ã€‚</li></ul></blockquote>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;/assets/css/APlayer.min.css&quot;&gt;&lt;script src=&quot;/assets/js/APlayer.min.js&quot; cla</summary>
      
    
    
    
    <category term="é‡å­¦ç®—æ³•ç³»åˆ—" scheme="http://wangba.me/categories/%E9%87%8D%E5%AD%A6%E7%AE%97%E6%B3%95%E7%B3%BB%E5%88%97/"/>
    
    
    <category term="Leetcode" scheme="http://wangba.me/tags/Leetcode/"/>
    
    <category term="Algorithm" scheme="http://wangba.me/tags/Algorithm/"/>
    
  </entry>
  
  <entry>
    <title>Algorithm</title>
    <link href="http://wangba.me/2020/10/01/Algorithm/"/>
    <id>http://wangba.me/2020/10/01/Algorithm/</id>
    <published>2020-10-01T14:42:29.000Z</published>
    <updated>2020-10-01T14:52:58.430Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>â€‹            æœ€è¿‘å®ä¹ åå‘ç°è‡ªå·±çš„ç®—æ³•èƒ½åŠ›æ€¥å‰§ä¸‹é™ï¼Œ<del>CRUD åªæ˜¯ä¸‹é™ï¼Œç®—æ³•æ‰æ˜¯ä¸Šé™</del>ï¼Œå†³å®šé‡æ–°å¼€ä¸€ä¸ªç³»åˆ—ï¼Œå°†æ•°æ®ç»“æ„ä¸ç®—æ³•é‡æ–°å­¦ä¸€éã€‚è¿™æ¬¡ä¸»è¦å‚è€ƒçš„è¯¾ç¨‹æ˜¯ã€Šæ•°æ®ç»“æ„ä¸ç®—æ³•ä¹‹ç¾ã€‹å’Œã€Šç®—æ³•é¢è¯•é€šå…³40è®²ã€‹ã€‚è¿™é‡Œå°±ä¸åƒã€Šç®—æ³•å¯¼è®ºã€‹é‚£æ ·æ¯”è¾ƒç†è®ºåŒ–ï¼Œåº”è¯¥ä¼šæ›´åå‘äºã€Šç®—æ³•ã€‹è¿™æœ¬ä¹¦çš„ç±»å‹ã€‚</p><p>å¯ä»¥çœ‹åˆ°ä¸‹é¢è¿™äº›æœ‰è¶£çš„ç‚¹ï¼š</p><ul><li>ğŸ· å°½é‡åˆ©ç”¨å›¾ + æ–‡å­—ï¼Œæ¸…æ™°çš„è¡¨è¾¾æ„æ€</li><li>ğŸ¢ ä¸€å®šè¦ç»“åˆ Leetcode ä¸Šçš„é¢˜ç›®</li><li>ğŸ­ å°½é‡ä»‹ç»ä¸€äº›<del>æ²¡ç”¨</del>æœ‰è¶£çš„å° Tips</li><li>ğŸ¦ ä½¿ç”¨ Java æ¥å®ç°æ‰€æœ‰çš„ç®—æ³•</li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;/assets/css/APlayer.min.css&quot;&gt;&lt;script src=&quot;/assets/js/APlayer.min.js&quot; cla</summary>
      
    
    
    
    <category term="é‡å­¦ç®—æ³•ç³»åˆ—" scheme="http://wangba.me/categories/%E9%87%8D%E5%AD%A6%E7%AE%97%E6%B3%95%E7%B3%BB%E5%88%97/"/>
    
    
    <category term="Leetcode" scheme="http://wangba.me/tags/Leetcode/"/>
    
    <category term="Algorithm" scheme="http://wangba.me/tags/Algorithm/"/>
    
  </entry>
  
  <entry>
    <title>SpringBootæ•´åˆSpring Security (ä¸‰)</title>
    <link href="http://wangba.me/2020/09/30/SpringBoot%E6%95%B4%E5%90%88Spring-Security-%E4%B8%89/"/>
    <id>http://wangba.me/2020/09/30/SpringBoot%E6%95%B4%E5%90%88Spring-Security-%E4%B8%89/</id>
    <published>2020-09-30T06:47:27.000Z</published>
    <updated>2020-09-30T08:49:43.318Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="ä¸€ã€OverView"><a href="#ä¸€ã€OverView" class="headerlink" title="ä¸€ã€OverView"></a>ä¸€ã€OverView</h2><p>â€‹        åœ¨å‰åç«¯ä¸åˆ†ç¦»æ—¶ä»£ï¼Œå¯èƒ½ä½¿ç”¨çš„å°±æ˜¯<a href="http://wangba.me/2020/09/28/SpringBoot%E6%95%B4%E5%90%88Spring-Security-%E4%BA%8C/">ä¸Šä¸€èŠ‚</a>ä¸­è¿™ç§æ–¹æ³•ï¼›åœ¨ç°åœ¨è¿™ç§å‰åç«¯åˆ†ç¦»éåœ°èµ°çš„æƒ…å†µä¸‹ï¼Œå·²ç»ä¸å†æ¨èä½¿ç”¨ä¼ ç»Ÿçš„ session ï¼Œè€Œæ˜¯ä½¿ç”¨ç°åœ¨æ¯”è¾ƒæµè¡Œçš„ JWT è¿™ç§ token çš„æ–¹å¼è§£å†³</p><p>â€‹        å¯¹æ¯”åˆ†æä¸€ä¸‹ï¼š</p><table><thead><tr><th></th><th>æœ‰çŠ¶æ€ç™»å½•</th><th>æ— çŠ¶æ€ç™»å½•</th></tr></thead><tbody><tr><td>å®šä¹‰</td><td>æœåŠ¡ç«¯éœ€è¦è®°å½•æ¯æ¬¡ä¼šè¯çš„å®¢æˆ·ç«¯ä¿¡æ¯ï¼Œä»è€Œè¯†åˆ«å®¢æˆ·ç«¯èº«ä»½ï¼Œæ ¹æ®ç”¨æˆ·èº«ä»½è¿›è¡Œè¯·æ±‚çš„å¤„ç†</td><td>æœåŠ¡ç«¯ä¸ä¿å­˜ä»»ä½•å®¢æˆ·ç«¯è¯·æ±‚è€…ä¿¡æ¯ï¼›å®¢æˆ·ç«¯çš„æ¯æ¬¡è¯·æ±‚å¿…é¡»å…·å¤‡è‡ªæè¿°ä¿¡æ¯ï¼Œé€šè¿‡è¿™äº›ä¿¡æ¯è¯†åˆ«å®¢æˆ·ç«¯èº«ä»½</td></tr><tr><td>ä¼˜ç‚¹</td><td>æ¯”è¾ƒæ–¹ä¾¿ï¼Œä¸éœ€è¦åšå¤šä½™çš„å¤„ç†</td><td>ä½¿ç”¨ token å¾ˆçµæ´»ï¼›æœåŠ¡ç«¯ä¸éœ€è¦å­˜æ•°æ®ï¼›å®¢æˆ·ç«¯ä¹Ÿå¯ä»¥å‘é€ç»™å¤šä¸ªæœåŠ¡å™¨</td></tr><tr><td>ç¼ºç‚¹</td><td>åªèƒ½æ˜¯ç½‘é¡µç«¯ï¼Œåœ¨ IOSã€Androidä¸è¡Œï¼›æœåŠ¡ç«¯ä¿å­˜å¤§é‡æ•°æ®ï¼›é›†ç¾¤åŒ–ä¸å¤ªè¡Œ</td><td>é…ç½®ç¨å¾®å¤æ‚(å…¶å®åœ¨æ¡†æ¶çš„åŠ æˆä¸‹ï¼Œä¸å¤æ‚)</td></tr></tbody></table><p><code>æœ‰çŠ¶æ€ç™»å½•</code></p><ul><li>ğŸŒ°ï¼šåœ¨ Tomcat ä¸­ï¼Œç”¨æˆ·ç™»å½•åï¼Œéœ€è¦æŠŠç”¨æˆ·çš„ä¿¡æ¯ä¿å­˜åœ¨æœåŠ¡å™¨çš„ session ä¸­ï¼Œç„¶åå‘é€ç»™ç”¨æˆ·ä¸€ä¸ª Cookie å€¼ï¼Œè®°å½•å¯¹åº”çš„ session å€¼ï¼Œç­‰ç”¨æˆ·ä¸‹ä¸€æ¬¡å†æ¬¡è®¿é—®è¯¥æœåŠ¡å™¨æ—¶ï¼Œæµè§ˆå™¨ä¼šè‡ªåŠ¨å¸¦ä¸Šè¿™ä¸ª Cookie å€¼ï¼ŒæœåŠ¡ç«¯å†è¯†åˆ«å…¶ä¸­çš„ session å€¼ï¼Œè¿›è¡Œåˆ¤æ–­</li></ul><p><code>æ— çŠ¶æ€ç™»å½•</code></p><ul><li>ğŸŒ°ï¼šå®¢æˆ·ç«¯å‘é€è´¦æˆ·å¯†ç åˆ°æœåŠ¡ç«¯è¿›è¡ŒéªŒè¯ï¼›è®¤è¯åæœåŠ¡ç«¯å‘é€ä¸€ä¸ª token ç»™å®¢æˆ·ç«¯ï¼›ä»¥åå®¢æˆ·ç«¯æ¯æ¬¡å‘é€è¯·æ±‚éƒ½å°† token æºå¸¦ä¸Šè¿›è¡Œè®¤è¯ï¼Œè¿›è¡Œåˆ¤æ–­</li></ul><h2 id="äºŒã€Test"><a href="#äºŒã€Test" class="headerlink" title="äºŒã€Test"></a>äºŒã€Test</h2><p>â€‹        åœ¨å‰åç«¯åˆ†ç¦»çš„åŸºç¡€ä¸Šï¼Œç°åœ¨å‰ç«¯å’Œåç«¯åªæ˜¯é€šè¿‡ JSON è¿›è¡Œäº¤äº’ï¼Œæ‰€ä»¥ç°åœ¨çš„é¡µé¢è·³è½¬å…¨éƒ¨ç”±å‰ç«¯è¿›è¡Œæ§åˆ¶ï¼Œåç«¯åªæ˜¯è¿”å›ä¸åŒçš„ JSON ç½¢äº†</p><p>é‡å†™<code>SecurityConfig</code>ä¸­çš„ configure æ–¹æ³•ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">configure</span><span class="params">(HttpSecurity http)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">    http.authorizeRequests()</span><br><span class="line">            .anyRequest().authenticated()</span><br><span class="line">            .and()</span><br><span class="line">            <span class="comment">// ç™»å‡ºé¡µé¢ + ç™»å‡ºæˆåŠŸåé¡µé¢</span></span><br><span class="line">            .logout()</span><br><span class="line">            .logoutUrl(<span class="string">&quot;/logout&quot;</span>)</span><br><span class="line">            .logoutSuccessUrl(<span class="string">&quot;/login.html&quot;</span>)</span><br><span class="line">            .logoutSuccessHandler((httpServletRequest, httpServletResponse, authentication) -&gt; &#123;</span><br><span class="line">                httpServletResponse.setContentType(<span class="string">&quot;application/json;charset=utf-8&quot;</span>);</span><br><span class="line">                PrintWriter out = httpServletResponse.getWriter();</span><br><span class="line">                out.write(<span class="string">&quot;æ³¨é”€æˆåŠŸ&quot;</span>);</span><br><span class="line">                out.flush();</span><br><span class="line">                out.close();</span><br><span class="line">            &#125;)</span><br><span class="line">            .and()</span><br><span class="line">            <span class="comment">// ç™»å½•é¡µé¢ + ç™»å½•æ¥å£</span></span><br><span class="line">            .formLogin().loginPage(<span class="string">&quot;/login.html&quot;</span>)</span><br><span class="line">            .loginProcessingUrl(<span class="string">&quot;/securityLogin&quot;</span>)</span><br><span class="line">            .permitAll()</span><br><span class="line">            <span class="comment">// ç™»å½•å¤±è´¥å¤„ç†å™¨</span></span><br><span class="line">            .failureHandler((httpServletRequest, httpServletResponse, e) -&gt; &#123;</span><br><span class="line">                httpServletResponse.setContentType(<span class="string">&quot;application/json;charset=utf-8&quot;</span>);</span><br><span class="line">                PrintWriter out = httpServletResponse.getWriter();</span><br><span class="line">                out.write(e.getMessage());</span><br><span class="line">                out.flush();</span><br><span class="line">                out.close();</span><br><span class="line">            &#125;)</span><br><span class="line">            <span class="comment">// ç™»å½•æˆåŠŸå¤„ç†å™¨</span></span><br><span class="line">            .successHandler((httpServletRequest, httpServletResponse, authentication) -&gt; &#123;</span><br><span class="line">                Object principal = authentication.getPrincipal();</span><br><span class="line">                httpServletResponse.setContentType(<span class="string">&quot;application/json;charset=utf-8&quot;</span>);</span><br><span class="line">                PrintWriter out = httpServletResponse.getWriter();</span><br><span class="line">                out.write(<span class="keyword">new</span> ObjectMapper().writeValueAsString(principal));</span><br><span class="line">                out.flush();</span><br><span class="line">                out.close();</span><br><span class="line">            &#125;)</span><br><span class="line">            .and()</span><br><span class="line">            .csrf().disable()</span><br><span class="line">    ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>ç™»å½•æ¥å£</code></p><p><img src="https://gitee.com/wonderfuleight/blogImg/raw/master//20200929172425.png" class="lazyload" data-srcset="https://gitee.com/wonderfuleight/blogImg/raw/master//20200929172425.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="image-20200929172423472"></p><blockquote><p>æ³¨ï¼š</p><ul><li>å¯ä»¥çœ‹åˆ°ä½¿ç”¨å‰åç«¯åˆ†ç¦»ï¼Œå°±ä¸éœ€è¦åç«¯æ¥æ§åˆ¶è·³è½¬é¡µé¢ç­‰ï¼Œåªéœ€è¦å°† JSON å‘ç»™å‰ç«¯å°±è¡Œ</li><li>è¿™é‡Œé¢çš„ password ä¸ºç©ºï¼Œæ˜¯æ¡†æ¶åšçš„ï¼Œå…·ä½“å¯ä»¥çœ‹è¿™é‡Œ</li></ul></blockquote><p><code>ç™»å½•å¤±è´¥</code></p><p><img src="https://gitee.com/wonderfuleight/blogImg/raw/master//20200930092635.png" class="lazyload" data-srcset="https://gitee.com/wonderfuleight/blogImg/raw/master//20200930092635.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="image-20200930092629637"></p><blockquote><p>æ³¨ï¼š</p><ul><li>æ— è®ºæ˜¯ç”¨æˆ·åå’Œå¯†ç å…¶ä¸­ä¸€ä¸ªé”™è¯¯ï¼Œå°±ä¼šè¿”å› Bad credentials æç¤ºï¼Œä¸»è¦ä¹Ÿæ˜¯ä¸ºäº†å®‰å…¨ç€æƒ³ï¼Œå…·ä½“æµç¨‹å¯ä»¥çœ‹ä¸‹é¢çš„ 3.1 å°èŠ‚</li></ul></blockquote><p><code>æ³¨é”€ç™»å½•</code></p><p><img src="https://gitee.com/wonderfuleight/blogImg/raw/master//20200930093600.png" class="lazyload" data-srcset="https://gitee.com/wonderfuleight/blogImg/raw/master//20200930093600.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="image-20200930093559635"></p><h2 id="ä¸‰ã€Deep-Learning"><a href="#ä¸‰ã€Deep-Learning" class="headerlink" title="ä¸‰ã€Deep Learning"></a>ä¸‰ã€Deep Learning</h2><h3 id="3-1-æ·±å…¥äº†è§£ç™»å½•å¤±è´¥"><a href="#3-1-æ·±å…¥äº†è§£ç™»å½•å¤±è´¥" class="headerlink" title="3.1 æ·±å…¥äº†è§£ç™»å½•å¤±è´¥"></a>3.1 æ·±å…¥äº†è§£ç™»å½•å¤±è´¥</h3><p>â€‹        åœ¨ä¸Šé¢æˆ‘ä»¬æåˆ°äº†æ— è®ºæ˜¯ç”¨æˆ·åå’Œå¯†ç å…¶ä¸­ä¸€ä¸ªé”™è¯¯ï¼Œå°±ä¼šè¿”å› Bad credentialsï¼Œå®åˆ™åœ¨å…¶ä¸­è¿˜æœ‰å¾ˆå¤šç§é”™è¯¯ï¼Œè€Œä¸”ç”¨æˆ·åæ˜¯æœ‰ç”¨æˆ·åé”™è¯¯ï¼Œåªæ˜¯æœ€ç»ˆè¢« Bad credentials è¦†ç›–äº†ï¼Œç¨å¾®åˆ†æä¸€ä¸‹ï¼š</p><p><code>AbstractUserDetailsAuthenticationProvider</code></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> Authentication <span class="title">authenticate</span><span class="params">(Authentication authentication)</span> <span class="keyword">throws</span> AuthenticationException </span>&#123;</span><br><span class="line">    Assert.isInstanceOf(UsernamePasswordAuthenticationToken.class, authentication, () -&gt; &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.messages.getMessage(<span class="string">&quot;AbstractUserDetailsAuthenticationProvider.onlySupports&quot;</span>, <span class="string">&quot;Only UsernamePasswordAuthenticationToken is supported&quot;</span>);</span><br><span class="line">    &#125;);</span><br><span class="line">    String username = authentication.getPrincipal() == <span class="keyword">null</span> ? <span class="string">&quot;NONE_PROVIDED&quot;</span> : authentication.getName();</span><br><span class="line">    <span class="keyword">boolean</span> cacheWasUsed = <span class="keyword">true</span>;</span><br><span class="line">    UserDetails user = <span class="keyword">this</span>.userCache.getUserFromCache(username);</span><br><span class="line">    <span class="keyword">if</span> (user == <span class="keyword">null</span>) &#123;</span><br><span class="line">        cacheWasUsed = <span class="keyword">false</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            user = <span class="keyword">this</span>.retrieveUser(username, (UsernamePasswordAuthenticationToken)authentication);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (UsernameNotFoundException var6) &#123;</span><br><span class="line">            <span class="keyword">this</span>.logger.debug(<span class="string">&quot;User &#x27;&quot;</span> + username + <span class="string">&quot;&#x27; not found&quot;</span>);</span><br><span class="line">            <span class="keyword">if</span> (<span class="keyword">this</span>.hideUserNotFoundExceptions) &#123;</span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> BadCredentialsException(<span class="keyword">this</span>.messages.getMessage(<span class="string">&quot;AbstractUserDetailsAuthenticationProvider.badCredentials&quot;</span>, <span class="string">&quot;Bad credentials&quot;</span>));</span><br><span class="line">            &#125;</span><br><span class="line">          <span class="comment">// çœç•¥</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ¨ä¸Šé¢è¿™æ®µä»£ç ä¸­ï¼Œè¿›è¡Œè°ƒè¯•å¯ä»¥çœ‹è§ï¼š</p><ul><li>ä¼šå…ˆåœ¨ç¼“å­˜ä¸­æŸ¥è¯¢ä¸€ä¸‹æ˜¯å¦æœ‰è¿‡</li><li>å†è°ƒç”¨ retrieveUser æ¥è¿›è¡Œåˆ¤æ–­</li><li>ä¸€æ—¦æŠ›å‡º UsernameNotFoundException ï¼Œå°±çœ‹ hideUserNotFoundExceptions çš„å€¼äº†ï¼Œå¦‚æœä¸º trueï¼Œå°±ä¼šæŠ›å‡º Bad credentials</li></ul><p>è¿›è¡Œæ–­ç‚¹è°ƒè¯•ï¼šè¾“é”™ç”¨æˆ·åï¼Œå¹¶æ‰“ä¸Šæ–­ç‚¹ï¼š</p><p><img src="https://gitee.com/wonderfuleight/blogImg/raw/master//20200930135354.png" class="lazyload" data-srcset="https://gitee.com/wonderfuleight/blogImg/raw/master//20200930135354.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="image-20200930135352906"></p><p>é€šè¿‡ä¸Šå›¾å°±èƒ½çœ‹å‡ºï¼ŒhideUserNotFoundExceptions é»˜è®¤å€¼æ˜¯ true çš„</p><h3 id="3-2-æœªè®¤è¯å¤„ç†"><a href="#3-2-æœªè®¤è¯å¤„ç†" class="headerlink" title="3.2 æœªè®¤è¯å¤„ç†"></a>3.2 æœªè®¤è¯å¤„ç†</h3><p>åœ¨å‰åç«¯åˆ†ç¦»ï¼Œå¦‚æœå‡ºç°æœªè®¤è¯çš„çŠ¶æ€ï¼Œä¸å¯èƒ½æ§åˆ¶å‰ç«¯æ¥è·³è½¬é¡µé¢ç­‰ï¼Œåªèƒ½ç»™å‰ç«¯è¿”å›ç›¸åº”çš„ä¿¡æ¯å³å¯ï¼š</p><p>åœ¨ <code>AuthenticationEntryPoint</code> æ¥å£ä¸­æœ‰ä¸€ä¸ªæ–¹æ³•ï¼š<code>commence</code></p><p>åœ¨ <code>LoginUrlAuthenticationEntryPoint</code> ä¸­å®ç°æ–¹å¼ä¸ºï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">commence</span><span class="params">(HttpServletRequest request, HttpServletResponse response, AuthenticationException authException)</span> <span class="keyword">throws</span> IOException, ServletException </span>&#123;</span><br><span class="line">    String redirectUrl = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">this</span>.useForward) &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">this</span>.forceHttps &amp;&amp; <span class="string">&quot;http&quot;</span>.equals(request.getScheme())) &#123;</span><br><span class="line">            redirectUrl = <span class="keyword">this</span>.buildHttpsRedirectUrlForRequest(request);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (redirectUrl == <span class="keyword">null</span>) &#123;</span><br><span class="line">            String loginForm = <span class="keyword">this</span>.determineUrlToUseForThisRequest(request, response, authException);</span><br><span class="line">            <span class="keyword">if</span> (logger.isDebugEnabled()) &#123;</span><br><span class="line">                logger.debug(<span class="string">&quot;Server side forward to: &quot;</span> + loginForm);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            RequestDispatcher dispatcher = request.getRequestDispatcher(loginForm);</span><br><span class="line">            dispatcher.forward(request, response);</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        redirectUrl = <span class="keyword">this</span>.buildRedirectUrlToLoginPage(request, response, authException);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">this</span>.redirectStrategy.sendRedirect(request, response, redirectUrl);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™æ®µä»£ç ä¸­æœ€ä¸»è¦çš„æ˜¯çœ‹ä¸€ä¸‹ <strong>useForward</strong> çš„é»˜è®¤å€¼ï¼Œå¦‚æœæ˜¯ <strong>true</strong>ï¼Œé‚£ä¹ˆé»˜è®¤å°±æ˜¯èµ°è½¬å‘ï¼›å¦‚æœæ˜¯ <strong>false</strong>ï¼Œé‚£ä¹ˆé»˜è®¤èµ°çš„å°±æ˜¯é‡å®šå‘</p><p>ä½¿å‡ºæ–­ç‚¹è°ƒè¯•å¤§æ³•ï¼š</p><ul><li>åœ¨ <strong>Postman</strong> ä¸­ç›´æ¥ä½¿ç”¨ <strong>GET</strong> æ–¹å¼è¯·æ±‚ï¼šlocalhost:8080/security</li></ul><p><img src="https://gitee.com/wonderfuleight/blogImg/raw/master//20200930141616.png" class="lazyload" data-srcset="https://gitee.com/wonderfuleight/blogImg/raw/master//20200930141616.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="image-20200930141614962"></p><p>æ­¤æ–¹æ³•åœ¨ç¬¬ä¸€èŠ‚ä¸­å·²ç»å†™è¿‡äº†ï¼Œå°±æ˜¯è¾“å‡ºä¸€ä¸ª <strong>Spring Security</strong></p><ul><li>åœ¨æ–¹æ³•å†…æ‰“ä¸Šæ–­ç‚¹</li></ul><p><img src="https://gitee.com/wonderfuleight/blogImg/raw/master//20200930141514.png" class="lazyload" data-srcset="https://gitee.com/wonderfuleight/blogImg/raw/master//20200930141514.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="image-20200930141512452"></p><p>ä»ä¸Šé¢çš„å›¾å°±å¯ä»¥çœ‹è§ï¼Œ<strong>useForward</strong> çš„é»˜è®¤å€¼æ˜¯ <strong>false</strong>ï¼Œé‚£ä¹ˆå°±å¯ä»¥ç¡®å®šæ˜¯èµ°çš„é‡å®šå‘</p><p>åªéœ€è¦é‡å†™è¯¥æ–¹æ³•è¦†ç›–å®ƒå°±è¡Œï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">.exceptionHandling()</span><br><span class="line">.authenticationEntryPoint((req, resp, authException) -&gt; &#123;</span><br><span class="line">    resp.setContentType(<span class="string">&quot;application/json;charset=utf-8&quot;</span>);</span><br><span class="line">    PrintWriter out = resp.getWriter();</span><br><span class="line">    out.write(<span class="string">&quot;å°šæœªç™»å½•ï¼Œè¯·å…ˆç™»å½•&quot;</span>);</span><br><span class="line">    out.flush();</span><br><span class="line">    out.close();</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/wonderfuleight/blogImg/raw/master//20200930164934.png" class="lazyload" data-srcset="https://gitee.com/wonderfuleight/blogImg/raw/master//20200930164934.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="image-20200930143626120"></p>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;/assets/css/APlayer.min.css&quot;&gt;&lt;script src=&quot;/assets/js/APlayer.min.js&quot; cla</summary>
      
    
    
    
    <category term="Spring BootçœŸçš„é¦™ç³»åˆ—" scheme="http://wangba.me/categories/Spring-Boot%E7%9C%9F%E7%9A%84%E9%A6%99%E7%B3%BB%E5%88%97/"/>
    
    
    <category term="Spring Boot" scheme="http://wangba.me/tags/Spring-Boot/"/>
    
    <category term="Spring Security" scheme="http://wangba.me/tags/Spring-Security/"/>
    
  </entry>
  
</feed>
