<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>wangba's blogs</title><meta name="description" content="è¾å»å·²æ— å¹´å°‘æ—¥,ç¾ç»Šæ°¸ç»“å°‘å¹´å¿ƒ"><meta name="author" content="wangba"><meta name="copyright" content="wangba"><meta name="format-detection" content="telephone=no"><link rel="shortcut icon" href="/img/favicon.ico"><link rel="canonical" href="http://wangba.me/"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//fonts.googleapis.com" crossorigin="crossorigin"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><meta property="og:type" content="website"><meta property="og:title" content="wangba's blogs"><meta property="og:url" content="http://wangba.me/"><meta property="og:site_name" content="wangba's blogs"><meta property="og:description" content="è¾å»å·²æ— å¹´å°‘æ—¥,ç¾ç»Šæ°¸ç»“å°‘å¹´å¿ƒ"><meta property="og:image" content="http://wangba.me/img/wangba.jpeg"><meta property="article:published_time" content="2020-09-27T11:03:21.464Z"><meta property="article:modified_time" content="2020-09-27T11:03:21.464Z"><meta name="twitter:card" content="summary"><script>var activateDarkMode = function () {
  document.documentElement.setAttribute('data-theme', 'dark')
  if (document.querySelector('meta[name="theme-color"]') !== null) {
    document.querySelector('meta[name="theme-color"]').setAttribute('content', '#000')
  }
}
var activateLightMode = function () {
  document.documentElement.setAttribute('data-theme', 'light')
  if (document.querySelector('meta[name="theme-color"]') !== null) {
    document.querySelector('meta[name="theme-color"]').setAttribute('content', '#fff')
  }
}

var getCookies = function (name) {
  const value = `; ${document.cookie}`
  const parts = value.split(`; ${name}=`)
  if (parts.length === 2) return parts.pop().split(';').shift()
}

var autoChangeMode = 'false'
var t = getCookies('theme')
if (autoChangeMode === '1') {
  var isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
  var isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
  var isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
  var hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

  if (t === undefined) {
    if (isLightMode) activateLightMode()
    else if (isDarkMode) activateDarkMode()
    else if (isNotSpecified || hasNoSupport) {
      console.log('You specified no preference for a color scheme or your browser does not support it. I Schedule dark mode during night time.')
      var now = new Date()
      var hour = now.getHours()
      var isNight = hour <= 6 || hour >= 18
      isNight ? activateDarkMode() : activateLightMode()
    }
    window.matchMedia('(prefers-color-scheme: dark)').addListener(function (e) {
      if (Cookies.get('theme') === undefined) {
        e.matches ? activateDarkMode() : activateLightMode()
      }
    })
  } else if (t === 'light') activateLightMode()
  else activateDarkMode()
} else if (autoChangeMode === '2') {
  now = new Date()
  hour = now.getHours()
  isNight = hour <= 6 || hour >= 18
  if (t === undefined) isNight ? activateDarkMode() : activateLightMode()
  else if (t === 'light') activateLightMode()
  else activateDarkMode()
} else {
  if (t === 'dark') activateDarkMode()
  else if (t === 'light') activateLightMode()
}</script><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web&amp;display=swap"><script>var GLOBAL_CONFIG = { 
  root: '/',
  hexoversion: '5.0.2',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"æ‰¾ä¸åˆ°æ‚¨æŸ¥è¯¢çš„å†…å®¹ï¼š${query}"}},
  translate: undefined,
  noticeOutdate: undefined,
  copy: {
    success: 'å¤åˆ¶æˆåŠŸ',
    error: 'å¤åˆ¶é”™è¯¯',
    noSupport: 'æµè§ˆå™¨ä¸æ”¯æŒ'
  },
  bookmark: {
    message_prev: 'æŒ‰',
    message_next: 'é”®å°†æœ¬é¡µåŠ å…¥ä¹¦ç­¾'
  },
  runtime_unit: 'å¤©',
  runtime: false,
  copyright: undefined,
  ClickShowText: undefined,
  medium_zoom: false,
  fancybox: true,
  Snackbar: undefined,
  justifiedGallery: {
    js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
    css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
  },
  baiduPush: false,
  highlightCopy: true,
  highlightLang: true,
  isPhotoFigcaption: false,
  islazyload: true,
  isanchor: false    
}</script><script id="config_change">var GLOBAL_CONFIG_SITE = { 
  isPost: false,
  isHome: true,
  isHighlightShrink: false,
  isSidebar: false,
  postUpdate: '2020-09-27 19:03:21'
}</script><noscript><style>
#nav {
  opacity: 1
}
.justified-gallery img {
  opacity: 1
}
</style></noscript><meta name="generator" content="Hexo 5.0.2"><link rel="alternate" href="/atom.xml" title="wangba's blogs" type="application/atom+xml">
</head><body><div id="mobile-sidebar"><div id="menu_mask"></div><div id="mobile-sidebar-menus"><div class="mobile_author_icon"><img class="avatar-img" data-lazy-src="/img/wangba.jpeg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="mobile_post_data"><div class="mobile_data_item is-center"><div class="mobile_data_link"><a href="/archives/"><div class="headline">æ–‡ç« </div><div class="length_num">23</div></a></div></div><div class="mobile_data_item is-center">      <div class="mobile_data_link"><a href="/tags/"><div class="headline">æ ‡ç­¾</div><div class="length_num">18</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div></div></div><div id="body-wrap"><header class="full_page" id="page-header" style="background-image: url(https://pic3.zhimg.com/v2-284ac248b2c81ea05e5ef09fc09a1811_r.jpg?source=1940ef5c)"><nav id="nav"><span class="pull-left" id="blog_name"><a class="blog_title" id="site-name" href="/">wangba's blogs</a></span><span class="pull-right menus"><div id="search_button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> æœç´¢</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div><span class="toggle-menu close"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></span></span></nav><div id="site-info"><h1 id="site_title">wangba's blogs</h1><div id="site_subtitle"><span id="subtitle"></span></div><div id="site_social_icons"><a class="social-icon" href="https://github.com/wonderfuleight" target="_blank" title="Github"><i class="fab fa-github"></i></a></div></div><div id="scroll_down"><i class="fas fa-angle-down scroll-down-effects"></i></div></header><main class="layout_page" id="content-inner"><div class="recent-posts" id="recent-posts"><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2020/09/27/SpringBoot%E6%95%B4%E5%90%88Spring-Security-%E4%B8%80/" title="SpringBootæ•´åˆSpring Security (ä¸€)">     <img class="post_bg" data-lazy-src="https://static2.lolwallpapers.net/2016/02/56cdbb55dcf49.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="SpringBootæ•´åˆSpring Security (ä¸€)"></a></div><div class="recent-post-info"><a class="article-title" href="/2020/09/27/SpringBoot%E6%95%B4%E5%90%88Spring-Security-%E4%B8%80/" title="SpringBootæ•´åˆSpring Security (ä¸€)">SpringBootæ•´åˆSpring Security (ä¸€)</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">å‘è¡¨äº</span><time datetime="2020-09-27T10:52:23.000Z" title="å‘è¡¨äº 2020-09-27 18:52:23">2020-09-27</time></span></div><div class="content">ä¸€ã€OverViewJava ä¸­æƒé™ç®¡ç†æœ€å¸¸ç”¨çš„æŠ€æœ¯åº”è¯¥å°±æ˜¯ï¼šSpring Security å’Œ Shiroã€‚
è™½ç„¶ Shiro ç”¨å®ƒè½»é‡ã€ç®€å•ã€æ˜“äºé›†æˆå æ®ä¸€å¸­ä¹‹åœ°ï¼Œä½†éšç€ SpringBoot çš„æµè¡Œï¼ŒSpring Security ä¹Ÿè·Ÿç€é¸¡çŠ¬å‡å¤©ï¼Œå°±ç›®å‰çš„è¶‹åŠ¿æ¥çœ‹ï¼ŒSpring Security ç»“åˆ Oauth2ã€JWT ç­‰æ›´åŠ æ–¹ä¾¿ã€‚
è¿™æ¬¡å…ˆå°è¯•ç‰›åˆ€ä¸€ä¸‹ï¼Œå¿«é€Ÿå…¥é—¨â€¦â€¦
äºŒã€Environmentä¸æƒ³ error ï¼Œå…ˆçœ‹ä¾èµ–


æ²¡çœ‹é”™ï¼Œå°±åªéœ€è¦è¿™ä¸¤ä¸ªä¾èµ–å°±è¡Œ

pom.xml 
12345678910&lt;!--security--&gt;&lt;dependency&gt;    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;    &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;&lt;/dependency&gt;&lt;!--web--&gt;&lt;dependency&gt;    &lt;groupId&gt;org. ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2020/09/22/SpringBoot%E6%95%B4%E5%90%88Session/" title="SpringBootæ•´åˆSession">     <img class="post_bg" data-lazy-src="https://w.wallhaven.cc/full/r2/wallhaven-r2od9w.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="SpringBootæ•´åˆSession"></a></div><div class="recent-post-info"><a class="article-title" href="/2020/09/22/SpringBoot%E6%95%B4%E5%90%88Session/" title="SpringBootæ•´åˆSession">SpringBootæ•´åˆSession</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">å‘è¡¨äº</span><time datetime="2020-09-22T13:43:13.000Z" title="å‘è¡¨äº 2020-09-22 21:43:13">2020-09-22</time></span></div><div class="content">ä¸€ã€OverView
Spring Session has the simple goal of free up session management from the limitations of the HTTP session stored in the server.
The solution makes it easy to share session data between services in the cloud without being tied to a single container (i.e. Tomcat). Additionally, it supports multiple sessions in the same browser and sending sessions in a header.

ç®€å•åœ°æ¥è¯´ï¼šç”±æ¶æ„å¯¼è‡´äº†è¿™ç§æƒ…å†µçš„å‘ç”Ÿ
present 

æœ€æ—©çš„æ¶æ„å°±æ˜¯å¾ˆç®€å•çš„å•æœåŠ¡å™¨çŠ¶æ€ï¼Œå¦‚æœæˆ‘ä»¬è¦ä¿å­˜ç”¨æˆ·çŠ¶æ€ï¼Œé‚£ä¹ˆåªéœ€è¦ä¸€ä¸ª session å°±è¡Œäº†
now 

ç°åœ¨çš„æ¶æ„éƒ½æ˜¯é›†ç¾¤å¼äº†ï¼šå¯ä»¥å‡è®¾è¿™æ ·çš„æƒ…æ™¯ï¼Œå¦‚æœæˆ‘åœ¨å·²ç»ç™»å½•çš„çŠ¶æ€ï¼Œæˆ‘é¦–å…ˆè¦çœ‹è§†é¢‘ ...</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2020/09/16/SpringBoot%E6%95%B4%E5%90%88Redis/" title="SpringBootæ•´åˆRedis">     <img class="post_bg" data-lazy-src="https://w.wallhaven.cc/full/kw/wallhaven-kwpzj6.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="SpringBootæ•´åˆRedis"></a></div><div class="recent-post-info"><a class="article-title" href="/2020/09/16/SpringBoot%E6%95%B4%E5%90%88Redis/" title="SpringBootæ•´åˆRedis">SpringBootæ•´åˆRedis</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">å‘è¡¨äº</span><time datetime="2020-09-16T13:34:57.000Z" title="å‘è¡¨äº 2020-09-16 21:34:57">2020-09-16</time></span></div><div class="content">ä¸€ã€OverViewé¢è¯•å®˜ï¼šredis çŸ¥é“å—
ğŸ¢ï¼šä¸çŸ¥é“
é¢è¯•å®˜ï¼šä½ å›å»ç­‰é€šçŸ¥å§

Redisæ˜¯ä¸€ä¸ªä½¿ç”¨ANSI Cç¼–å†™çš„å¼€æºã€æ”¯æŒç½‘ç»œã€åŸºäºå†…å­˜ã€å¯é€‰æŒä¹…æ€§çš„é”®å€¼å¯¹å­˜å‚¨æ•°æ®åº“ã€‚ä»2015å¹´6æœˆå¼€å§‹ï¼ŒRedisçš„å¼€å‘ç”±Redis LabsèµåŠ©ï¼Œè€Œ2013å¹´5æœˆè‡³2015å¹´6æœˆæœŸé—´ï¼Œå…¶å¼€å‘ç”±PivotalèµåŠ©ã€‚åœ¨2013å¹´5æœˆä¹‹å‰ï¼Œå…¶å¼€å‘ç”±VMwareèµåŠ©ã€‚https://zh.wikipedia.org/wiki/Redis#cite_note-5)æ ¹æ®æœˆåº¦æ’è¡Œç½‘ç«™DB-Engines.comçš„æ•°æ®ï¼ŒRedisæ˜¯æœ€æµè¡Œçš„é”®å€¼å¯¹å­˜å‚¨æ•°æ®åº“ã€‚                                                           â€”â€”â€“ç»´åŸºç™¾ç§‘

æˆ‘è®°å¾—æˆ‘çœ‹è¿‡ä¸€ç¯‡è®²çš„éå¸¸å¥½çš„ NoSQL çš„æ–‡ç« ï¼Œä¸‹æ¬¡æ‰¾åˆ°åŠ è¿›æ¥ã€‚
å¢åŠ ï¼šå…³ç³»å‹æ•°æ®åº“ä¸éå…³ç³»å‹æ•°æ®åº“
äºŒã€ç¯å¢ƒæ­å»ºRedis
é¦–å…ˆå‡†å¤‡å¥½ redis çš„ç¯å¢ƒï¼Œæ­¤æ¬¡ redis æ˜¯å®‰è£…åœ¨ Ubuntu 18.04 ä¸Šçš„ï¼Œä¸»è¦é…ç½®å¦‚ä¸‹ï¼š
å¯ä»¥ä½¿ç”¨ sudo vi /etc/redis/redis.conf å‘½ä»¤ï¼š
1 ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2020/09/15/%E9%93%81%E6%B0%8F%E7%8E%8B%E6%9C%9D%E6%BB%A1%E6%B1%89%E5%85%A8%E5%B8%AD-919/" title="é“æ°ç‹æœæ»¡æ±‰å…¨å¸­ 919">     <img class="post_bg" data-lazy-src="https://cp1.douguo.com/upload/caiku/2/1/3/yuan_21d590844c9c1966f2e14e0756bc3383.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="é“æ°ç‹æœæ»¡æ±‰å…¨å¸­ 919"></a></div><div class="recent-post-info"><a class="article-title" href="/2020/09/15/%E9%93%81%E6%B0%8F%E7%8E%8B%E6%9C%9D%E6%BB%A1%E6%B1%89%E5%85%A8%E5%B8%AD-919/" title="é“æ°ç‹æœæ»¡æ±‰å…¨å¸­ 919">é“æ°ç‹æœæ»¡æ±‰å…¨å¸­ 919</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">å‘è¡¨äº</span><time datetime="2020-09-15T13:23:00.000Z" title="å‘è¡¨äº 2020-09-15 21:23:00">2020-09-15</time></span></div><div class="content">919 é“æ°ç‹æœæ»¡æ±‰å…¨å¸­ v1.3

æ¸…è’¸å¤§é—¸èŸ¹  5åª
ææ–™ï¼š









é˜³æ¾„æ¹–å¤§é—¸èŸ¹
ç”Ÿå§œ


è’œç“£
é¦™è‘±


ç´«è‹
ç”ŸæŠ½


é¦™é†‹
æ–™é…’


é¦™æ²¹
é¸¡ç²¾


ç³–



å¯ä¹é¸¡ç¿…
ææ–™ï¼š




é¸¡ç¿…10ä¸ª
å¯ä¹300æ¯«å‡



è€æŠ½1å‹º
ç›ï¼Œé¸¡ç²¾é€‚é‡


è‘±å§œï¼Œå…«è§’é€‚é‡



ç³–é†‹æ’éª¨
ææ–™ï¼š




çŒªè‚‹æ’500å…‹
è‘±é€‚é‡



å§œé€‚é‡
å…«è§’2ä¸ª


è€æŠ½2å‹º
ç”ŸæŠ½2å‹º


ç™½ç³–3å‹º
é¦™é†‹4å‹º


æ–™é…’5å‹º
ç†Ÿç™½èŠéº»é€‚é‡


éº»è¾£å°é¾™è™¾
ææ–™ï¼š




å°é¾™è™¾30æ–¤
é¦™è‘±é€‚é‡



å§œé€‚é‡
è’œé€‚é‡


å¤§è‘±é€‚é‡
æ¡‚çš®é€‚é‡


å…«è§’é€‚é‡
é¦™å¶é€‚é‡


ç´«è‹é€‚é‡
å°ç±³æ¤’é€‚é‡


å†°ç³–é€‚é‡
è—•æ¡é€‚é‡


é’æ¤’é€‚é‡
çº¢æ²¹ç«é”…åº•æ–™é€‚é‡


è±†ç“£é…±é€‚é‡
æ·€ç²‰é€‚é‡


ç™½èŠéº»é€‚é‡



èŠå£«åŸ¹æ ¹æ³¡èœå·
ææ–™ï¼š

è’œè“‰é‡‘é’ˆè‡
ææ–™ï¼š




é‡‘é’ˆè‡1æŠŠ
è’œä¸€å¤´



é£Ÿç”¨æ²¹é€‚é‡
é…±æ²¹4å‹º


èšæ²¹2å‹º
å°è‘±4æ ¹


é¸¡ç²¾é€‚é‡
ç³–


ç›



é…’é…¿å°æ±¤åœ†å†²é¸¡è›‹
ææ–™ï¼š

å§œæ’å¥¶
ææ–™ï¼š




è€å§œ1å¤§å—
çº¯ç‰›å¥¶200æ¯«å‡



ç»†ç ‚ç³–é€‚é‡
è”“è¶Šè“å¹²å°‘è®¸


</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2020/09/14/SpringBoot%E6%95%B4%E5%90%88Spring-Data-JPA-%E4%B9%8B%E5%A4%9A%E6%9D%A1%E4%BB%B6%E6%90%9C%E7%B4%A2%E5%B7%A5%E5%85%B7%E7%B1%BB/" title="SpringBootæ•´åˆSpring Data JPA ä¹‹å¤šæ¡ä»¶æœç´¢å·¥å…·ç±»">     <img class="post_bg" data-lazy-src="https://w.wallhaven.cc/full/ne/wallhaven-ne1l6l.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="SpringBootæ•´åˆSpring Data JPA ä¹‹å¤šæ¡ä»¶æœç´¢å·¥å…·ç±»"></a></div><div class="recent-post-info"><a class="article-title" href="/2020/09/14/SpringBoot%E6%95%B4%E5%90%88Spring-Data-JPA-%E4%B9%8B%E5%A4%9A%E6%9D%A1%E4%BB%B6%E6%90%9C%E7%B4%A2%E5%B7%A5%E5%85%B7%E7%B1%BB/" title="SpringBootæ•´åˆSpring Data JPA ä¹‹å¤šæ¡ä»¶æœç´¢å·¥å…·ç±»">SpringBootæ•´åˆSpring Data JPA ä¹‹å¤šæ¡ä»¶æœç´¢å·¥å…·ç±»</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">å‘è¡¨äº</span><time datetime="2020-09-14T12:21:20.000Z" title="å‘è¡¨äº 2020-09-14 20:21:20">2020-09-14</time></span></div><div class="content">ä¸€ã€OverViewâ€‹        åœ¨å‰é¢å·²ç»ä»‹ç»è¿‡äº† SpringBoot æ•´åˆ JPA äº†ï¼Œä½†æ˜¯ä¸€èˆ¬åœ¨å…¬å¸ä¸šåŠ¡ä¸­ï¼Œå¦‚æœå‡ºç°å¾ˆå¤šæ¬¡å¤šæ¡ä»¶æœç´¢æŸ¥è¯¢çš„æƒ…å†µï¼Œé‚£ä¹ˆå°±ä¼šç”¨å¤§é‡å†—ä½™ä»£ç äº†ï¼›å†ç»“åˆæ³¨è§£çš„æ€æƒ³ã€‚æœ¬æ¬¡å°†å…¬å…±éƒ¨åˆ†æå–å‡ºæ¥ï¼Œå¹¶ç”¨æ³¨è§£çš„æ–¹å¼è¿›è¡Œæ“ä½œï¼Œå¯ä»¥å‚è€ƒå‰é¢ä½¿ç”¨æ³¨è§£è¿›è¡Œ AOP å¤„ç†æ—¥å¿—ï¼Œä¹Ÿç¬¦åˆäº† SpringBoot çš„æ€æƒ³ã€‚
äºŒã€BaseQueryQueryWord 
12345678910111213141516171819@Target(ElementType.FIELD)@Retention(RetentionPolicy.RUNTIME)public @interface QueryWord &#123;    // æ•°æ®åº“ä¸­å­—æ®µå,é»˜è®¤ä¸ºç©ºå­—ç¬¦ä¸²,åˆ™Queryç±»ä¸­çš„å­—æ®µè¦ä¸æ•°æ®åº“ä¸­å­—æ®µä¸€è‡´    String column() default &quot;&quot;;    // equal, like, gt, lt...    MatchType func() default MatchType.equal;    // objectæ˜¯å¦å¯ä»¥ä¸ºnull    bo ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2020/09/10/SpringBoot%E6%95%B4%E5%90%88Spring-Data-JPA-%E4%BA%8C/" title="SpringBootæ•´åˆSpring Data JPA(äºŒ)">     <img class="post_bg" data-lazy-src="https://w.wallhaven.cc/full/mp/wallhaven-mpj7d1.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="SpringBootæ•´åˆSpring Data JPA(äºŒ)"></a></div><div class="recent-post-info"><a class="article-title" href="/2020/09/10/SpringBoot%E6%95%B4%E5%90%88Spring-Data-JPA-%E4%BA%8C/" title="SpringBootæ•´åˆSpring Data JPA(äºŒ)">SpringBootæ•´åˆSpring Data JPA(äºŒ)</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">å‘è¡¨äº</span><time datetime="2020-09-10T10:38:46.000Z" title="å‘è¡¨äº 2020-09-10 18:38:46">2020-09-10</time></span></div><div class="content">ä¸€ã€OverViewâ€‹        åœ¨ä¸Šä¸€ç¯‡æ–‡ç« ä¸­ä»‹ç»äº†ä¸€ä¸‹ Spring Data JPA çš„ä¸€ä¸‹ç®€å•çš„ CRUDï¼Œä½†æ˜¯åœ¨å…¬å¸ä¸šåŠ¡ä¸­ï¼Œä¸å¯èƒ½è¿™ä¹ˆç®€å•ï¼›ä¸”åœ¨ä¸šåŠ¡ä¸­å¤§éƒ¨åˆ†éƒ½æ˜¯æŸ¥è¯¢ä¸šåŠ¡ï¼Œå…·ä½“ç‚¹å°±æ˜¯åŠ¨æ€æŸ¥è¯¢ï¼Œä»€ä¹ˆå•è¡¨å¤šæ¡ä»¶æŸ¥è¯¢ã€å¤šè¡¨å¤šæ¡ä»¶æŸ¥è¯¢ç­‰ç­‰â€¦â€¦    

æ³¨ï¼šä½¿ç”¨ç¯å¢ƒè¿˜æ˜¯å’Œä¸Šä¸€ç¯‡ä¸€æ ·

äºŒã€è‡ªå®šä¹‰SQLæŸ¥è¯¢å¦‚æœæƒ³å’Œè¿™é‡Œé¢å†™åŸç”Ÿçš„ SQL è¯­å¥ï¼Œåªè¦åœ¨ repository ä¸­è¿™æ ·å†™å°±è¡Œï¼š
123@Query(nativeQuery = true,        value = &quot;select * from Student where id = ?1&quot;)Student catchAllById(Long id);


æ³¨ï¼š

å¦‚æœè¦å†™åŸç”Ÿ SQLï¼Œ@Query æ³¨è§£ä¸­çš„ nativeQuery è¦è®¾ç½®ä¸º trueï¼Œé»˜è®¤ä¸º false
å‡½æ•°åè®¾ç½®çš„ä¸èƒ½ä¸è‡ªå¸¦çš„å†²çªï¼Œä¾‹å¦‚ï¼šfindByIdï¼Œå¦‚æœè®¾ç½®äº†ä¸€æ ·ï¼Œå°±ä¼šå¯¼è‡´ä½¿ç”¨çš„è‡ªå¸¦çš„ API è¿›è¡ŒæŸ¥è¯¢ï¼Œè€Œä¸æ˜¯è‡ªå®šä¹‰çš„ï¼Œå¦‚æœçœŸçš„æƒ³ä½¿ç”¨è‡ªå®šä¹‰è¦†ç›–è‡ªå¸¦çš„ï¼Œå¯ä»¥åœ¨å®ä½“ç±»ä¸Šä½¿ç”¨ @NamedQueries æ³¨è§£


åœ¨è¿™é‡Œæˆ‘ä»¬å°±ä½¿ç”¨ @ ...</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2020/09/10/SpringBoot%E6%95%B4%E5%90%88Spring-Data-JPA-%E4%B8%80/" title="SpringBootæ•´åˆSpring Data JPA(ä¸€)">     <img class="post_bg" data-lazy-src="https://w.wallhaven.cc/full/vg/wallhaven-vgwzwp.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="SpringBootæ•´åˆSpring Data JPA(ä¸€)"></a></div><div class="recent-post-info"><a class="article-title" href="/2020/09/10/SpringBoot%E6%95%B4%E5%90%88Spring-Data-JPA-%E4%B8%80/" title="SpringBootæ•´åˆSpring Data JPA(ä¸€)">SpringBootæ•´åˆSpring Data JPA(ä¸€)</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">å‘è¡¨äº</span><time datetime="2020-09-10T10:38:30.000Z" title="å‘è¡¨äº 2020-09-10 18:38:30">2020-09-10</time></span></div><div class="content">ä¸€ã€OverView
JPA(Java Persistence API)æ˜¯Sunå®˜æ–¹æå‡ºçš„JavaæŒä¹…åŒ–è§„èŒƒã€‚å®ƒä¸ºJavaå¼€å‘äººå‘˜æä¾›äº†ä¸€ç§å¯¹è±¡/å…³è”æ˜ å°„å·¥å…·æ¥ç®¡ç†Javaåº”ç”¨ä¸­çš„å…³ç³»æ•°æ®ã€‚

Spring Data JPA æ˜¯ Spring åŸºäº ORM æ¡†æ¶ã€JPA è§„èŒƒçš„åŸºç¡€ä¸Šå°è£…çš„ä¸€å¥—JPAåº”ç”¨æ¡†æ¶ï¼Œå¯ä½¿å¼€å‘è€…ç”¨æç®€çš„ä»£ç å³å¯å®ç°å¯¹æ•°æ®çš„è®¿é—®å’Œæ“ä½œã€‚å®ƒæä¾›äº†åŒ…æ‹¬å¢åˆ æ”¹æŸ¥ç­‰åœ¨å†…çš„å¸¸ç”¨åŠŸèƒ½ï¼Œä¸”æ˜“äºæ‰©å±•ï¼å­¦ä¹ å¹¶ä½¿ç”¨ Spring Data JPA å¯ä»¥æå¤§æé«˜å¼€å‘æ•ˆç‡ï¼

spring data jpaè®©æˆ‘ä»¬è§£è„±äº†DAOå±‚çš„æ“ä½œï¼ŒåŸºæœ¬ä¸Šæ‰€æœ‰CRUDéƒ½å¯ä»¥ä¾èµ–äºå®ƒæ¥å®ç°

äºŒã€ç¯å¢ƒæ­å»ºpom.xml
1234567891011121314&lt;dependency&gt;    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;    &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;&lt;/dependency&gt;&lt;dependen ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2020/09/09/SpringBoot%E6%95%B4%E5%90%88MyBatis/" title="SpringBootæ•´åˆMyBatis">     <img class="post_bg" data-lazy-src="https://images.unsplash.com/photo-1599454276943-fd506b0057f0?ixlib=rb-1.2.1&amp;ixid=eyJhcHBfaWQiOjEyMDd9&amp;auto=format&amp;fit=crop&amp;w=1950&amp;q=80" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="SpringBootæ•´åˆMyBatis"></a></div><div class="recent-post-info"><a class="article-title" href="/2020/09/09/SpringBoot%E6%95%B4%E5%90%88MyBatis/" title="SpringBootæ•´åˆMyBatis">SpringBootæ•´åˆMyBatis</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">å‘è¡¨äº</span><time datetime="2020-09-09T07:52:44.000Z" title="å‘è¡¨äº 2020-09-09 15:52:44">2020-09-09</time></span></div><div class="content">ä¸€ã€OverViewâ€‹    åœ¨ä¸Šç¯‡æ–‡ç« ä¸­å·²ç»ç®€å•çš„å†™è¿‡ SpringBoot æ•´åˆ JDBCTemplate äº†ï¼Œä½†æ˜¯ç°åœ¨çš„å…¬å¸åº”è¯¥å¾ˆå°‘æœ‰ç”¨ JDBCTemplateï¼Œå›½å†…ä¸€èˆ¬éƒ½æ˜¯ MyBatis æˆ–è€…æ˜¯ Spring Data JPAï¼Œåœ¨æœ¬ç¯‡æ–‡ç« ä¸­å°±æ¥æ•´åˆä¸€ä¸‹ MyBatisã€‚
äºŒã€ç¯å¢ƒæ­å»ºæ–°å»º SpringBoot é¡¹ç›®ï¼Œé€‰ä¸Š Webã€MySQLï¼Œåœ¨ pom.xml  ä¸­é…ç½®ä¸€ä¸‹æ•°æ®åº“è¿æ¥æ± ï¼š
pom.xml:  
12345678910111213141516171819&lt;dependency&gt;    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;&lt;/dependency&gt;&lt;dependency&gt;    &lt;groupId&gt;org.mybatis.spring.boot&lt;/groupId&gt;    &lt;artifactId&gt; ...</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2020/09/08/SpringBoot%E6%95%B4%E5%90%88JDBCTemplate/" title="SpringBootæ•´åˆJDBCTemplate">     <img class="post_bg" data-lazy-src="https://images.unsplash.com/photo-1599551528722-6b6d968512a2?ixlib=rb-1.2.1&amp;ixid=eyJhcHBfaWQiOjEyMDd9&amp;auto=format&amp;fit=crop&amp;w=1950&amp;q=80" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="SpringBootæ•´åˆJDBCTemplate"></a></div><div class="recent-post-info"><a class="article-title" href="/2020/09/08/SpringBoot%E6%95%B4%E5%90%88JDBCTemplate/" title="SpringBootæ•´åˆJDBCTemplate">SpringBootæ•´åˆJDBCTemplate</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">å‘è¡¨äº</span><time datetime="2020-09-08T11:33:14.000Z" title="å‘è¡¨äº 2020-09-08 19:33:14">2020-09-08</time></span></div><div class="content">ä¸€ã€ç¯å¢ƒæ­å»º1. å¼•å…¥ä¾èµ–1234567891011121314151617181920212223242526272829303132333435363738// WEB&lt;dependency&gt;  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;  &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;&lt;/dependency&gt;//  JDBC &lt;dependency&gt;    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;    &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;&lt;/dependency&gt;// ä½¿ç”¨ Swagger è¿›è¡Œæ¥å£æµ‹è¯•&lt;dependency&gt;  &lt;groupId&gt;io.springfox&lt;/groupId&gt;  &lt ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2020/09/04/0076-Minimum-Window-Substring/" title="0076.Minimum Window Substring">     <img class="post_bg" data-lazy-src="https://w.wallhaven.cc/full/wy/wallhaven-wyzxvr.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="0076.Minimum Window Substring"></a></div><div class="recent-post-info"><a class="article-title" href="/2020/09/04/0076-Minimum-Window-Substring/" title="0076.Minimum Window Substring">0076.Minimum Window Substring</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">å‘è¡¨äº</span><time datetime="2020-09-04T13:56:11.000Z" title="å‘è¡¨äº 2020-09-04 21:56:11">2020-09-04</time></span></div><div class="content">ä¸€å¤©ä¸€é“åŠ›æ‰£é¢˜ï¼Œå—¤ä¹‹ä»¥é¼»ï¼ŒåŠä¿¡åŠç–‘ï¼Œç™¾æ„Ÿäº¤é›†ï¼Œå…³é—¨å¤§å‰ï¼Œskr skr ! ! !</div></div></div><nav id="pagination"><div class="pagination"><span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/2/"><i class="fas fa-chevron-right fa-fw"></i></a></div></nav></div><div class="aside_content" id="aside_content"><div class="card-widget card-info"><div class="card-content"><div class="card-info-avatar is-center"><img class="avatar-img" data-lazy-src="/img/wangba.jpeg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/><div class="author-info__name">wangba</div><div class="author-info__description">è¾å»å·²æ— å¹´å°‘æ—¥,ç¾ç»Šæ°¸ç»“å°‘å¹´å¿ƒ</div></div><div class="card-info-data"><div class="card-info-data-item is-center"><a href="/archives"><div class="headline">æ–‡ç« </div><div class="length_num">23</div></a></div><div class="card-info-data-item is-center">      <a href="/tags"><div class="headline">æ ‡ç­¾</div><div class="length_num">18</div></a></div></div><a class="button--animated" id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/wonderfuleight"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/wonderfuleight" target="_blank" title="Github"><i class="fab fa-github"></i></a></div></div></div><div class="card-widget card-tags"><div class="card-content"><div class="item-headline"><i class="fas fa-tags"></i><span>æ ‡ç­¾</span></div><div class="card-tag-cloud"><a href="/tags/Array/" style="font-size: 16px; color: #999">Array</a> <a href="/tags/CookBook/" style="font-size: 16px; color: #999">CookBook</a> <a href="/tags/ES/" style="font-size: 16px; color: #999">ES</a> <a href="/tags/JSON/" style="font-size: 16px; color: #999">JSON</a> <a href="/tags/Java/" style="font-size: 20.5px; color: #99a5b6">Java</a> <a href="/tags/Leetcode/" style="font-size: 19px; color: #99a1ac">Leetcode</a> <a href="/tags/Life/" style="font-size: 16px; color: #999">Life</a> <a href="/tags/MySQL/" style="font-size: 19px; color: #99a1ac">MySQL</a> <a href="/tags/NoSQL/" style="font-size: 16px; color: #999">NoSQL</a> <a href="/tags/SQL/" style="font-size: 17.5px; color: #999da3">SQL</a> <a href="/tags/Session/" style="font-size: 16px; color: #999">Session</a> <a href="/tags/Sliding-Window/" style="font-size: 17.5px; color: #999da3">Sliding Window</a> <a href="/tags/Spring-Security/" style="font-size: 16px; color: #999">Spring Security</a> <a href="/tags/SpringBoot/" style="font-size: 22px; color: #99a9bf">SpringBoot</a> <a href="/tags/String/" style="font-size: 17.5px; color: #999da3">String</a> <a href="/tags/Two-pointer/" style="font-size: 16px; color: #999">Two pointer</a> <a href="/tags/java/" style="font-size: 16px; color: #999">java</a> <a href="/tags/%E6%B3%A8%E8%A7%A3/" style="font-size: 16px; color: #999">æ³¨è§£</a></div></div></div><div class="card-widget card-archives"><div class="card-content"><div class="item-headline"><i class="fas fa-archive"></i><span>å½’æ¡£</span></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2020/09/"><span class="card-archive-list-date">ä¹æœˆ 2020</span><span class="card-archive-list-count">14</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2020/08/"><span class="card-archive-list-date">å…«æœˆ 2020</span><span class="card-archive-list-count">9</span></a></li></ul></div></div><div class="card-widget card-webinfo"><div class="card-content"><div class="item-headline"><i class="fas fa-chart-line"></i><span>ç½‘ç«™èµ„è®¯</span></div><div class="webinfo"><div class="webinfo-item"><div class="webinfo-article-name">æ–‡ç« æ•°ç›® :</div><div class="webinfo-article-count">23</div></div><div class="webinfo-item">      <div class="webinfo-site-uv-name">æœ¬ç«™è®¿å®¢æ•° :</div><div class="webinfo-site-uv-count" id="busuanzi_value_site_uv"></div></div><div class="webinfo-item"><div class="webinfo-site-name">æœ¬ç«™æ€»è®¿é—®é‡ :</div><div class="webinfo-site-pv-count" id="busuanzi_value_site_pv"></div></div></div></div></div></div></main><footer id="footer" data-type="color"><div id="footer-wrap"><div class="copyright">&copy;2020 By wangba</div><div class="framework-info"><span>æ¡†æ¶ </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>ä¸»é¢˜ </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><section id="rightside"><div id="rightside-config-hide"><button id="darkmode" type="button" title="æµ…è‰²å’Œæ·±è‰²æ¨¡å¼è½¬æ¢"><i class="fas fa-adjust"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="è®¾ç½®"><i class="fas fa-cog"></i></button><button id="go-up" type="button" title="å›åˆ°é¡¶éƒ¨"><i class="fas fa-arrow-up"></i></button></div></section><div class="search-dialog" id="local-search"><div class="search-dialog__title" id="local-search-title">æœ¬åœ°æœç´¢</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="æœç´¢æ–‡ç« " type="text"/></div></div></div><hr/><div id="local-search-results"><div id="local-hits"></div><div id="local-stats"><div class="local-search-stats__hr" id="hr"><span>ç”±</span> <a target="_blank" rel="noopener" href="https://github.com/wzpan/hexo-generator-search" style="color:#49B1F5;">hexo-generator-search</a>
 <span>æä¾›æ”¯æŒ</span></div></div></div><span class="search-close-button"><i class="fas fa-times"></i></span></div><div id="search-mask"></div><div><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module" defer></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js" async></script><script src="/js/search/local-search.js"></script><div class="js-pjax"><script>function subtitleType () {
  if (true) { 
    var typed = new Typed("#subtitle", {
      strings: "è¾å»å·²æ— å¹´å°‘æ—¥ï¼Œç¾ç»Šæ°¸ç»“å°‘å¹´å¿ƒ".split(","),
      startDelay: 300,
      typeSpeed: 150,
      loop: false,
      backSpeed: 50
    })
  } else {
    document.getElementById("subtitle").innerHTML = 'è¾å»å·²æ— å¹´å°‘æ—¥ï¼Œç¾ç»Šæ°¸ç»“å°‘å¹´å¿ƒ'
  }
}

if (true) {
  if (typeof Typed === 'function') subtitleType()
  else $.getScript('https://cdn.jsdelivr.net/npm/typed.js/lib/typed.min.js', subtitleType)
} else {
  subtitleType()
}</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><canvas class="fireworks"></canvas><script src="https://cdn.jsdelivr.net/npm/animejs@latest/anime.min.js"></script><script src="/js/third-party/fireworks.js"></script><script defer="defer" id="ribbon" src="/js/third-party/canvas-ribbon.js" size="150" alpha="0.6" zIndex="-1" mobile="false" data-click="true"></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/gh/metowolf/MetingJS@1.2/dist/Meting.min.js"></script></div></body></html>